"use strict";(this.webpackChunk=this.webpackChunk||[]).push([[7434],{8094:(t,e,a)=>{a.d(e,{Z:()=>l});var r=a(4178),n=a(658),s=a(8552);function o(t,e){var a=new s.Z({root:t.root,store:t.store,data:{className:"external-link-svg",href:"#fa-external-link"}});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},d(t){a.destroy(t)}}}function i(t){var e,a,n,s,i,l,c;if((0,r.S1)(this,t),this._state=(0,r.f0)({className:void 0,normalIconColor:!1,ariaLabel:"",showIcon:!1},t.data),this._recompute({className:1,showIcon:1,normalIconColor:1},this._state),this._intro=!0,this._slotted=t.slots||{},document.getElementById("svelte-12k587d-style")||((e=(0,r.az)("style")).id="svelte-12k587d-style",e.textContent=".external-link-with-icon.svelte-12k587d{display:inline-flex;align-items:center}.external-link-with-icon.normal-icon-color .external-link-svg{fill:var(--body-text-color)}",(0,r.R3)(document.head,e)),this._fragment=(a=this,n=this._state,l=a._slotted.default,c=n.showIcon&&o(a),{c(){s=(0,r.az)("a"),c&&c.c(),this.h()},l(t){s=(0,r.d$)(t,"A",{rel:!0,target:!0,href:!0,"aria-label":!0,class:!0},!1);var e=(0,r.pI)(s);c&&c.l(e),e.forEach(r.r2),this.h()},h(){s.rel="nofollow noopener",s.target="_blank",s.href=n.href,(0,r.P$)(s,"aria-label",n.ariaLabel),s.className=n.computedClass+" svelte-12k587d"},m(t,e){(0,r.$T)(t,s,e),l&&((0,r.R3)(s,l),(0,r.R3)(s,i||(i=(0,r.Yr)()))),c&&c.m(s,null)},p(t,e){e.showIcon?c||((c=o(a)).c(),c.m(s,null)):c&&(c.d(1),c=null),t.href&&(s.href=e.href),t.ariaLabel&&(0,r.P$)(s,"aria-label",e.ariaLabel),t.computedClass&&(s.className=e.computedClass+" svelte-12k587d")},d(t){t&&(0,r.r2)(s),l&&(0,r.LL)(i,l),c&&c.d()}}),t.target){var h=(0,r.pI)(t.target);t.hydrate?this._fragment.l(h):this._fragment.c(),h.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(i.prototype,r.uS),i.prototype._recompute=function(t,e){(t.className||t.showIcon||t.normalIconColor)&&this._differs(e.computedClass,e.computedClass=function({className:t,showIcon:e,normalIconColor:a}){return(0,n.q)("external-link",t,e&&"external-link-with-icon",a&&"normal-icon-color")}(e))&&(t.computedClass=!0)};const l=i},9150:(t,e,a)=>{a.r(e),a.d(e,{default:()=>dt});var r=a(4178),n=a(2192),s=a(1728),o=a(5524),i=a(2159),l=a(8094),c=a(3291),h=a(4124),f=a(2823);function d(t){var e,a,n,s,o,i,d,m,p,u,g,v,_,y,w,N,$,b;if((0,r.S1)(this,t),this._state=(0,r.f0)({},t.data),this._intro=!0,document.getElementById("svelte-os3gsp-style")||((e=(0,r.az)("style")).id="svelte-os3gsp-style",e.textContent='.acct-current-user.svelte-os3gsp{line-height:1.4;display:grid;align-items:center;font-size:1.3em;grid-template-areas:"avatar handle"\n      "avatar display-name";grid-template-columns:min-content 1fr;grid-column-gap:20px;grid-row-gap:10px}.acct-avatar{grid-area:avatar}.acct-handle{grid-area:handle}.acct-display-name.svelte-os3gsp{grid-area:display-name}',(0,r.R3)(document.head,e)),this._fragment=(a=this,n=this._state,g="@"+n.verifyCredentials.acct,v={account:n.verifyCredentials,size:"big"},_=new c.Z({root:a.root,store:a.store,data:v}),y={className:"acct-handle",href:n.verifyCredentials.url},w=new l.Z({root:a.root,store:a.store,slots:{default:(0,r.xJ)()},data:y}),N={account:n.verifyCredentials},$=new h.Z({root:a.root,store:a.store,data:N}),b=new f.Z({root:a.root,store:a.store}),{c(){s=(0,r.az)("div"),o=(0,r.az)("div"),_._fragment.c(),i=(0,r.rw)("\n  "),d=(0,r.rw)(g),w._fragment.c(),m=(0,r.rw)("\n  "),p=(0,r.az)("span"),$._fragment.c(),u=(0,r.rw)("\n"),b._fragment.c(),this.h()},l(t){s=(0,r.d$)(t,"DIV",{class:!0},!1);var e=(0,r.pI)(s);o=(0,r.d$)(e,"DIV",{class:!0},!1);var a=(0,r.pI)(o);_._fragment.l(a),a.forEach(r.r2),i=(0,r.M4)(e,"\n  "),d=(0,r.M4)(t,g),w._fragment.l(e),m=(0,r.M4)(e,"\n  "),p=(0,r.d$)(e,"SPAN",{class:!0},!1);var n=(0,r.pI)(p);$._fragment.l(n),n.forEach(r.r2),e.forEach(r.r2),u=(0,r.M4)(t,"\n"),b._fragment.l(t),this.h()},h(){o.className="acct-avatar",p.className="acct-display-name svelte-os3gsp",s.className="generic-instance-settings acct-current-user svelte-os3gsp"},m(t,e){(0,r.$T)(t,s,e),(0,r.R3)(s,o),_._mount(o,null),(0,r.R3)(s,i),(0,r.R3)(w._slotted.default,d),w._mount(s,null),(0,r.R3)(s,m),(0,r.R3)(s,p),$._mount(p,null),(0,r.$T)(t,u,e),b._mount(t,e)},p(t,e){var a={};t.verifyCredentials&&(a.account=e.verifyCredentials),_._set(a),t.verifyCredentials&&g!==(g="@"+e.verifyCredentials.acct)&&(0,r.a_)(d,g);var n={};t.verifyCredentials&&(n.href=e.verifyCredentials.url),w._set(n);var s={};t.verifyCredentials&&(s.account=e.verifyCredentials),$._set(s)},d(t){t&&(0,r.r2)(s),_.destroy(),w.destroy(),$.destroy(),t&&(0,r.r2)(u),b.destroy(t)}}),t.target){var I=(0,r.pI)(t.target);t.hydrate?this._fragment.l(I):this._fragment.c(),I.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(d.prototype,r.uS);const m=d;var p={onChange(t){const{instanceName:e}=this.get(),{target:a}=t;this.store.setInstanceSetting(e,a.name,a.checked)}};function u(){const{instanceName:t,options:e}=this.get(),{form:a}=this.refs;for(const{key:r,defaultValue:n}of e)a.elements[r].checked=this.store.getInstanceSetting(t,r,n)}function g(t){const{component:e}=this._svelte;e.onChange(t)}function v(t,e,a){const r=Object.create(t);return r.option=e[a],r.i=a,r}function _(t,e){var a;return{c(){a=(0,r.az)("br")},l(t){a=(0,r.d$)(t,"BR",{},!1),(0,r.pI)(a).forEach(r.r2)},m(t,e){(0,r.$T)(t,a,e)},d(t){t&&(0,r.r2)(a)}}}function y(t,e,a){var n,s,o,i,l,c,h,f,d,m=a.option.label,p=a.i>0&&_();return{key:e,first:null,c(){n=(0,r.Yr)(),p&&p.c(),s=(0,r.rw)("\n      "),o=(0,r.az)("input"),c=(0,r.rw)("\n      "),h=(0,r.az)("label"),f=(0,r.rw)(m),this.h()},l(t){n=(0,r.Yr)(),p&&p.l(t),s=(0,r.M4)(t,"\n      "),o=(0,r.d$)(t,"INPUT",{type:!0,id:!0,name:!0},!1),(0,r.pI)(o).forEach(r.r2),c=(0,r.M4)(t,"\n      "),h=(0,r.d$)(t,"LABEL",{for:!0},!1);var e=(0,r.pI)(h);f=(0,r.M4)(e,m),e.forEach(r.r2),this.h()},h(){o._svelte={component:t},(0,r.NH)(o,"change",g),(0,r.P$)(o,"type","checkbox"),o.id=i="instance-option-"+a.option.key,o.name=l=a.option.key,h.htmlFor=d="instance-option-"+a.option.key,this.first=n},m(t,e){(0,r.$T)(t,n,e),p&&p.m(t,e),(0,r.$T)(t,s,e),(0,r.$T)(t,o,e),(0,r.$T)(t,c,e),(0,r.$T)(t,h,e),(0,r.R3)(h,f)},p(t,e){e.i>0?p||((p=_()).c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null),t.options&&i!==(i="instance-option-"+e.option.key)&&(o.id=i),t.options&&l!==(l=e.option.key)&&(o.name=l),t.options&&m!==(m=e.option.label)&&(0,r.a_)(f,m),t.options&&d!==(d="instance-option-"+e.option.key)&&(h.htmlFor=d)},d(t){t&&(0,r.r2)(n),p&&p.d(t),t&&((0,r.r2)(s),(0,r.r2)(o)),(0,r.ys)(o,"change",g),t&&((0,r.r2)(c),(0,r.r2)(h))}}}function w(t){if((0,r.S1)(this,t),this.store=o.h,this.refs={},this._state=(0,r.f0)({},t.data),this._intro=!0,this._fragment=function(t,e){var a,n,s,o=[],i=(0,r.L7)(),l=e.options;const c=t=>t.option.key;for(var h=0;h<l.length;h+=1){let a=v(e,l,h),r=c(a);o[h]=i[r]=y(t,r,a)}var d=new f.Z({root:t.root,store:t.store});return{c(){for(a=(0,r.az)("div"),n=(0,r.az)("form"),h=0;h<o.length;h+=1)o[h].c();s=(0,r.rw)("\n"),d._fragment.c(),this.h()},l(t){a=(0,r.d$)(t,"DIV",{class:!0},!1);var e=(0,r.pI)(a);n=(0,r.d$)(e,"FORM",{"aria-label":!0},!1);var i=(0,r.pI)(n);for(h=0;h<o.length;h+=1)o[h].l(i);i.forEach(r.r2),e.forEach(r.r2),s=(0,r.M4)(t,"\n"),d._fragment.l(t),this.h()},h(){(0,r.P$)(n,"aria-label",e.label),a.className="generic-instance-settings"},m(e,i){for((0,r.$T)(e,a,i),(0,r.R3)(a,n),h=0;h<o.length;h+=1)o[h].m(n,null);t.refs.form=n,(0,r.$T)(e,s,i),d._mount(e,i)},p(e,a){const s=a.options;o=(0,r.$q)(o,t,e,c,1,a,s,i,n,r.pp,y,"m",null,v),e.label&&(0,r.P$)(n,"aria-label",a.label)},d(e){for(e&&(0,r.r2)(a),h=0;h<o.length;h+=1)o[h].d();t.refs.form===n&&(t.refs.form=null),e&&(0,r.r2)(s),d.destroy(e)}}}(this,this._state),this.root._oncreate.push((()=>{u.call(this),this.fire("update",{changed:(0,r.lZ)({},this._state),current:this._state})})),t.target){var e=(0,r.pI)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(w.prototype,r.uS),(0,r.f0)(w.prototype,p);const N=w;var $=a(5061);function b(t){var e,a,n,s;if((0,r.S1)(this,t),this._state=(0,r.f0)({options:[{key:$.Z3,label:"Show boosts",defaultValue:!0},{key:$.B$,label:"Show replies",defaultValue:!0}]},t.data),this._intro=!0,this._fragment=(e=this,a=this._state,n={instanceName:a.instanceName,options:a.options,label:"Home timeline filter settings"},s=new N({root:e.root,store:e.store,data:n}),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.instanceName&&(a.instanceName=e.instanceName),t.options&&(a.options=e.options),s._set(a)},d(t){s.destroy(t)}}),t.target){var o=(0,r.pI)(t.target);t.hydrate?this._fragment.l(o):this._fragment.c(),o.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(b.prototype,r.uS);const I=b;function T(t){var e,a,n,s;if((0,r.S1)(this,t),this._state=(0,r.f0)({options:[{key:$.dS,label:"New followers",defaultValue:!0},{key:$.AL,label:"Favorites",defaultValue:!0},{key:$.cT,label:"Boosts",defaultValue:!0},{key:$.M9,label:"Mentions",defaultValue:!0},{key:$.rs,label:"Poll results",defaultValue:!0},{key:$.sr,label:"Subscribed posts",defaultValue:!0}]},t.data),this._intro=!0,this._fragment=(e=this,a=this._state,n={instanceName:a.instanceName,options:a.options,label:"Notification filter settings"},s=new N({root:e.root,store:e.store,data:n}),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.instanceName&&(a.instanceName=e.instanceName),t.options&&(a.options=e.options),s._set(a)},d(t){s.destroy(t)}}),t.target){var o=(0,r.pI)(t.target);t.hydrate?this._fragment.l(o):this._fragment.c(),o.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(T.prototype,r.uS);const k=T,R=()=>Promise.all([a.e(7539),a.e(7080),a.e(5291),a.e(5565)]).then(a.bind(a,5565)).then((t=>t.default));var z=a(2307),E=a(5060),M=a(7031),C=a(85),S=a(6633);var x={async onPushSettingsChange(t){const{instanceName:e,options:a}=this.get(),{form:r}=this.refs,n={};for(const{key:o}of a)n[o]=r.elements[o].checked;try{await(0,E.u)(e,n)}catch(s){if(t.target.checked=!t.target.checked,s.message.startsWith("403:")){(await R())({text:(0,S.A)(["You need to reauthenticate in order to enable push notification. Log out of ",["instance"],"?"],{instance:e})}).on("positive",(()=>{(0,z.jh)(e)}))}else M.A.say((0,S.A)(["Failed to update push notification settings: ",["error"]],{error:s.message||""}))}}};async function P(){const{instanceName:t,options:e}=this.get();await(0,E.Z)(t);const{form:a}=this.refs,r=this.store.getInstanceData(t,"pushSubscriptions");for(const{key:n}of e)a.elements[n].checked=(0,C.U2)(r,["alerts",n])}function L(t){const{component:e}=this._svelte;e.onPushSettingsChange(t)}function F(t,e,a){const r=Object.create(t);return r.option=e[a],r.i=a,r}function H(t,e){var a,n;return{c(){a=(0,r.az)("p"),n=(0,r.rw)("Note that you can only have push notifications for one instance at a time."),this.h()},l(t){a=(0,r.d$)(t,"P",{class:!0},!1);var e=(0,r.pI)(a);n=(0,r.M4)(e,"Note that you can only have push notifications for one instance at a time."),e.forEach(r.r2),this.h()},h(){a.className="svelte-1i9oo83"},m(t,e){(0,r.$T)(t,a,e),(0,r.R3)(a,n)},d(t){t&&(0,r.r2)(a)}}}function Z(t,e){var a,n;return{c(){a=(0,r.az)("p"),n=(0,r.rw)("You have denied permission to show notifications."),this.h()},l(t){a=(0,r.d$)(t,"P",{role:!0,class:!0},!1);var e=(0,r.pI)(a);n=(0,r.M4)(e,"You have denied permission to show notifications."),e.forEach(r.r2),this.h()},h(){(0,r.P$)(a,"role","alert"),a.className="svelte-1i9oo83"},m(t,e){(0,r.$T)(t,a,e),(0,r.R3)(a,n)},d(t){t&&(0,r.r2)(a)}}}function O(t,e){var a,n;return{c(){a=(0,r.az)("p"),n=(0,r.rw)("Your browser doesn't support push notifications."),this.h()},l(t){a=(0,r.d$)(t,"P",{class:!0},!1);var e=(0,r.pI)(a);n=(0,r.M4)(e,"Your browser doesn't support push notifications."),e.forEach(r.r2),this.h()},h(){a.className="svelte-1i9oo83"},m(t,e){(0,r.$T)(t,a,e),(0,r.R3)(a,n)},d(t){t&&(0,r.r2)(a)}}}function B(t,e){var a;return{c(){a=(0,r.az)("br")},l(t){a=(0,r.d$)(t,"BR",{},!1),(0,r.pI)(a).forEach(r.r2)},m(t,e){(0,r.$T)(t,a,e)},d(t){t&&(0,r.r2)(a)}}}function A(t,e,a){var n,s,o,i,l,c,h,f,d,m,p=a.option.label,u=a.i>0&&B();return{key:e,first:null,c(){n=(0,r.Yr)(),u&&u.c(),s=(0,r.rw)("\n      "),o=(0,r.az)("input"),h=(0,r.rw)("\n      "),f=(0,r.az)("label"),d=(0,r.rw)(p),this.h()},l(t){n=(0,r.Yr)(),u&&u.l(t),s=(0,r.M4)(t,"\n      "),o=(0,r.d$)(t,"INPUT",{type:!0,id:!0,name:!0,disabled:!0},!1),(0,r.pI)(o).forEach(r.r2),h=(0,r.M4)(t,"\n      "),f=(0,r.d$)(t,"LABEL",{for:!0},!1);var e=(0,r.pI)(f);d=(0,r.M4)(e,p),e.forEach(r.r2),this.h()},h(){o._svelte={component:t},(0,r.NH)(o,"change",L),(0,r.P$)(o,"type","checkbox"),o.id=i="push-notifications-"+a.option.key,o.name=l=a.option.key,o.disabled=c=!a.pushNotificationsSupport,f.htmlFor=m="push-notifications-"+a.option.key,this.first=n},m(t,e){(0,r.$T)(t,n,e),u&&u.m(t,e),(0,r.$T)(t,s,e),(0,r.$T)(t,o,e),(0,r.$T)(t,h,e),(0,r.$T)(t,f,e),(0,r.R3)(f,d)},p(t,e){e.i>0?u||((u=B()).c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null),t.options&&i!==(i="push-notifications-"+e.option.key)&&(o.id=i),t.options&&l!==(l=e.option.key)&&(o.name=l),t.pushNotificationsSupport&&c!==(c=!e.pushNotificationsSupport)&&(o.disabled=c),t.options&&p!==(p=e.option.label)&&(0,r.a_)(d,p),t.options&&m!==(m="push-notifications-"+e.option.key)&&(f.htmlFor=m)},d(t){t&&(0,r.r2)(n),u&&u.d(t),t&&((0,r.r2)(s),(0,r.r2)(o)),(0,r.ys)(o,"change",L),t&&((0,r.r2)(h),(0,r.r2)(f))}}}function D(t){var e;if((0,r.S1)(this,t),this.store=o.h,this.refs={},this._state=(0,r.f0)((0,r.f0)(this.store._init(["pushNotificationsSupport","notificationPermission","loggedInInstancesInOrder"]),{options:[{key:"follow",label:"New followers"},{key:"favourite",label:"Favorites"},{key:"reblog",label:"Boosts"},{key:"mention",label:"Mentions"},{key:"poll",label:"Poll results"},{key:"status",label:"Subscribed posts"}]}),t.data),this.store._add(this,["pushNotificationsSupport","notificationPermission","loggedInInstancesInOrder"]),this._recompute({$pushNotificationsSupport:1},this._state),this._intro=!0,this._handlers.destroy=[r.iT],document.getElementById("svelte-1i9oo83-style")||((e=(0,r.az)("style")).id="svelte-1i9oo83-style",e.textContent='form[disabled="true"].svelte-1i9oo83{opacity:0.5}p.svelte-1i9oo83{margin:0 0 10px 0}',(0,r.R3)(document.head,e)),this._fragment=function(t,e){var a,n,s,o,i,l=[],c=(0,r.L7)();function h(t){return!1===t.pushNotificationsSupport?O:"denied"===t.$notificationPermission?Z:t.$loggedInInstancesInOrder.length>1?H:void 0}var d=h(e),m=d&&d(t,e),p=e.options;const u=t=>t.option.key;for(var g=0;g<p.length;g+=1){let a=F(e,p,g),r=u(a);l[g]=c[r]=A(t,r,a)}var v=new f.Z({root:t.root,store:t.store});return{c(){for(a=(0,r.az)("div"),m&&m.c(),n=(0,r.rw)("\n  "),s=(0,r.az)("form"),g=0;g<l.length;g+=1)l[g].c();i=(0,r.rw)("\n"),v._fragment.c(),this.h()},l(t){a=(0,r.d$)(t,"DIV",{class:!0},!1);var e=(0,r.pI)(a);m&&m.l(e),n=(0,r.M4)(e,"\n  "),s=(0,r.d$)(e,"FORM",{id:!0,disabled:!0,"aria-label":!0,class:!0},!1);var o=(0,r.pI)(s);for(g=0;g<l.length;g+=1)l[g].l(o);o.forEach(r.r2),e.forEach(r.r2),i=(0,r.M4)(t,"\n"),v._fragment.l(t),this.h()},h(){s.id="push-notification-settings",(0,r.P$)(s,"disabled",o=!e.pushNotificationsSupport),(0,r.P$)(s,"aria-label","Push notification settings"),s.className="svelte-1i9oo83",a.className="generic-instance-settings"},m(e,o){for((0,r.$T)(e,a,o),m&&m.m(a,null),(0,r.R3)(a,n),(0,r.R3)(a,s),g=0;g<l.length;g+=1)l[g].m(s,null);t.refs.form=s,(0,r.$T)(e,i,o),v._mount(e,o)},p(e,i){d!==(d=h(i))&&(m&&m.d(1),(m=d&&d(t,i))&&m.c(),m&&m.m(a,n));const f=i.options;l=(0,r.$q)(l,t,e,u,1,i,f,c,s,r.pp,A,"m",null,F),e.pushNotificationsSupport&&o!==(o=!i.pushNotificationsSupport)&&(0,r.P$)(s,"disabled",o)},d(e){for(e&&(0,r.r2)(a),m&&m.d(),g=0;g<l.length;g+=1)l[g].d();t.refs.form===s&&(t.refs.form=null),e&&(0,r.r2)(i),v.destroy(e)}}}(this,this._state),this.root._oncreate.push((()=>{P.call(this),this.fire("update",{changed:(0,r.lZ)({},this._state),current:this._state})})),t.target){var a=(0,r.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(D.prototype,r.uS),(0,r.f0)(D.prototype,x),D.prototype._recompute=function(t,e){t.$pushNotificationsSupport&&this._differs(e.pushNotificationsSupport,e.pushNotificationsSupport=function({$pushNotificationsSupport:t}){return t}(e))&&(t.pushNotificationsSupport=!0)};const Y=D;var V=a(5505),j={onSwitchToThisInstance(t){t.preventDefault();const{instanceName:e}=this.get();(0,z.rd)(e)},async onLogOut(t){t.preventDefault();const{instanceName:e}=this.get();(await R())({text:(0,S.A)(["Log out of ",["instance"],"?"],{instance:e})}).on("positive",(()=>{setTimeout((()=>{(0,z.jh)(e)}),200)}))}};function U(t,e){var a,n;function s(e){t.onSwitchToThisInstance(e)}return{c(){a=(0,r.az)("button"),n=(0,r.rw)("Switch to this instance"),this.h()},l(t){a=(0,r.d$)(t,"BUTTON",{class:!0},!1);var e=(0,r.pI)(a);n=(0,r.M4)(e,"Switch to this instance"),e.forEach(r.r2),this.h()},h(){(0,r.NH)(a,"click",s),a.className="primary svelte-1dbs46b"},m(t,e){(0,r.$T)(t,a,e),(0,r.R3)(a,n)},d(t){t&&(0,r.r2)(a),(0,r.ys)(a,"click",s)}}}function W(t){var e;if((0,r.S1)(this,t),this.store=o.h,this._state=(0,r.f0)(this.store._init(["loggedInInstancesInOrder","currentInstance"]),t.data),this.store._add(this,["loggedInInstancesInOrder","currentInstance"]),this._intro=!0,this._handlers.destroy=[r.iT],document.getElementById("svelte-1dbs46b-style")||((e=(0,r.az)("style")).id="svelte-1dbs46b-style",e.textContent=".instance-actions.svelte-1dbs46b{width:100%;display:flex;justify-content:right;margin:20px 0}.instance-actions.svelte-1dbs46b button.svelte-1dbs46b{margin:0 5px;flex-basis:100%}",(0,r.R3)(document.head,e)),this._fragment=function(t,e){var a,n,s,o,i=e.$loggedInInstancesInOrder.length>1&&e.$currentInstance!==e.instanceName&&U(t);function l(e){t.onLogOut(e)}return{c(){a=(0,r.az)("form"),i&&i.c(),n=(0,r.rw)("\n  "),s=(0,r.az)("button"),o=(0,r.rw)("Log out"),this.h()},l(t){a=(0,r.d$)(t,"FORM",{class:!0,"aria-label":!0},!1);var e=(0,r.pI)(a);i&&i.l(e),n=(0,r.M4)(e,"\n  "),s=(0,r.d$)(e,"BUTTON",{class:!0},!1);var l=(0,r.pI)(s);o=(0,r.M4)(l,"Log out"),l.forEach(r.r2),e.forEach(r.r2),this.h()},h(){(0,r.NH)(s,"click",l),s.className="svelte-1dbs46b",a.className="instance-actions svelte-1dbs46b",(0,r.P$)(a,"aria-label","Switch to or log out of this instance")},m(t,e){(0,r.$T)(t,a,e),i&&i.m(a,null),(0,r.R3)(a,n),(0,r.R3)(a,s),(0,r.R3)(s,o)},p(e,r){r.$loggedInInstancesInOrder.length>1&&r.$currentInstance!==r.instanceName?i||((i=U(t)).c(),i.m(a,n)):i&&(i.d(1),i=null)},d(t){t&&(0,r.r2)(a),i&&i.d(),(0,r.ys)(s,"click",l)}}}(this,this._state),t.target){var a=(0,r.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(r.r2),this._mount(t.target,t.anchor)}}(0,r.f0)(W.prototype,r.uS),(0,r.f0)(W.prototype,j);const q=W;var J=a(4437),G=a(7965);const K=()=>Promise.all([a.e(7539),a.e(7080),a.e(1095),a.e(5291),a.e(268)]).then(a.bind(a,268)).then((t=>t.default));var Q=a(6677);const X=(0,a(8978).I)((()=>new Intl.ListFormat(G.M,{style:"long",type:"conjunction"})));var tt={async add(){const{instanceName:t}=this.get(),e=await K();await e({instanceName:t})},async edit(t){const{instanceName:e}=this.get(),a=await K();await a({instanceName:e,filter:t})},async del(t){const{instanceName:e}=this.get();await(0,Q.kh)(e,t.id)}};function et(t,e,a){const r=Object.create(t);return r.filter=e[a],r}function at(t,e){var a,n;return{c(){a=(0,r.az)("p"),n=(0,r.rw)("You don't have any word filters."),this.h()},l(t){a=(0,r.d$)(t,"P",{class:!0},!1);var e=(0,r.pI)(a);n=(0,r.M4)(e,"You don't have any word filters."),e.forEach(r.r2),this.h()},h(){a.className="word-filters-p svelte-z9510w"},m(t,e){(0,r.$T)(t,a,e),(0,r.R3)(a,n)},p:r.ZT,d(t){t&&(0,r.r2)(a)}}}function rt(t,e){var a,n,s,o,i,l,c,h,f,d,m,p,u,g,v=[],_=(0,r.L7)(),y=e.formattedFilters;const w=t=>t.filter.id;for(var N=0;N<y.length;N+=1){let a=et(e,y,N),r=w(a);v[N]=_[r]=nt(t,r,a)}return{c(){for(a=(0,r.az)("table"),n=(0,r.az)("thead"),s=(0,r.az)("tr"),o=(0,r.az)("th"),i=(0,r.rw)("Word or phrase"),l=(0,r.rw)("\n          "),c=(0,r.az)("th"),h=(0,r.rw)("Contexts"),f=(0,r.rw)("\n          "),d=(0,r.az)("th"),m=(0,r.rw)("\n          "),p=(0,r.az)("th"),u=(0,r.rw)("\n      "),g=(0,r.az)("tbody"),N=0;N<v.length;N+=1)v[N].c();this.h()},l(t){a=(0,r.d$)(t,"TABLE",{class:!0},!1);var e=(0,r.pI)(a);n=(0,r.d$)(e,"THEAD",{},!1);var _=(0,r.pI)(n);s=(0,r.d$)(_,"TR",{},!1);var y=(0,r.pI)(s);o=(0,r.d$)(y,"TH",{},!1);var w=(0,r.pI)(o);i=(0,r.M4)(w,"Word or phrase"),w.forEach(r.r2),l=(0,r.M4)(y,"\n          "),c=(0,r.d$)(y,"TH",{},!1);var $=(0,r.pI)(c);h=(0,r.M4)($,"Contexts"),$.forEach(r.r2),f=(0,r.M4)(y,"\n          "),d=(0,r.d$)(y,"TH",{},!1),(0,r.pI)(d).forEach(r.r2),m=(0,r.M4)(y,"\n          "),p=(0,r.d$)(y,"TH",{},!1),(0,r.pI)(p).forEach(r.r2),y.forEach(r.r2),_.forEach(r.r2),u=(0,r.M4)(e,"\n      "),g=(0,r.d$)(e,"TBODY",{},!1);var b=(0,r.pI)(g);for(N=0;N<v.length;N+=1)v[N].l(b);b.forEach(r.r2),e.forEach(r.r2),this.h()},h(){a.className="word-filters-table svelte-z9510w"},m(t,e){for((0,r.$T)(t,a,e),(0,r.R3)(a,n),(0,r.R3)(n,s),(0,r.R3)(s,o),(0,r.R3)(o,i),(0,r.R3)(s,l),(0,r.R3)(s,c),(0,r.R3)(c,h),(0,r.R3)(s,f),(0,r.R3)(s,d),(0,r.R3)(s,m),(0,r.R3)(s,p),(0,r.R3)(a,u),(0,r.R3)(a,g),N=0;N<v.length;N+=1)v[N].m(g,null)},p(e,a){const n=a.formattedFilters;v=(0,r.$q)(v,t,e,w,1,a,n,_,g,r.pp,nt,"m",null,et)},d(t){for(t&&(0,r.r2)(a),N=0;N<v.length;N+=1)v[N].d()}}}function nt(t,e,a){var n,s,o,i,l,c,h,f,d,m,p=a.filter.phrase,u=a.filter.formattedContexts,g=new J.Z({root:t.root,store:t.store,data:{label:"Edit",href:"#fa-pencil",clickListener:!0}});g.on("click",(function(e){t.edit(a.filter)}));var v=new J.Z({root:t.root,store:t.store,data:{label:"Delete",href:"#fa-trash",clickListener:!0}});return v.on("click",(function(e){t.del(a.filter)})),{key:e,first:null,c(){n=(0,r.az)("tr"),s=(0,r.az)("td"),o=(0,r.rw)(p),i=(0,r.rw)("\n            "),l=(0,r.az)("td"),c=(0,r.rw)(u),h=(0,r.rw)("\n            "),f=(0,r.az)("td"),g._fragment.c(),d=(0,r.rw)("\n            "),m=(0,r.az)("td"),v._fragment.c(),this.h()},l(t){n=(0,r.d$)(t,"TR",{},!1);var e=(0,r.pI)(n);s=(0,r.d$)(e,"TD",{class:!0},!1);var a=(0,r.pI)(s);o=(0,r.M4)(a,p),a.forEach(r.r2),i=(0,r.M4)(e,"\n            "),l=(0,r.d$)(e,"TD",{class:!0},!1);var _=(0,r.pI)(l);c=(0,r.M4)(_,u),_.forEach(r.r2),h=(0,r.M4)(e,"\n            "),f=(0,r.d$)(e,"TD",{},!1);var y=(0,r.pI)(f);g._fragment.l(y),y.forEach(r.r2),d=(0,r.M4)(e,"\n            "),m=(0,r.d$)(e,"TD",{},!1);var w=(0,r.pI)(m);v._fragment.l(w),w.forEach(r.r2),e.forEach(r.r2),this.h()},h(){s.className="word-filters-break svelte-z9510w",l.className="word-filters-break svelte-z9510w",this.first=n},m(t,e){(0,r.$T)(t,n,e),(0,r.R3)(n,s),(0,r.R3)(s,o),(0,r.R3)(n,i),(0,r.R3)(n,l),(0,r.R3)(l,c),(0,r.R3)(n,h),(0,r.R3)(n,f),g._mount(f,null),(0,r.R3)(n,d),(0,r.R3)(n,m),v._mount(m,null)},p(t,e){a=e,t.formattedFilters&&p!==(p=a.filter.phrase)&&(0,r.a_)(o,p),t.formattedFilters&&u!==(u=a.filter.formattedContexts)&&(0,r.a_)(c,u)},d(t){t&&(0,r.r2)(n),g.destroy(),v.destroy()}}}function st(t){var e;if((0,r.S1)(this,t),this.store=o.h,this._state=(0,r.f0)(this.store._init(["instanceFilters"]),t.data),this.store._add(this,["instanceFilters"]),this._recompute({instanceName:1,$instanceFilters:1,filters:1},this._state),this._intro=!0,this._handlers.destroy=[r.iT],document.getElementById("svelte-z9510w-style")||((e=(0,r.az)("style")).id="svelte-z9510w-style",e.textContent=".word-filters-table.svelte-z9510w{width:100%\n  }p.word-filters-p.svelte-z9510w,.word-filters-table.svelte-z9510w{margin:0 0 10px 0}.word-filters-break.svelte-z9510w{word-break:break-word;text-overflow:ellipsis}@media(max-width: 767px){.word-filters-table.svelte-z9510w{table-layout:fixed}}",(0,r.R3)(document.head,e)),this._fragment=function(t,e){var a,n,s,o,i;function l(t){return t.filters.length?rt:at}var c=l(e),h=c(t,e);function d(e){t.add()}var m=new f.Z({root:t.root,store:t.store});return{c(){a=(0,r.az)("div"),h.c(),n=(0,r.rw)("\n  "),s=(0,r.az)("button"),o=(0,r.rw)("Add filter"),i=(0,r.rw)("\n"),m._fragment.c(),this.h()},l(t){a=(0,r.d$)(t,"DIV",{class:!0},!1);var e=(0,r.pI)(a);h.l(e),n=(0,r.M4)(e,"\n  "),s=(0,r.d$)(e,"BUTTON",{type:!0},!1);var l=(0,r.pI)(s);o=(0,r.M4)(l,"Add filter"),l.forEach(r.r2),e.forEach(r.r2),i=(0,r.M4)(t,"\n"),m._fragment.l(t),this.h()},h(){(0,r.NH)(s,"click",d),s.type="button",a.className="generic-instance-settings word-filters"},m(t,e){(0,r.$T)(t,a,e),h.m(a,null),(0,r.R3)(a,n),(0,r.R3)(a,s),(0,r.R3)(s,o),(0,r.$T)(t,i,e),m._mount(t,e)},p(e,r){c===(c=l(r))&&h?h.p(e,r):(h.d(1),(h=c(t,r)).c(),h.m(a,n))},d(t){t&&(0,r.r2)(a),h.d(),(0,r.ys)(s,"click",d),t&&(0,r.r2)(i),m.destroy(t)}}}(this,this._state),t.target){var a=(0,r.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(st.prototype,r.uS),(0,r.f0)(st.prototype,tt),st.prototype._recompute=function(t,e){(t.instanceName||t.$instanceFilters)&&this._differs(e.filters,e.filters=function({instanceName:t,$instanceFilters:e}){return e[t]||[]}(e))&&(t.filters=!0),t.filters&&this._differs(e.formattedFilters,e.formattedFilters=function({filters:t}){return t.map((t=>({...t,formattedContexts:X().format(t.context.map((t=>{switch(t){case"home":return"Home and lists";case"notifications":return"Notifications";case"public":return"Public timelines";case"thread":return"Conversations";case"account":return"Profiles";default:return"Unknown"}})))})))}(e))&&(t.formattedFilters=!0)};const ot=st;async function it(){const{instanceName:t}=this.get();await Promise.all([(0,z.Ac)(t),(0,Q.A_)(t)])}function lt(t,e){var a,n,s,o,i,l,c,h,f,d,p,u,g,v,_,y,w,N,$,b,T,R,z,E,M={verifyCredentials:e.verifyCredentials},C=new m({root:t.root,store:t.store,data:M}),S={instanceName:e.instanceName},x=new V.Z({root:t.root,store:t.store,data:S}),P={instanceName:e.instanceName},L=new I({root:t.root,store:t.store,data:P}),F={instanceName:e.instanceName},H=new k({root:t.root,store:t.store,data:F}),Z={instanceName:e.instanceName},O=new ot({root:t.root,store:t.store,data:Z}),B={instanceName:e.instanceName},A=new Y({root:t.root,store:t.store,data:B}),D={instanceName:e.instanceName},j=new q({root:t.root,store:t.store,data:D});return{c(){a=(0,r.az)("h2"),n=(0,r.rw)("Logged in as"),s=(0,r.rw)("\n    "),C._fragment.c(),o=(0,r.rw)("\n    "),i=(0,r.az)("h2"),l=(0,r.rw)("Theme"),c=(0,r.rw)("\n    "),x._fragment.c(),h=(0,r.rw)("\n    "),f=(0,r.az)("h2"),d=(0,r.rw)("Home timeline filters"),p=(0,r.rw)("\n    "),L._fragment.c(),u=(0,r.rw)("\n    "),g=(0,r.az)("h2"),v=(0,r.rw)("Notification filters"),_=(0,r.rw)("\n    "),H._fragment.c(),y=(0,r.rw)("\n    "),w=(0,r.az)("h2"),N=(0,r.rw)("Word filters"),$=(0,r.rw)("\n    "),O._fragment.c(),b=(0,r.rw)("\n    "),T=(0,r.az)("h2"),R=(0,r.rw)("Push notifications"),z=(0,r.rw)("\n    "),A._fragment.c(),E=(0,r.rw)("\n    "),j._fragment.c()},l(t){a=(0,r.d$)(t,"H2",{},!1);var e=(0,r.pI)(a);n=(0,r.M4)(e,"Logged in as"),e.forEach(r.r2),s=(0,r.M4)(t,"\n    "),C._fragment.l(t),o=(0,r.M4)(t,"\n    "),i=(0,r.d$)(t,"H2",{},!1);var m=(0,r.pI)(i);l=(0,r.M4)(m,"Theme"),m.forEach(r.r2),c=(0,r.M4)(t,"\n    "),x._fragment.l(t),h=(0,r.M4)(t,"\n    "),f=(0,r.d$)(t,"H2",{},!1);var I=(0,r.pI)(f);d=(0,r.M4)(I,"Home timeline filters"),I.forEach(r.r2),p=(0,r.M4)(t,"\n    "),L._fragment.l(t),u=(0,r.M4)(t,"\n    "),g=(0,r.d$)(t,"H2",{},!1);var k=(0,r.pI)(g);v=(0,r.M4)(k,"Notification filters"),k.forEach(r.r2),_=(0,r.M4)(t,"\n    "),H._fragment.l(t),y=(0,r.M4)(t,"\n    "),w=(0,r.d$)(t,"H2",{},!1);var M=(0,r.pI)(w);N=(0,r.M4)(M,"Word filters"),M.forEach(r.r2),$=(0,r.M4)(t,"\n    "),O._fragment.l(t),b=(0,r.M4)(t,"\n    "),T=(0,r.d$)(t,"H2",{},!1);var S=(0,r.pI)(T);R=(0,r.M4)(S,"Push notifications"),S.forEach(r.r2),z=(0,r.M4)(t,"\n    "),A._fragment.l(t),E=(0,r.M4)(t,"\n    "),j._fragment.l(t)},m(t,e){(0,r.$T)(t,a,e),(0,r.R3)(a,n),(0,r.$T)(t,s,e),C._mount(t,e),(0,r.$T)(t,o,e),(0,r.$T)(t,i,e),(0,r.R3)(i,l),(0,r.$T)(t,c,e),x._mount(t,e),(0,r.$T)(t,h,e),(0,r.$T)(t,f,e),(0,r.R3)(f,d),(0,r.$T)(t,p,e),L._mount(t,e),(0,r.$T)(t,u,e),(0,r.$T)(t,g,e),(0,r.R3)(g,v),(0,r.$T)(t,_,e),H._mount(t,e),(0,r.$T)(t,y,e),(0,r.$T)(t,w,e),(0,r.R3)(w,N),(0,r.$T)(t,$,e),O._mount(t,e),(0,r.$T)(t,b,e),(0,r.$T)(t,T,e),(0,r.R3)(T,R),(0,r.$T)(t,z,e),A._mount(t,e),(0,r.$T)(t,E,e),j._mount(t,e)},p(t,e){var a={};t.verifyCredentials&&(a.verifyCredentials=e.verifyCredentials),C._set(a);var r={};t.instanceName&&(r.instanceName=e.instanceName),x._set(r);var n={};t.instanceName&&(n.instanceName=e.instanceName),L._set(n);var s={};t.instanceName&&(s.instanceName=e.instanceName),H._set(s);var o={};t.instanceName&&(o.instanceName=e.instanceName),O._set(o);var i={};t.instanceName&&(i.instanceName=e.instanceName),A._set(i);var l={};t.instanceName&&(l.instanceName=e.instanceName),j._set(l)},d(t){t&&((0,r.r2)(a),(0,r.r2)(s)),C.destroy(t),t&&((0,r.r2)(o),(0,r.r2)(i),(0,r.r2)(c)),x.destroy(t),t&&((0,r.r2)(h),(0,r.r2)(f),(0,r.r2)(p)),L.destroy(t),t&&((0,r.r2)(u),(0,r.r2)(g),(0,r.r2)(_)),H.destroy(t),t&&((0,r.r2)(y),(0,r.r2)(w),(0,r.r2)($)),O.destroy(t),t&&((0,r.r2)(b),(0,r.r2)(T),(0,r.r2)(z)),A.destroy(t),t&&(0,r.r2)(E),j.destroy(t)}}}function ct(t){var e,a,n,s,l,c,h,f,d,m,p;if((0,r.S1)(this,t),this.store=o.h,this._state=(0,r.f0)(this.store._init(["verifyCredentials"]),t.data),this.store._add(this,["verifyCredentials"]),this._recompute({params:1,$verifyCredentials:1,instanceName:1},this._state),this._intro=!0,this._handlers.destroy=[r.iT],document.getElementById("svelte-1v7vz15-style")||((e=(0,r.az)("style")).id="svelte-1v7vz15-style",e.textContent=".instance-name-h1.svelte-1v7vz15{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",(0,r.R3)(document.head,e)),this._fragment=(a=this,n=this._state,f=n.params.instanceName,d=n.verifyCredentials&&lt(a,n),m={page:"settings/instances/"+n.params.instanceName,label:n.params.instanceName},p=new i.Z({root:a.root,store:a.store,slots:{default:(0,r.xJ)()},data:m}),{c(){s=(0,r.az)("h1"),l=(0,r.rw)(f),c=(0,r.rw)("\n\n  "),d&&d.c(),h=(0,r.Yr)(),p._fragment.c(),this.h()},l(t){s=(0,r.d$)(t,"H1",{class:!0},!1);var e=(0,r.pI)(s);l=(0,r.M4)(e,f),e.forEach(r.r2),c=(0,r.M4)(t,"\n\n  "),d&&d.l(t),h=(0,r.Yr)(),p._fragment.l(t),this.h()},h(){s.className="instance-name-h1 svelte-1v7vz15"},m(t,e){(0,r.R3)(p._slotted.default,s),(0,r.R3)(s,l),(0,r.R3)(p._slotted.default,c),d&&d.m(p._slotted.default,null),(0,r.R3)(p._slotted.default,h),p._mount(t,e)},p(t,e){t.params&&f!==(f=e.params.instanceName)&&(0,r.a_)(l,f),e.verifyCredentials?d?d.p(t,e):((d=lt(a,e)).c(),d.m(h.parentNode,h)):d&&(d.d(1),d=null);var n={};t.params&&(n.page="settings/instances/"+e.params.instanceName),t.params&&(n.label=e.params.instanceName),p._set(n)},d(t){d&&d.d(),p.destroy(t)}}),this.root._oncreate.push((()=>{it.call(this),this.fire("update",{changed:(0,r.lZ)({},this._state),current:this._state})})),t.target){var u=(0,r.pI)(t.target);t.hydrate?this._fragment.l(u):this._fragment.c(),u.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(ct.prototype,r.uS),ct.prototype._recompute=function(t,e){t.params&&this._differs(e.instanceName,e.instanceName=function({params:t}){return t.instanceName}(e))&&(t.instanceName=!0),(t.$verifyCredentials||t.instanceName)&&this._differs(e.verifyCredentials,e.verifyCredentials=function({$verifyCredentials:t,instanceName:e}){return t&&t[e]}(e))&&(t.verifyCredentials=!0)};const ht=ct;function ft(t){var e,a,o,i,l,c,h;if((0,r.S1)(this,t),this._state=(0,r.f0)({pageComponent:ht},t.data),this._intro=!0,this._fragment=(e=this,a=this._state,i={name:a.params.instanceName,settingsPage:!0},l=new n.Z({root:e.root,store:e.store,data:i}),c={pageComponent:a.pageComponent,params:a.params},h=new s.Z({root:e.root,store:e.store,data:c}),{c(){l._fragment.c(),o=(0,r.rw)("\n\n  "),h._fragment.c()},l(t){l._fragment.l(t),o=(0,r.M4)(t,"\n\n  "),h._fragment.l(t)},m(t,e){l._mount(t,e),(0,r.$T)(t,o,e),h._mount(t,e)},p(t,e){var a={};t.params&&(a.name=e.params.instanceName),l._set(a);var r={};t.pageComponent&&(r.pageComponent=e.pageComponent),t.params&&(r.params=e.params),h._set(r)},d(t){l.destroy(t),t&&(0,r.r2)(o),h.destroy(t)}}),t.target){var f=(0,r.pI)(t.target);t.hydrate?this._fragment.l(f):this._fragment.c(),f.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(ft.prototype,r.uS);const dt=ft}}]);
//# sourceMappingURL=7434.2e93cb9a1df1ed73588a.settings_instances_$instanceName.js.map