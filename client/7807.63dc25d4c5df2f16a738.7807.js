"use strict";(this.webpackChunk=this.webpackChunk||[]).push([[7807],{7807:(t,e,o)=>{o.r(e),o.d(e,{default:()=>h});var r=o(4178),s=o(3582),a=o(5524),i=o(5981);var l=o(9499),n=o(9065),c=o(2771),p=o(6288);var y={show:n.$,close:c.x,onClick(t){const{realm:e,localOnly:o}=this.get();"local_only"===t.key?a.h.setComposeData(e,{localOnly:!o}):(!function(t,e){a.h.setComposeData(t,{postPrivacy:e})}(e,t.key),this.close())}};function u(t){var e;if((0,r.S1)(this,t),this.store=a.h,this._state=(0,r.f0)((0,r.f0)(this.store._init(["currentComposeData","currentVerifyCredentials","currentSupportedToggles"]),{postPrivacyOptions:i.K5}),t.data),this.store._add(this,["currentComposeData","currentVerifyCredentials","currentSupportedToggles"]),this._recompute({$currentComposeData:1,realm:1,composeData:1,$currentVerifyCredentials:1,postPrivacyKey:1,postPrivacy:1,postPrivacyOptions:1,$currentSupportedToggles:1,localOnly:1},this._state),this._intro=!0,this._handlers.destroy=[r.iT],document.getElementById("svelte-1ppkmz9-style")||((e=(0,r.az)("style")).id="svelte-1ppkmz9-style",e.textContent=".generic-dialog-list-item[data-key='local_only']{border-top:3px solid var(--settings-list-item-border)}",(0,r.R3)(document.head,e)),this._fragment=function(t,e){var o={selectable:!0,items:e.items},a=new l.Z({root:t.root,store:t.store,data:o});a.on("click",(function(e){t.onClick(e)}));var i={id:e.id,label:e.label,title:e.title,shrinkWidthToFit:!0,background:"var(--main-bg)"},n=new s.Z({root:t.root,store:t.store,slots:{default:(0,r.xJ)()},data:i});return{c(){a._fragment.c(),n._fragment.c()},l(t){a._fragment.l(t),n._fragment.l(t)},m(t,e){a._mount(n._slotted.default,null),n._mount(t,e)},p(t,e){var o={};t.items&&(o.items=e.items),a._set(o);var r={};t.id&&(r.id=e.id),t.label&&(r.label=e.label),t.title&&(r.title=e.title),n._set(r)},d(t){a.destroy(),n.destroy(t)}}}(this,this._state),this.root._oncreate.push((()=>{p.U.call(this),this.fire("update",{changed:(0,r.lZ)({},this._state),current:this._state})})),t.target){var o=(0,r.pI)(t.target);t.hydrate?this._fragment.l(o):this._fragment.c(),o.forEach(r.r2),this._mount(t.target,t.anchor),(0,r.yl)(this)}}(0,r.f0)(u.prototype,r.uS),(0,r.f0)(u.prototype,y),u.prototype._recompute=function(t,e){(t.$currentComposeData||t.realm)&&this._differs(e.composeData,e.composeData=function({$currentComposeData:t,realm:e}){return t[e]||{}}(e))&&(t.composeData=!0),(t.composeData||t.$currentVerifyCredentials)&&this._differs(e.postPrivacyKey,e.postPrivacyKey=function({composeData:t,$currentVerifyCredentials:e}){return t.postPrivacy||e.source.privacy}(e))&&(t.postPrivacyKey=!0),t.postPrivacyKey&&this._differs(e.postPrivacy,e.postPrivacy=function({postPrivacyKey:t}){return i.K5.find((e=>e.key===t))}(e))&&(t.postPrivacy=!0),t.composeData&&this._differs(e.localOnly,e.localOnly=function({composeData:t}){return t.localOnly}(e))&&(t.localOnly=!0),(t.postPrivacy||t.postPrivacyOptions||t.$currentSupportedToggles||t.localOnly)&&this._differs(e.items,e.items=function({postPrivacy:t,postPrivacyOptions:e,$currentSupportedToggles:o,localOnly:r}){const s=e.map((e=>({key:e.key,label:e.label,icon:e.icon,selected:t.key===e.key})));return o&&o.local_only&&s.push({label:"Local only",key:"local_only",icon:"#fa-home",selected:r}),s}(e))&&(t.items=!0)};const d=u;var m=o(3634);function h(t){return(0,m.v)(d,{label:"Post privacy",title:"Post privacy",realm:t})}}}]);
//# sourceMappingURL=7807.63dc25d4c5df2f16a738.7807.js.map