"use strict";(this.webpackChunk=this.webpackChunk||[]).push([[9418],{9418:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var i=o(4178),r=o(3582),a=o(5524),s=o(7376),c=o(9065),n=o(2771),l=o(6288),d=o(6196),m=o(1169);o(7911);var u=o(3482),h=o(3609),p=o(5500),f=o(7749),y=o(4212),v=o(9805);function k({$currentTheme:e}){return t=e,(d.n.find((e=>e.name===t))||d.n.find((e=>e.name===m.t0))).dark;var t}var j={show:c.$,close:n.x,onEmojiSelected(e){const{realm:t}=this.get();"function"==typeof t?t(e.detail):(0,s.Q0)(t,e.detail),this.close()},onPickerKeydown(e){"Backspace"===e.key&&e.target.shadowRoot.activeElement&&"INPUT"===e.target.shadowRoot.activeElement.tagName&&e.stopPropagation()}};async function g(){l.U.call(this);const{customEmoji:e}=this.get(),{enableGrayscale:t,isUserTouching:o}=this.store.get(),{picker:i}=this.refs;if(i.customEmoji=e,v.Ay&&(i.i18n=v.Ay),t){const e=document.createElement("style");e.textContent=".emoji { filter: grayscale(100%); }",i.shadowRoot.appendChild(e)}(0,u.Wb)(i.shadowRoot),this.on("destroy",(()=>(0,u.vz)(i.shadowRoot))),o||(0,h.M)((()=>{requestAnimationFrame((()=>{i.shadowRoot.querySelector("input").focus()}))})),(0,f.J)()||(await(0,y.Fh)(),applyFocusVisiblePolyfill(i.shadowRoot))}function _(e){var t;if((0,i.S1)(this,e),this.store=a.h,this.refs={},this._state=(0,i.f0)((0,i.f0)(this.store._init(["currentTheme","currentCustomEmoji","autoplayGifs"]),{emojiPickerLocale:v.FO,emojiPickerDataSource:v.jN}),e.data),this.store._add(this,["currentTheme","currentCustomEmoji","autoplayGifs"]),this._recompute({$currentTheme:1,$currentCustomEmoji:1,$autoplayGifs:1},this._state),this._intro=!0,this._handlers.destroy=[i.iT],document.getElementById("svelte-1vlyd7s-style")||((t=(0,i.az)("style")).id="svelte-1vlyd7s-style",t.textContent="emoji-picker.svelte-1vlyd7s{--indicator-color:var(--main-theme-color);--outline-color:var(--focus-outline);--input-border-radius:var(--input-border-radius-size)}.emoji-container.svelte-1vlyd7s,emoji-picker.svelte-1vlyd7s{width:100%}@media(max-width: 320px){emoji-picker.svelte-1vlyd7s{--emoji-padding:0.25rem;--input-padding:0.125rem}emoji-picker.svelte-1vlyd7s{--num-columns:6}}@media(max-width: 240px){emoji-picker.svelte-1vlyd7s{--num-columns:6;--emoji-size:1.125rem;--emoji-padding:0.125rem;height:240px}}@media(max-height: 450px){emoji-picker.svelte-1vlyd7s{height:calc(100vh - 75px)}}",(0,i.R3)(document.head,t)),this._fragment=function(e,t){var o,a,s;function c(t){e.onEmojiSelected(t)}function n(t){e.onPickerKeydown(t)}var l={id:t.id,label:t.label,title:t.title,shrinkWidthToFit:!0,background:"var(--main-bg)"},d=new r.Z({root:e.root,store:e.store,slots:{default:(0,i.xJ)()},data:l});return{c(){o=(0,i.az)("div"),a=(0,i.az)("emoji-picker"),d._fragment.c(),this.h()},l(e){o=(0,i.d$)(e,"DIV",{class:!0},!1);var t=(0,i.pI)(o);a=(0,i.d$)(t,"EMOJI-PICKER",{locale:!0,"data-source":!0,class:!0},!1),(0,i.pI)(a).forEach(i.r2),t.forEach(i.r2),d._fragment.l(e),this.h()},h(){(0,i.NH)(a,"emoji-click",c),(0,i.NH)(a,"keydown",n),(0,i.E_)(a,"locale",t.emojiPickerLocale),a.dataset.source=t.emojiPickerDataSource,a.className=s=(t.darkMode?"dark":"light")+" svelte-1vlyd7s",o.className="emoji-container svelte-1vlyd7s"},m(t,r){(0,i.R3)(d._slotted.default,o),(0,i.R3)(o,a),e.refs.picker=a,d._mount(t,r)},p(e,t){e.emojiPickerLocale&&(0,i.E_)(a,"locale",t.emojiPickerLocale),e.emojiPickerDataSource&&(a.dataset.source=t.emojiPickerDataSource),e.darkMode&&s!==(s=(t.darkMode?"dark":"light")+" svelte-1vlyd7s")&&(a.className=s);var o={};e.id&&(o.id=t.id),e.label&&(o.label=t.label),e.title&&(o.title=t.title),d._set(o)},d(t){(0,i.ys)(a,"emoji-click",c),(0,i.ys)(a,"keydown",n),e.refs.picker===a&&(e.refs.picker=null),d.destroy(t)}}}(this,this._state),this.root._oncreate.push((()=>{g.call(this),this.fire("update",{changed:(0,i.lZ)({},this._state),current:this._state})})),e.target){var o=(0,i.pI)(e.target);e.hydrate?this._fragment.l(o):this._fragment.c(),o.forEach(i.r2),this._mount(e.target,e.anchor),(0,i.yl)(this)}}(0,i.f0)(_.prototype,i.uS),(0,i.f0)(_.prototype,j),_.prototype._recompute=function(e,t){e.$currentTheme&&this._differs(t.darkMode,t.darkMode=k(t))&&(e.darkMode=!0),(e.$currentCustomEmoji||e.$autoplayGifs)&&this._differs(t.customEmoji,t.customEmoji=function({$currentCustomEmoji:e,$autoplayGifs:t}){return(0,p.x)(e,t)}(t))&&(e.customEmoji=!0)};const E=_;var w=o(3634);function b(e){return(0,w.v)(E,{label:"Emoji",title:"Emoji",realm:e})}},9805:(e,t,o)=>{o.d(t,{Ay:()=>a,FO:()=>s,jN:()=>r});var i=o(7965);const r=`/emoji-${i.M}.json`,a=void 0,s="en-US"===i.M?"en":i.M},5500:(e,t,o)=>{function i(e,t){return e?e.filter((e=>e.visible_in_picker)).map((e=>({name:e.shortcode,shortcodes:[e.shortcode],url:t?e.url:e.static_url,category:e.category}))):[]}o.d(t,{x:()=>i})},3609:(e,t,o)=>{function i(e){requestAnimationFrame((()=>requestAnimationFrame(e)))}o.d(t,{M:()=>i})}}]);
//# sourceMappingURL=9418.44d5576b00d6d67b0f40.9418.js.map