"use strict";(this.webpackChunk=this.webpackChunk||[]).push([[4325],{8094:(t,e,a)=>{a.d(e,{Z:()=>l});var s=a(4178),i=a(658),n=a(8552);function r(t,e){var a=new n.Z({root:t.root,store:t.store,data:{className:"external-link-svg",href:"#fa-external-link"}});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},d(t){a.destroy(t)}}}function o(t){var e,a,i,n,o,l,c;if((0,s.S1)(this,t),this._state=(0,s.f0)({className:void 0,normalIconColor:!1,ariaLabel:"",showIcon:!1},t.data),this._recompute({className:1,showIcon:1,normalIconColor:1},this._state),this._intro=!0,this._slotted=t.slots||{},document.getElementById("svelte-12k587d-style")||((e=(0,s.az)("style")).id="svelte-12k587d-style",e.textContent=".external-link-with-icon.svelte-12k587d{display:inline-flex;align-items:center}.external-link-with-icon.normal-icon-color .external-link-svg{fill:var(--body-text-color)}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,l=a._slotted.default,c=i.showIcon&&r(a),{c(){n=(0,s.az)("a"),c&&c.c(),this.h()},l(t){n=(0,s.d$)(t,"A",{rel:!0,target:!0,href:!0,"aria-label":!0,class:!0},!1);var e=(0,s.pI)(n);c&&c.l(e),e.forEach(s.r2),this.h()},h(){n.rel="nofollow noopener",n.target="_blank",n.href=i.href,(0,s.P$)(n,"aria-label",i.ariaLabel),n.className=i.computedClass+" svelte-12k587d"},m(t,e){(0,s.$T)(t,n,e),l&&((0,s.R3)(n,l),(0,s.R3)(n,o||(o=(0,s.Yr)()))),c&&c.m(n,null)},p(t,e){e.showIcon?c||((c=r(a)).c(),c.m(n,null)):c&&(c.d(1),c=null),t.href&&(n.href=e.href),t.ariaLabel&&(0,s.P$)(n,"aria-label",e.ariaLabel),t.computedClass&&(n.className=e.computedClass+" svelte-12k587d")},d(t){t&&(0,s.r2)(n),l&&(0,s.LL)(o,l),c&&c.d()}}),t.target){var d=(0,s.pI)(t.target);t.hydrate?this._fragment.l(d):this._fragment.c(),d.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(o.prototype,s.uS),o.prototype._recompute=function(t,e){(t.className||t.showIcon||t.normalIconColor)&&this._differs(e.computedClass,e.computedClass=function({className:t,showIcon:e,normalIconColor:a}){return(0,i.q)("external-link",t,e&&"external-link-with-icon",a&&"normal-icon-color")}(e))&&(t.computedClass=!0)};const l=o},4325:(t,e,a)=>{a.d(e,{Z:()=>ms});var s=a(4178),i=a(3291);function n(t){var e,a,n,r,o,l,c,d;if((0,s.S1)(this,t),this._state=(0,s.f0)(this.store._init(["isVeryTinyMobileSize"]),t.data),this.store._add(this,["isVeryTinyMobileSize"]),this._recompute({uuid:1,isStatusInOwnThread:1,$isVeryTinyMobileSize:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-ov4ll5-style")||((e=(0,s.az)("style")).id="svelte-ov4ll5-style",e.textContent=".status-sidebar.svelte-ov4ll5{grid-area:sidebar;margin-right:15px}.status-sidebar.size-small.svelte-ov4ll5{width:48px;height:48px}.status-sidebar.size-medium.svelte-ov4ll5{width:64px;height:64px}@media(max-width: 767px){.status-sidebar.svelte-ov4ll5{margin-right:5px}}",(0,s.R3)(document.head,e)),this._fragment=(a=this,n=this._state,c={account:n.originalAccount,isLink:"true",size:n.size},d=new i.Z({root:a.root,store:a.store,data:c}),{c(){r=(0,s.az)("a"),d._fragment.c(),this.h()},l(t){r=(0,s.d$)(t,"A",{id:!0,class:!0,rel:!0,href:!0,"aria-hidden":!0,tabindex:!0},!1);var e=(0,s.pI)(r);d._fragment.l(e),e.forEach(s.r2),this.h()},h(){r.id=n.elementId,r.className=o="status-sidebar size-"+n.size+" svelte-ov4ll5",r.rel="prefetch",r.href=l="/accounts/"+n.originalAccountId,(0,s.P$)(r,"aria-hidden","true"),r.tabIndex="-1"},m(t,e){(0,s.$T)(t,r,e),d._mount(r,null)},p(t,e){var a={};t.originalAccount&&(a.account=e.originalAccount),t.size&&(a.size=e.size),d._set(a),t.elementId&&(r.id=e.elementId),t.size&&o!==(o="status-sidebar size-"+e.size+" svelte-ov4ll5")&&(r.className=o),t.originalAccountId&&l!==(l="/accounts/"+e.originalAccountId)&&(r.href=l)},d(t){t&&(0,s.r2)(r),d.destroy()}}),t.target){var u=(0,s.pI)(t.target);t.hydrate?this._fragment.l(u):this._fragment.c(),u.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(n.prototype,s.uS),n.prototype._recompute=function(t,e){t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`status-author-avatar-${t}`}(e))&&(t.elementId=!0),(t.isStatusInOwnThread||t.$isVeryTinyMobileSize)&&this._differs(e.size,e.size=function({isStatusInOwnThread:t,$isVeryTinyMobileSize:e}){return e?t?"small":"extra-small":t?"medium":"small"}(e))&&(t.size=!0)};const r=n;var o=a(1975),l=a(4124);function c(t){var e,a,i,n,r,o,c,d,u;if((0,s.S1)(this,t),this._state=(0,s.f0)({},t.data),this._recompute({uuid:1},this._state),this._intro=!0,document.getElementById("svelte-uewmy7-style")||((e=(0,s.az)("style")).id="svelte-uewmy7-style",e.textContent=".status-author-name.svelte-uewmy7{grid-area:author-name;align-self:center;margin-left:5px;font-size:1.1em;min-width:0;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.status-author-name.status-in-own-thread.svelte-uewmy7{font-size:1.3em}.status-author-name.svelte-uewmy7,.status-author-name.svelte-uewmy7:hover,.status-author-name.svelte-uewmy7:visited{color:var(--body-text-color)}.status-author-name.status-in-notification.svelte-uewmy7,.status-author-name.status-in-notification.svelte-uewmy7:hover,.status-author-name.status-in-notification.svelte-uewmy7:visited{color:var(--very-deemphasized-text-color)}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,d={account:i.originalAccount},u=new l.Z({root:a.root,store:a.store,data:d}),{c(){n=(0,s.az)("a"),u._fragment.c(),this.h()},l(t){n=(0,s.d$)(t,"A",{id:!0,class:!0,rel:!0,href:!0,title:!0},!1);var e=(0,s.pI)(n);u._fragment.l(e),e.forEach(s.r2),this.h()},h(){n.id=i.elementId,n.className=r="status-author-name "+(i.isStatusInNotification?"status-in-notification":"")+" "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-uewmy7",n.rel="prefetch",n.href=o="/accounts/"+i.originalAccountId,n.title=c="@"+i.originalAccount.acct},m(t,e){(0,s.$T)(t,n,e),u._mount(n,null)},p(t,e){var a={};t.originalAccount&&(a.account=e.originalAccount),u._set(a),t.elementId&&(n.id=e.elementId),(t.isStatusInNotification||t.isStatusInOwnThread)&&r!==(r="status-author-name "+(e.isStatusInNotification?"status-in-notification":"")+" "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-uewmy7")&&(n.className=r),t.originalAccountId&&o!==(o="/accounts/"+e.originalAccountId)&&(n.href=o),t.originalAccount&&c!==(c="@"+e.originalAccount.acct)&&(n.title=c)},d(t){t&&(0,s.r2)(n),u.destroy()}}),t.target){var h=(0,s.pI)(t.target);t.hydrate?this._fragment.l(h):this._fragment.c(),h.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(c.prototype,s.uS),c.prototype._recompute=function(t,e){t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`status-author-name-${t}`}(e))&&(t.elementId=!0)};const d=c;function u(t){var e,a,i,n,r,o;if((0,s.S1)(this,t),this._state=(0,s.f0)({},t.data),this._intro=!0,document.getElementById("svelte-y20z76-style")||((e=(0,s.az)("style")).id="svelte-y20z76-style",e.textContent=".status-author-handle.svelte-y20z76{grid-area:author-handle;align-self:center;margin-left:5px;color:var(--deemphasized-text-color);font-size:1.1em;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.status-author-handle.status-in-notification.svelte-y20z76{color:var(--very-deemphasized-text-color)}",(0,s.R3)(document.head,e)),this._fragment=(a=this._state,o="@"+a.originalAccount.acct,{c(){i=(0,s.az)("span"),n=(0,s.rw)(o),this.h()},l(t){i=(0,s.d$)(t,"SPAN",{class:!0},!1);var e=(0,s.pI)(i);n=(0,s.M4)(e,o),e.forEach(s.r2),this.h()},h(){i.className=r="status-author-handle "+(a.isStatusInNotification?"status-in-notification":"")+" svelte-y20z76"},m(t,e){(0,s.$T)(t,i,e),(0,s.R3)(i,n)},p(t,e){t.originalAccount&&o!==(o="@"+e.originalAccount.acct)&&(0,s.a_)(n,o),t.isStatusInNotification&&r!==(r="status-author-handle "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-y20z76")&&(i.className=r)},d(t){t&&(0,s.r2)(i)}}),t.target){var l=(0,s.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(s.r2),this._mount(t.target,t.anchor)}}(0,s.f0)(u.prototype,s.uS);const h=u;var m=a(6633),f=a(8552);function p(t,e){var a,i;return{c(){a=(0,s.az)("span"),i=(0,s.rw)("Last Updated"),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.M4)(e,"Last Updated"),e.forEach(s.r2),this.h()},h(){a.className="sr-only"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i)},d(t){t&&(0,s.r2)(a)}}}function g(t,e){var a=new f.Z({root:t.root,store:t.store,data:{className:"status-edited-svg",href:"#fa-pencil"}});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},d(t){a.destroy(t)}}}function v(t,e){var a,i=new f.Z({root:t.root,store:t.store,data:{className:"status-edited-svg",href:"#fa-home"}});return{c(){a=(0,s.az)("span"),i._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{title:!0},!1);var e=(0,s.pI)(a);i._fragment.l(e),e.forEach(s.r2),this.h()},h(){a.title="Local only"},m(t,e){(0,s.$T)(t,a,e),i._mount(a,null)},d(t){t&&(0,s.r2)(a),i.destroy()}}}function b(t){var e,a,i,n,r,o,l,c,d,u,h,m,f,b,y,w,_;if((0,s.S1)(this,t),this._state=(0,s.f0)(this.store._init(["disableTapOnStatus"]),t.data),this.store._add(this,["disableTapOnStatus"]),this._recompute({uuid:1,$disableTapOnStatus:1,shortInlineFormattedDate:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-br82a-style")||((e=(0,s.az)("style")).id="svelte-br82a-style",e.textContent=".status-relative-date-wrap.svelte-br82a{grid-area:relative-date;align-self:center;margin-left:5px;margin-right:10px;font-size:1.1em;text-align:right;white-space:nowrap}.status-relative-date.svelte-br82a,.status-relative-date.svelte-br82a:hover,.status-relative-date.svelte-br82a:visited{color:var(--deemphasized-text-color)}.status-relative-date.status-in-notification.svelte-br82a,.status-relative-date.status-in-notification.svelte-br82a:hover,.status-relative-date.status-in-notification.svelte-br82a:visited{color:var(--very-deemphasized-text-color)}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,y=i.editedAtDate&&p(),w=i.editedAtDate&&g(a),_=i.localOnly&&v(a),{c(){n=(0,s.az)("span"),r=(0,s.az)("a"),y&&y.c(),o=(0,s.rw)("\n  "),l=(0,s.az)("time"),c=(0,s.rw)(i.shortInlineFormattedDate),h=(0,s.rw)("\n  "),w&&w.c(),b=(0,s.rw)("\n"),_&&_.c(),this.h()},l(t){n=(0,s.d$)(t,"SPAN",{class:!0},!1);var e=(0,s.pI)(n);r=(0,s.d$)(e,"A",{id:!0,class:!0,href:!0,rel:!0,tabindex:!0},!1);var a=(0,s.pI)(r);y&&y.l(a),o=(0,s.M4)(a,"\n  "),l=(0,s.d$)(a,"TIME",{datetime:!0,title:!0,"aria-label":!0},!1);var d=(0,s.pI)(l);c=(0,s.M4)(d,i.shortInlineFormattedDate),d.forEach(s.r2),h=(0,s.M4)(a,"\n  "),w&&w.l(a),a.forEach(s.r2),b=(0,s.M4)(e,"\n"),_&&_.l(e),e.forEach(s.r2),this.h()},h(){l.dateTime=d=i.editedAtDate||i.createdAtDate,l.title=u=i.absoluteFormattedEditedDate||i.absoluteFormattedCreatedDate,(0,s.P$)(l,"aria-label",i.formattedDateLabel),r.id=i.elementId,r.className=m="status-relative-date "+(i.isStatusInNotification?"status-in-notification":"")+" svelte-br82a",r.href=f="/statuses/"+i.originalStatusId,r.rel="prefetch",r.tabIndex=i.tabindex,n.className="status-relative-date-wrap svelte-br82a"},m(t,e){(0,s.$T)(t,n,e),(0,s.R3)(n,r),y&&y.m(r,null),(0,s.R3)(r,o),(0,s.R3)(r,l),(0,s.R3)(l,c),(0,s.R3)(r,h),w&&w.m(r,null),(0,s.R3)(n,b),_&&_.m(n,null)},p(t,e){e.editedAtDate?y||((y=p()).c(),y.m(r,o)):y&&(y.d(1),y=null),t.shortInlineFormattedDate&&(0,s.a_)(c,e.shortInlineFormattedDate),(t.editedAtDate||t.createdAtDate)&&d!==(d=e.editedAtDate||e.createdAtDate)&&(l.dateTime=d),(t.absoluteFormattedEditedDate||t.absoluteFormattedCreatedDate)&&u!==(u=e.absoluteFormattedEditedDate||e.absoluteFormattedCreatedDate)&&(l.title=u),t.formattedDateLabel&&(0,s.P$)(l,"aria-label",e.formattedDateLabel),e.editedAtDate?w||((w=g(a)).c(),w.m(r,null)):w&&(w.d(1),w=null),t.elementId&&(r.id=e.elementId),t.isStatusInNotification&&m!==(m="status-relative-date "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-br82a")&&(r.className=m),t.originalStatusId&&f!==(f="/statuses/"+e.originalStatusId)&&(r.href=f),t.tabindex&&(r.tabIndex=e.tabindex),e.localOnly?_||((_=v(a)).c(),_.m(n,null)):_&&(_.d(1),_=null)},d(t){t&&(0,s.r2)(n),y&&y.d(),w&&w.d(),_&&_.d()}}),t.target){var S=(0,s.pI)(t.target);t.hydrate?this._fragment.l(S):this._fragment.c(),S.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(b.prototype,s.uS),b.prototype._recompute=function(t,e){t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`status-relative-date-${t}`}(e))&&(t.elementId=!0),t.$disableTapOnStatus&&this._differs(e.tabindex,e.tabindex=function({$disableTapOnStatus:t}){return t?"0":"-1"}(e))&&(t.tabindex=!0),t.shortInlineFormattedDate&&this._differs(e.formattedDateLabel,e.formattedDateLabel=function({shortInlineFormattedDate:t}){return(0,m.A)([["time"]," - click to show thread"],{time:t})}(e))&&(t.formattedDateLabel=!0)};const y=b;var w=a(8094),_=a(5524),S=a(7965),I=a(8978);const x=t=>({format(e){if("number"!=typeof e)return"Never";try{return t.format(e)}catch(a){if(a instanceof RangeError)return"Never";throw a}}}),T=(0,I.I)((()=>x(new Intl.DateTimeFormat(S.M,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})))),$=(0,I.I)((()=>x(new Intl.DateTimeFormat(S.M,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))),A=(0,I.I)((()=>x(new Intl.DateTimeFormat(S.M,{year:"numeric",month:"short",day:"numeric"}))));function k(t,e){var a,i,n,r;return{c(){a=(0,s.az)("span"),i=(0,s.rw)("Edited "),n=(0,s.az)("time"),r=(0,s.rw)(e.displayAbsoluteFormattedEditedDate),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{class:!0},!1);var o=(0,s.pI)(a);i=(0,s.M4)(o,"Edited "),n=(0,s.d$)(o,"TIME",{datetime:!0,title:!0},!1);var l=(0,s.pI)(n);r=(0,s.M4)(l,e.displayAbsoluteFormattedEditedDate),l.forEach(s.r2),o.forEach(s.r2),this.h()},h(){n.dateTime=e.editedAtDate,n.title=e.absoluteFormattedEditedDate,a.className="status-edited-date"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),(0,s.R3)(a,n),(0,s.R3)(n,r)},p(t,e){t.displayAbsoluteFormattedEditedDate&&(0,s.a_)(r,e.displayAbsoluteFormattedEditedDate),t.editedAtDate&&(n.dateTime=e.editedAtDate),t.absoluteFormattedEditedDate&&(n.title=e.absoluteFormattedEditedDate)},d(t){t&&(0,s.r2)(a)}}}function C(t,e){var a,i=new f.Z({root:t.root,store:t.store,data:{className:"status-favs-reblogs-svg",href:"#fa-home"}});return{c(){a=(0,s.az)("span"),i._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{class:!0,title:!0},!1);var e=(0,s.pI)(a);i._fragment.l(e),e.forEach(s.r2),this.h()},h(){a.className="status-favs-reblogs svelte-1bdooue",a.title="Local only"},m(t,e){(0,s.$T)(t,a,e),i._mount(a,null)},d(t){t&&(0,s.r2)(a),i.destroy()}}}function N(t,e){var a;function i(t){return t.applicationWebsite?E:R}var n=i(e),r=n(t,e);return{c(){r.c(),a=(0,s.Yr)()},l(t){r.l(t),a=(0,s.Yr)()},m(t,e){r.m(t,e),(0,s.$T)(t,a,e)},p(e,s){n===(n=i(s))&&r?r.p(e,s):(r.d(1),(r=n(t,s)).c(),r.m(a.parentNode,a))},d(t){r.d(t),t&&(0,s.r2)(a)}}}function R(t,e){var a,i;return{c(){a=(0,s.az)("span"),i=(0,s.rw)(e.applicationName),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{class:!0},!1);var n=(0,s.pI)(a);i=(0,s.M4)(n,e.applicationName),n.forEach(s.r2),this.h()},h(){a.className="status-application status-application-span svelte-1bdooue"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i)},p(t,e){t.applicationName&&(0,s.a_)(i,e.applicationName)},d(t){t&&(0,s.r2)(a)}}}function E(t,e){var a,i,n={className:"status-application",href:e.applicationWebsite,showIcon:!1,ariaLabel:e.applicationLinkLabel},r=new w.Z({root:t.root,store:t.store,slots:{default:(0,s.xJ)()},data:n});return{c(){a=(0,s.az)("span"),i=(0,s.rw)(e.applicationName),r._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{class:!0},!1);var n=(0,s.pI)(a);i=(0,s.M4)(n,e.applicationName),n.forEach(s.r2),r._fragment.l(t),this.h()},h(){a.className="status-application-span svelte-1bdooue"},m(t,e){(0,s.R3)(r._slotted.default,a),(0,s.R3)(a,i),r._mount(t,e)},p(t,e){t.applicationName&&(0,s.a_)(i,e.applicationName);var a={};t.applicationWebsite&&(a.href=e.applicationWebsite),t.applicationLinkLabel&&(a.ariaLabel=e.applicationLinkLabel),r._set(a)},d(t){r.destroy(t)}}}function z(t){var e,a,i,n,r,o,l,c,d,u,h,m,p,g,v,b,y,S,I,x,T,$,A,R,E,z,M,D,L;if((0,s.S1)(this,t),this.store=_.h,this._state=(0,s.f0)((0,s.f0)(this.store._init(["disableReblogCounts","disableFavCounts","isMobileSize"]),{overrideNumReblogs:void 0,overrideNumFavs:void 0}),t.data),this.store._add(this,["disableReblogCounts","disableFavCounts","isMobileSize"]),this._recompute({originalStatus:1,application:1,$disableReblogCounts:1,overrideNumReblogs:1,$disableFavCounts:1,overrideNumFavs:1,createdAtDateTS:1,editedAtDateTS:1,$isMobileSize:1,numReblogs:1,numFavs:1,absoluteFormattedCreatedDate:1,applicationName:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-1bdooue-style")||((e=(0,s.az)("style")).id="svelte-1bdooue-style",e.textContent=".status-details.svelte-1bdooue{grid-area:details;display:flex;flex-wrap:wrap;grid-gap:0 20px;align-items:center;justify-content:left;margin:0 5px 10px}.status-absolute-date{font-size:1.1em;min-width:0}.status-edited-date{margin-left:20px}.status-absolute-date time{word-wrap:break-word;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.status-application{word-wrap:break-word;overflow:hidden;white-space:pre-wrap;font-size:1.1em}.status-application, a.status-application, a.status-application:hover{color:var(--deemphasized-text-color)}a.status-application{display:inline-flex;align-items:center}.status-application-span.svelte-1bdooue{word-wrap:break-word;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.status-favs-reblogs.svelte-1bdooue{font-size:1.1em;display:flex;flex-direction:row;align-items:center}.status-favs-reblogs.svelte-1bdooue span.svelte-1bdooue{margin-left:5px}.status-favs-reblogs.svelte-1bdooue,.status-favs-reblogs.svelte-1bdooue:hover,.status-favs-reblogs.svelte-1bdooue:visited{color:var(--deemphasized-text-color)}.status-favs-reblogs-svg{fill:var(--deemphasized-text-color);width:18px;height:18px}.status-absolute-date, .status-absolute-date a, .status-absolute-date a:hover, .status-absolute-date a:visited{color:var(--deemphasized-text-color)}@media(max-width: 479px){.status-absolute-date{font-size:1em}.status-favs-reblogs.svelte-1bdooue{font-size:1em}.status-application{font-size:1em}.status-details.svelte-1bdooue{grid-gap:0 10px}}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,A={href:i.originalStatus.url,showIcon:!0,ariaLabel:i.externalLinkLabel},R=new w.Z({root:a.root,store:a.store,slots:{default:(0,s.xJ)()},data:A}),E=i.editedAtDate&&k(0,i),z=i.localOnly&&C(a),M=i.applicationName&&N(a,i),D=new f.Z({root:a.root,store:a.store,data:{className:"status-favs-reblogs-svg",href:"#fa-retweet"}}),L=new f.Z({root:a.root,store:a.store,data:{className:"status-favs-reblogs-svg",href:"#fa-star"}}),{c(){n=(0,s.az)("div"),r=(0,s.az)("span"),o=(0,s.az)("time"),l=(0,s.rw)(i.displayAbsoluteFormattedCreatedDate),R._fragment.c(),c=(0,s.rw)("\n  "),E&&E.c(),d=(0,s.rw)("\n  "),z&&z.c(),u=(0,s.rw)("\n  "),M&&M.c(),h=(0,s.rw)("\n  "),m=(0,s.az)("a"),D._fragment.c(),p=(0,s.rw)("\n    "),g=(0,s.az)("span"),v=(0,s.rw)(i.numReblogs),y=(0,s.rw)("\n  "),S=(0,s.az)("a"),L._fragment.c(),I=(0,s.rw)("\n    "),x=(0,s.az)("span"),T=(0,s.rw)(i.numFavs),this.h()},l(t){n=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(n);r=(0,s.d$)(e,"SPAN",{class:!0},!1);var a=(0,s.pI)(r);o=(0,s.d$)(t,"TIME",{datetime:!0,title:!0},!1);var f=(0,s.pI)(o);l=(0,s.M4)(f,i.displayAbsoluteFormattedCreatedDate),f.forEach(s.r2),R._fragment.l(a),c=(0,s.M4)(a,"\n  "),E&&E.l(a),a.forEach(s.r2),d=(0,s.M4)(e,"\n  "),z&&z.l(e),u=(0,s.M4)(e,"\n  "),M&&M.l(e),h=(0,s.M4)(e,"\n  "),m=(0,s.d$)(e,"A",{class:!0,rel:!0,href:!0,"aria-label":!0},!1);var b=(0,s.pI)(m);D._fragment.l(b),p=(0,s.M4)(b,"\n    "),g=(0,s.d$)(b,"SPAN",{class:!0},!1);var w=(0,s.pI)(g);v=(0,s.M4)(w,i.numReblogs),w.forEach(s.r2),b.forEach(s.r2),y=(0,s.M4)(e,"\n  "),S=(0,s.d$)(e,"A",{class:!0,rel:!0,href:!0,"aria-label":!0},!1);var _=(0,s.pI)(S);L._fragment.l(_),I=(0,s.M4)(_,"\n    "),x=(0,s.d$)(_,"SPAN",{class:!0},!1);var $=(0,s.pI)(x);T=(0,s.M4)($,i.numFavs),$.forEach(s.r2),_.forEach(s.r2),e.forEach(s.r2),this.h()},h(){o.dateTime=i.createdAtDate,o.title=i.absoluteFormattedCreatedDate,r.className="status-absolute-date",g.className="svelte-1bdooue",m.className="status-favs-reblogs status-reblogs svelte-1bdooue",m.rel="prefetch",m.href=b="/statuses/"+i.originalStatusId+"/reblogs",(0,s.P$)(m,"aria-label",i.reblogsLabel),x.className="svelte-1bdooue",S.className="status-favs-reblogs status-favs svelte-1bdooue",S.rel="prefetch",S.href=$="/statuses/"+i.originalStatusId+"/favorites",(0,s.P$)(S,"aria-label",i.favoritesLabel),n.className="status-details svelte-1bdooue"},m(t,e){(0,s.$T)(t,n,e),(0,s.R3)(n,r),(0,s.R3)(R._slotted.default,o),(0,s.R3)(o,l),R._mount(r,null),(0,s.R3)(r,c),E&&E.m(r,null),(0,s.R3)(n,d),z&&z.m(n,null),(0,s.R3)(n,u),M&&M.m(n,null),(0,s.R3)(n,h),(0,s.R3)(n,m),D._mount(m,null),(0,s.R3)(m,p),(0,s.R3)(m,g),(0,s.R3)(g,v),(0,s.R3)(n,y),(0,s.R3)(n,S),L._mount(S,null),(0,s.R3)(S,I),(0,s.R3)(S,x),(0,s.R3)(x,T)},p(t,e){t.displayAbsoluteFormattedCreatedDate&&(0,s.a_)(l,e.displayAbsoluteFormattedCreatedDate),t.createdAtDate&&(o.dateTime=e.createdAtDate),t.absoluteFormattedCreatedDate&&(o.title=e.absoluteFormattedCreatedDate);var i={};t.originalStatus&&(i.href=e.originalStatus.url),t.externalLinkLabel&&(i.ariaLabel=e.externalLinkLabel),R._set(i),e.editedAtDate?E?E.p(t,e):((E=k(0,e)).c(),E.m(r,null)):E&&(E.d(1),E=null),e.localOnly?z||((z=C(a)).c(),z.m(n,u)):z&&(z.d(1),z=null),e.applicationName?M?M.p(t,e):((M=N(a,e)).c(),M.m(n,h)):M&&(M.d(1),M=null),t.numReblogs&&(0,s.a_)(v,e.numReblogs),t.originalStatusId&&b!==(b="/statuses/"+e.originalStatusId+"/reblogs")&&(m.href=b),t.reblogsLabel&&(0,s.P$)(m,"aria-label",e.reblogsLabel),t.numFavs&&(0,s.a_)(T,e.numFavs),t.originalStatusId&&$!==($="/statuses/"+e.originalStatusId+"/favorites")&&(S.href=$),t.favoritesLabel&&(0,s.P$)(S,"aria-label",e.favoritesLabel)},d(t){t&&(0,s.r2)(n),R.destroy(),E&&E.d(),z&&z.d(),M&&M.d(),D.destroy(),L.destroy()}}),t.target){var F=(0,s.pI)(t.target);t.hydrate?this._fragment.l(F):this._fragment.c(),F.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(z.prototype,s.uS),z.prototype._recompute=function(t,e){t.originalStatus&&(this._differs(e.originalStatusId,e.originalStatusId=function({originalStatus:t}){return t.id}(e))&&(t.originalStatusId=!0),this._differs(e.application,e.application=function({originalStatus:t}){return t.application}(e))&&(t.application=!0)),t.application&&(this._differs(e.applicationName,e.applicationName=function({application:t}){return t&&t.name}(e))&&(t.applicationName=!0),this._differs(e.applicationWebsite,e.applicationWebsite=function({application:t}){return t&&t.website}(e))&&(t.applicationWebsite=!0)),(t.$disableReblogCounts||t.overrideNumReblogs||t.originalStatus)&&this._differs(e.numReblogs,e.numReblogs=function({$disableReblogCounts:t,overrideNumReblogs:e,originalStatus:a}){return t?0:"number"==typeof e?e:a.reblogs_count||0}(e))&&(t.numReblogs=!0),(t.$disableFavCounts||t.overrideNumFavs||t.originalStatus)&&this._differs(e.numFavs,e.numFavs=function({$disableFavCounts:t,overrideNumFavs:e,originalStatus:a}){return t?0:"number"==typeof e?e:a.favourites_count||0}(e))&&(t.numFavs=!0),(t.createdAtDateTS||t.editedAtDateTS||t.$isMobileSize)&&this._differs(e.displayAbsoluteFormattedCreatedDate,e.displayAbsoluteFormattedCreatedDate=function({createdAtDateTS:t,editedAtDateTS:e,$isMobileSize:a}){return(e||a?$:T)().format(t)}(e))&&(t.displayAbsoluteFormattedCreatedDate=!0),(t.editedAtDateTS||t.$isMobileSize)&&this._differs(e.displayAbsoluteFormattedEditedDate,e.displayAbsoluteFormattedEditedDate=function({editedAtDateTS:t,$isMobileSize:e}){return(t||e?$:T)().format(t)}(e))&&(t.displayAbsoluteFormattedEditedDate=!0),(t.$disableReblogCounts||t.numReblogs)&&this._differs(e.reblogsLabel,e.reblogsLabel=function({$disableReblogCounts:t,numReblogs:e}){return t?"Boost counts hidden":(0,m.A)(["Boosted ",["count","plural",0,{one:["1 time"],other:[["count"]," times"]}]],{count:e})}(e))&&(t.reblogsLabel=!0),(t.$disableFavCounts||t.numFavs)&&this._differs(e.favoritesLabel,e.favoritesLabel=function({$disableFavCounts:t,numFavs:e}){return t?"Favorite counts hidden":(0,m.A)(["Favorited ",["count","plural",0,{one:["1 time"],other:[["count"]," times"]}]],{count:e})}(e))&&(t.favoritesLabel=!0),t.absoluteFormattedCreatedDate&&this._differs(e.externalLinkLabel,e.externalLinkLabel=function({absoluteFormattedCreatedDate:t}){return(0,m.A)([["label"]," (opens in new window)"],{label:t})}(e))&&(t.externalLinkLabel=!0),t.applicationName&&this._differs(e.applicationLinkLabel,e.applicationLinkLabel=function({applicationName:t}){return(0,m.A)([["label"]," (opens in new window)"],{label:t})}(e))&&(t.applicationLinkLabel=!0)};const M=z;var D=a(7657),L=a(7539);const F={"&amp;":"&","&apos;":"'","&bdquo;":"„","&cent;":"¢","&circ;":"ˆ","&copy;":"©","&dagger;":"†","&Dagger;":"‡","&emsp;":" ","&ensp;":" ","&euro;":"€","&gt;":">","&ldquo;":"“","&lrm;":"","&lsaquo;":"‹","&lsquo;":"‘","&lt;":"<","&mdash;":"—","&nbsp;":" ","&ndash;":"–","&oelig;":"œ","&OElig;":"Œ","&permil;":"‰","&pound;":"£","&quot;":'"',"&rdquo;":"”","&reg;":"®","&rsaquo;":"›","&rsquo;":"’","&sbquo;":"‚","&scaron;":"š","&Scaron;":"Š","&thinsp;":" ","&tilde;":"˜","&yen;":"¥","&Yuml;":"Ÿ"},j=(0,I.I)((()=>function(t){const e=Object.keys(t).concat(["&#[0-9]{1,6};","&#x[a-fA-F0-9]{1,6};"]);return new RegExp("("+e.join("|")+")","g")}(F)));function P(t){return t.replace(j(),H)}function H(t){const e=F[t];if(e)return e;let a;try{return a=t.startsWith("&#x")?parseInt(t.substring(3,t.length-1),16):parseInt(t.substring(2,t.length-1),10),String.fromCodePoint(a)}catch(s){return t}}var O={open(){this.refs.cardlink&&this.refs.cardlink.click()}};function B(t,e){var a,i,n,r,o=e.imageUrl&&q(t,e);return{c(){a=(0,s.az)("div"),o&&o.c(),i=(0,s.rw)("\n    "),n=(0,s.az)("span"),r=(0,s.rw)(e.unescapedDescription),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var l=(0,s.pI)(a);o&&o.l(l),i=(0,s.M4)(l,"\n    "),n=(0,s.d$)(l,"SPAN",{class:!0},!1);var c=(0,s.pI)(n);r=(0,s.M4)(c,e.unescapedDescription),c.forEach(s.r2),l.forEach(s.r2),this.h()},h(){n.className="card-description svelte-1b7yje4",a.className="card-content svelte-1b7yje4"},m(t,e){(0,s.$T)(t,a,e),o&&o.m(a,null),(0,s.R3)(a,i),(0,s.R3)(a,n),(0,s.R3)(n,r)},p(e,n){n.imageUrl?o?o.p(e,n):((o=q(t,n)).c(),o.m(a,i)):o&&(o.d(1),o=null),e.unescapedDescription&&(0,s.a_)(r,n.unescapedDescription)},d(t){t&&(0,s.r2)(a),o&&o.d()}}}function q(t,e){var a,i={src:e.imageUrl,ariaHidden:!0},n=new D.Z({root:t.root,store:t.store,data:i});return{c(){a=(0,s.az)("div"),n._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(a);n._fragment.l(e),e.forEach(s.r2),this.h()},h(){a.className="status-card-image-container svelte-1b7yje4"},m(t,e){(0,s.$T)(t,a,e),n._mount(a,null)},p(t,e){var a={};t.imageUrl&&(a.src=e.imageUrl),n._set(a)},d(t){t&&(0,s.r2)(a),n.destroy()}}}function U(t,e){var a={scope:e.shortcutScope,key:"l"},s=new L.Z({root:t.root,store:t.store,data:a});return s.on("pressed",(function(a){t.open(e.url)})),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,a){e=a;var i={};t.shortcutScope&&(i.scope=e.shortcutScope),s._set(i)},d(t){s.destroy(t)}}}function V(t){var e,a,i,n,r,o,l,c,d,u;if((0,s.S1)(this,t),this.refs={},this._state=(0,s.f0)({},t.data),this._recompute({originalStatus:1,card:1,title:1,url:1,hostname:1,description:1},this._state),this._intro=!0,document.getElementById("svelte-1b7yje4-style")||((e=(0,s.az)("style")).id="svelte-1b7yje4-style",e.textContent=".status-card.svelte-1b7yje4{grid-area:card;display:flex;flex-direction:column;padding:15px;text-decoration:none;color:inherit;overflow:hidden;margin:10px 10px 10px 5px;border:1px solid var(--settings-list-item-border);background:var(--settings-list-item-bg-hover);border-radius:6px}.status-card.svelte-1b7yje4:hover{background:transparent}.status-card.svelte-1b7yje4 :first-child:not(span){flex-shrink:0}.card-content.svelte-1b7yje4{display:flex;align-items:center;margin-top:5px;opacity:0.8}.status-card-image-container.svelte-1b7yje4{position:relative;width:50px;height:50px}.status-card-image-container img{object-fit:contain;width:100%;height:100%}.card-title.svelte-1b7yje4{font-weight:600;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block;opacity:0.8}.card-description.svelte-1b7yje4{font-size:small;line-height:1.4;max-height:5.6em;overflow:hidden}.card-description.svelte-1b7yje4:not(:first-child){margin-left:15px}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,d=i.description&&B(a,i),u=i.enableShortcuts&&U(a,i),{c(){n=(0,s.az)("a"),r=(0,s.az)("strong"),o=(0,s.rw)(i.unescapedTitle),l=(0,s.rw)("\n  "),d&&d.c(),c=(0,s.rw)("\n  "),u&&u.c(),this.h()},l(t){n=(0,s.d$)(t,"A",{href:!0,class:!0,target:!0,rel:!0},!1);var e=(0,s.pI)(n);r=(0,s.d$)(e,"STRONG",{class:!0,title:!0},!1);var a=(0,s.pI)(r);o=(0,s.M4)(a,i.unescapedTitle),a.forEach(s.r2),l=(0,s.M4)(e,"\n  "),d&&d.l(e),c=(0,s.M4)(e,"\n  "),u&&u.l(e),e.forEach(s.r2),this.h()},h(){r.className="card-title svelte-1b7yje4",r.title=i.unescapedTitle,n.href=i.url,n.className="status-card svelte-1b7yje4",n.target="_blank",n.rel="noopener noreferrer"},m(t,e){(0,s.$T)(t,n,e),(0,s.R3)(n,r),(0,s.R3)(r,o),(0,s.R3)(n,l),d&&d.m(n,null),(0,s.R3)(n,c),u&&u.m(n,null),a.refs.cardlink=n},p(t,e){t.unescapedTitle&&((0,s.a_)(o,e.unescapedTitle),r.title=e.unescapedTitle),e.description?d?d.p(t,e):((d=B(a,e)).c(),d.m(n,c)):d&&(d.d(1),d=null),e.enableShortcuts?u?u.p(t,e):((u=U(a,e)).c(),u.m(n,null)):u&&(u.d(1),u=null),t.url&&(n.href=e.url)},d(t){t&&(0,s.r2)(n),d&&d.d(),u&&u.d(),a.refs.cardlink===n&&(a.refs.cardlink=null)}}),t.target){var h=(0,s.pI)(t.target);t.hydrate?this._fragment.l(h):this._fragment.c(),h.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(V.prototype,s.uS),(0,s.f0)(V.prototype,O),V.prototype._recompute=function(t,e){t.originalStatus&&this._differs(e.card,e.card=function({originalStatus:t}){return t.card}(e))&&(t.card=!0),t.card&&this._differs(e.title,e.title=function({card:t}){return t.title}(e))&&(t.title=!0),t.title&&this._differs(e.unescapedTitle,e.unescapedTitle=function({title:t}){return t&&P(t)}(e))&&(t.unescapedTitle=!0),t.card&&this._differs(e.url,e.url=function({card:t}){return t.url}(e))&&(t.url=!0),t.url&&this._differs(e.hostname,e.hostname=function({url:t}){return window.URL?new window.URL(t).hostname:""}(e))&&(t.hostname=!0),(t.card||t.hostname)&&this._differs(e.description,e.description=function({card:t,hostname:e}){return t.description||t.provider_name||e}(e))&&(t.description=!0),t.description&&this._differs(e.unescapedDescription,e.unescapedDescription=function({description:t}){return t&&P(t)}(e))&&(t.unescapedDescription=!0),t.card&&this._differs(e.imageUrl,e.imageUrl=function({card:t}){return t.image}(e))&&(t.imageUrl=!0)};const W=V;var Z=a(4437);const K={};function Q(t){const{type:e,keyCode:a,target:s}=t;if("click"!==e&&("keydown"!==e||13!==a))return;let i,n=s;for(;n&&!(i=n.getAttribute("id"));)n=n.parentElement;if(i&&K[i]){if("click"===e){const t=window.getSelection(),e=t&&t.toString();if(e&&e.length&&s.contains(t.anchorNode))return}0,K[i](t)&&(t.preventDefault(),t.stopPropagation())}}function Y(t,e){Object.assign(K,e),t.on("destroy",(()=>{Object.keys(e).forEach((t=>{delete K[t]}))}))}function G(t,e,a){Y(t,{[e]:a})}window.__delegateCallbacks=K,document.addEventListener("click",Q),document.addEventListener("keydown",Q);var J=a(385),X=a(4886);var tt=a(7031),et=a(1162);async function at(t,e){const{online:a}=_.h.get();if(!a)return void tt.A.say(e?"You cannot favorite while offline":"You cannot unfavorite while offline");const{currentInstance:s,accessToken:i}=_.h.get(),n=e?async function(t,e,a){const s=`${(0,X.E)(t)}/api/v1/statuses/${a}/favourite`;return(0,J.v_)(s,null,(0,X.I)(e),{timeout:J.$Q})}(s,i,t):async function(t,e,a){const s=`${(0,X.E)(t)}/api/v1/statuses/${a}/unfavourite`;return(0,J.v_)(s,null,(0,X.I)(e),{timeout:J.$Q})}(s,i,t);_.h.setStatusFavorited(s,t,e);try{await n,await et.F.setStatusFavorited(s,t,e)}catch(r){console.error(r),tt.A.say(e?(0,m.A)(["Unable to favorite: ",["error"]],{error:r.message||""}):(0,m.A)(["Unable to unfavorite: ",["error"]],{error:r.message||""})),_.h.setStatusFavorited(s,t,!e)}}async function st(t,e){if(!_.h.get())return void tt.A.say(e?"You cannot boost while offline.":"You cannot unboost while offline.");const{currentInstance:a,accessToken:s}=_.h.get(),i=e?async function(t,e,a){const s=`${(0,X.E)(t)}/api/v1/statuses/${a}/reblog`;return(0,J.v_)(s,null,(0,X.I)(e))}(a,s,t):async function(t,e,a){const s=`${(0,X.E)(t)}/api/v1/statuses/${a}/unreblog`;return(0,J.v_)(s,null,(0,X.I)(e))}(a,s,t);_.h.setStatusReblogged(a,t,e);try{await i,await et.F.setStatusReblogged(a,t,e)}catch(n){console.error(n),tt.A.say(e?(0,m.A)(["Failed to boost: ",["error"]],{error:n.message||""}):(0,m.A)(["Failed to unboost: ",["error"]],{error:n.message||""})),_.h.setStatusReblogged(a,t,!e)}}var it=a(9216);const nt={properties:[{fill:"var(--action-button-fill-color)"},{fill:"var(--action-button-fill-color-pressed)"}],options:{duration:333,easing:"linear"}},rt=[{properties:[{transform:"scale(1)"},{transform:"scale(2)"},{transform:"scale(1)"}],options:{duration:333,easing:"ease-in-out"}},nt],ot=[{properties:[{transform:"rotate(0deg)"},{transform:"rotate(180deg)"},{transform:"rotate(360deg)"}],options:{duration:666,easing:"ease-in-out"}},nt],lt=[nt],ct=[{properties:[{backgroundColor:"var(--action-button-fill-color)"},{backgroundColor:"var(--action-button-fill-color-pressed)"}],options:{duration:222,easing:"linear"}},{properties:[{transform:"scale(1)"},{transform:"scale(1.175)"},{transform:"scale(1)"}],options:{duration:222,easing:"ease-in-out"}}];var dt=a(4358),ut=a(9961),ht=a(3134),mt=a(9279),ft=a(9614);var pt={toggleFavorite(t){const{originalStatusId:e,favorited:a}=this.get(),s=!a;at(e,s),s&&this.refs.favoriteIcon.animate(ot,lt),t&&(0,ut.y)(s?"favorited":"unfavorited")},reblog(t){const{originalStatusId:e,reblogged:a}=this.get(),s=!a;st(e,s),s&&this.refs.reblogIcon.animate(rt,lt),t&&(0,ut.y)(s?"boosted":"unboosted")},reply(){requestAnimationFrame((()=>{const{uuid:t}=this.get(),{repliesShown:e}=this.store.get();e[t]=!e[t],this.store.set({repliesShown:e}),this.fire("recalculateHeight")}))},dismiss(){const{replyShown:t}=this.get();t&&(this.reply(),this.fire("focusArticle"))},async onOptionsClick(){const{originalStatus:t,originalAccountId:e}=this.get(),s=(0,it.Mb)(e),i=await Promise.all([a.e(7080),a.e(9499),a.e(8047)]).then(a.bind(a,8047)).then((t=>t.default));await Promise.resolve(),i(t),await s},onPostedStatus(t,e){const{originalStatusId:a,uuid:s}=this.get();if(t===a&&e===s)try{this.refs.node.querySelector(".status-toolbar-reply-button").focus({preventScroll:!0})}catch(i){}},bookmark(){const{originalStatus:t,originalStatusId:e}=this.get();(0,ht.k)(e,!t.bookmarked)},async pickEmojiReaction(){const{originalStatus:t}=this.get();(0,mt.r)(t)},openQuoteDialog(){const{originalStatus:t}=this.get();(0,ft.m)(t)}};function gt(){const{favoriteKey:t,reblogKey:e,replyKey:a,optionsKey:s}=this.get();Y(this,{[t]:()=>(this.toggleFavorite(),!0),[e]:()=>(this.reblog(),!0),[a]:()=>(this.reply(),!0),[s]:()=>(this.onOptionsClick(),!0)}),(0,dt.on)("postedStatus",this,this.onPostedStatus)}function vt(t,e){var a,i,n,r,o={scope:e.shortcutScope,key:"f"},l=new L.Z({root:t.root,store:t.store,data:o});l.on("pressed",(function(e){t.toggleFavorite(!0)}));var c={scope:e.shortcutScope,key:"r"},d=new L.Z({root:t.root,store:t.store,data:c});d.on("pressed",(function(e){t.reply()}));var u={scope:e.shortcutScope,key:"escape"},h=new L.Z({root:t.root,store:t.store,data:u});h.on("pressed",(function(e){t.dismiss()}));var m={scope:e.shortcutScope,key:"b"},f=new L.Z({root:t.root,store:t.store,data:m});f.on("pressed",(function(e){t.reblog(!0)}));var p={scope:e.shortcutScope,key:"a"},g=new L.Z({root:t.root,store:t.store,data:p});return g.on("pressed",(function(e){t.bookmark()})),{c(){l._fragment.c(),a=(0,s.rw)("\n"),d._fragment.c(),i=(0,s.rw)("\n"),h._fragment.c(),n=(0,s.rw)("\n"),f._fragment.c(),r=(0,s.rw)("\n"),g._fragment.c()},l(t){l._fragment.l(t),a=(0,s.M4)(t,"\n"),d._fragment.l(t),i=(0,s.M4)(t,"\n"),h._fragment.l(t),n=(0,s.M4)(t,"\n"),f._fragment.l(t),r=(0,s.M4)(t,"\n"),g._fragment.l(t)},m(t,e){l._mount(t,e),(0,s.$T)(t,a,e),d._mount(t,e),(0,s.$T)(t,i,e),h._mount(t,e),(0,s.$T)(t,n,e),f._mount(t,e),(0,s.$T)(t,r,e),g._mount(t,e)},p(t,e){var a={};t.shortcutScope&&(a.scope=e.shortcutScope),l._set(a);var s={};t.shortcutScope&&(s.scope=e.shortcutScope),d._set(s);var i={};t.shortcutScope&&(i.scope=e.shortcutScope),h._set(i);var n={};t.shortcutScope&&(n.scope=e.shortcutScope),f._set(n);var r={};t.shortcutScope&&(r.scope=e.shortcutScope),g._set(r)},d(t){l.destroy(t),t&&(0,s.r2)(a),d.destroy(t),t&&(0,s.r2)(i),h.destroy(t),t&&(0,s.r2)(n),f.destroy(t),t&&(0,s.r2)(r),g.destroy(t)}}}function bt(t){var e;if((0,s.S1)(this,t),this.store=_.h,this.refs={},this._state=(0,s.f0)((0,s.f0)(this.store._init(["currentVerifyCredentials","currentStatusModifications"]),{favoriteAnimation:ot,reblogAnimation:rt}),t.data),this.store._add(this,["currentVerifyCredentials","currentStatusModifications"]),this._recompute({inReplyToId:1,originalAccountId:1,$currentVerifyCredentials:1,visibility:1,isUser:1,originalStatusId:1,$currentStatusModifications:1,originalStatus:1,uuid:1,status:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-2k9jd8-style")||((e=(0,s.az)("style")).id="svelte-2k9jd8-style",e.textContent=".status-toolbar.svelte-2k9jd8{grid-area:toolbar;display:flex;justify-content:space-between;pointer-events:none}.status-toolbar.status-in-own-thread.svelte-2k9jd8{margin-left:63px}@media(max-width: 767px){.status-toolbar.status-in-own-thread.svelte-2k9jd8{margin-left:53px}}@media(max-width: 240px){.status-toolbar .icon-button-svg:not(.icon-button-check){width:20px;height:20px}}",(0,s.R3)(document.head,e)),this._fragment=function(t,e){var a,i,n,r,o,l,c,d={className:"status-toolbar-reply-button",label:e.replyLabel,pressedLabel:"Close reply",pressable:!0,pressed:e.replyShown,href:e.replyIcon,clickListener:!1,elementId:e.replyKey},u=new Z.Z({root:t.root,store:t.store,data:d}),h={label:e.reblogLabel,pressedLabel:"Unboost",pressable:!e.reblogDisabled,pressed:e.reblogged,checked:e.reblogged,disabled:e.reblogDisabled,href:e.reblogIcon,clickListener:!1,elementId:e.reblogKey,rightClickListener:e.hasQuote},m=new Z.Z({root:t.root,store:t.store,data:h});m.on("rightClick",(function(e){t.openQuoteDialog()})),t.refs.reblogIcon=m;var f={label:"Favorite",pressedLabel:"Unfavorite",pressable:!0,pressed:e.favorited,checked:e.favorited,href:"#fa-star",clickListener:!1,elementId:e.favoriteKey,rightClickListener:e.hasReactions},p=new Z.Z({root:t.root,store:t.store,data:f});p.on("rightClick",(function(e){t.pickEmojiReaction()})),t.refs.favoriteIcon=p;var g={label:"More options",href:"#fa-ellipsis-h",clickListener:!1,elementId:e.optionsKey},v=new Z.Z({root:t.root,store:t.store,data:g}),b=e.enableShortcuts&&vt(t,e);return{c(){a=(0,s.az)("div"),u._fragment.c(),i=(0,s.rw)("\n  "),m._fragment.c(),n=(0,s.rw)("\n  "),p._fragment.c(),r=(0,s.rw)("\n  "),v._fragment.c(),l=(0,s.rw)("\n"),b&&b.c(),c=(0,s.Yr)(),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(a);u._fragment.l(e),i=(0,s.M4)(e,"\n  "),m._fragment.l(e),n=(0,s.M4)(e,"\n  "),p._fragment.l(e),r=(0,s.M4)(e,"\n  "),v._fragment.l(e),e.forEach(s.r2),l=(0,s.M4)(t,"\n"),b&&b.l(t),c=(0,s.Yr)(),this.h()},h(){a.className=o="status-toolbar "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-2k9jd8"},m(e,o){(0,s.$T)(e,a,o),u._mount(a,null),(0,s.R3)(a,i),m._mount(a,null),(0,s.R3)(a,n),p._mount(a,null),(0,s.R3)(a,r),v._mount(a,null),t.refs.node=a,(0,s.$T)(e,l,o),b&&b.m(e,o),(0,s.$T)(e,c,o)},p(e,s){var i={};e.replyLabel&&(i.label=s.replyLabel),e.replyShown&&(i.pressed=s.replyShown),e.replyIcon&&(i.href=s.replyIcon),e.replyKey&&(i.elementId=s.replyKey),u._set(i);var n={};e.reblogLabel&&(n.label=s.reblogLabel),e.reblogDisabled&&(n.pressable=!s.reblogDisabled),e.reblogged&&(n.pressed=s.reblogged),e.reblogged&&(n.checked=s.reblogged),e.reblogDisabled&&(n.disabled=s.reblogDisabled),e.reblogIcon&&(n.href=s.reblogIcon),e.reblogKey&&(n.elementId=s.reblogKey),e.hasQuote&&(n.rightClickListener=s.hasQuote),m._set(n);var r={};e.favorited&&(r.pressed=s.favorited),e.favorited&&(r.checked=s.favorited),e.favoriteKey&&(r.elementId=s.favoriteKey),e.hasReactions&&(r.rightClickListener=s.hasReactions),p._set(r);var l={};e.optionsKey&&(l.elementId=s.optionsKey),v._set(l),e.isStatusInOwnThread&&o!==(o="status-toolbar "+(s.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-2k9jd8")&&(a.className=o),s.enableShortcuts?b?b.p(e,s):((b=vt(t,s)).c(),b.m(c.parentNode,c)):b&&(b.d(1),b=null)},d(e){e&&(0,s.r2)(a),u.destroy(),m.destroy(),t.refs.reblogIcon===m&&(t.refs.reblogIcon=null),p.destroy(),t.refs.favoriteIcon===p&&(t.refs.favoriteIcon=null),v.destroy(),t.refs.node===a&&(t.refs.node=null),e&&(0,s.r2)(l),b&&b.d(e),e&&(0,s.r2)(c)}}}(this,this._state),this.root._oncreate.push((()=>{gt.call(this),this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(bt.prototype,s.uS),(0,s.f0)(bt.prototype,pt),bt.prototype._recompute=function(t,e){t.inReplyToId&&(this._differs(e.replyLabel,e.replyLabel=function({inReplyToId:t}){return t?"Reply to thread":"Reply"}(e))&&(t.replyLabel=!0),this._differs(e.replyIcon,e.replyIcon=function({inReplyToId:t}){return t?"#fa-reply-all":"#fa-reply"}(e))&&(t.replyIcon=!0)),(t.originalAccountId||t.$currentVerifyCredentials)&&this._differs(e.isUser,e.isUser=function({originalAccountId:t,$currentVerifyCredentials:e}){return e&&t===e.id}(e))&&(t.isUser=!0),(t.visibility||t.isUser)&&(this._differs(e.reblogLabel,e.reblogLabel=function({visibility:t,isUser:e}){switch(t){case"private":return e?"Boost (Followers-only)":"Cannot be boosted because this is followers-only";case"direct":return"Cannot be boosted because this is a direct message";default:return"Boost"}}(e))&&(t.reblogLabel=!0),this._differs(e.reblogIcon,e.reblogIcon=function({visibility:t,isUser:e}){switch(t){case"private":return e?"#fa-retweet-lock":"#fa-lock";case"direct":return"#fa-envelope";default:return"#fa-retweet"}}(e))&&(t.reblogIcon=!0),this._differs(e.reblogDisabled,e.reblogDisabled=function({visibility:t,isUser:e}){return"direct"===t||"private"===t&&!e}(e))&&(t.reblogDisabled=!0)),(t.originalStatusId||t.$currentStatusModifications||t.originalStatus)&&(this._differs(e.reblogged,e.reblogged=function({originalStatusId:t,$currentStatusModifications:e,originalStatus:a}){return e&&t in e.reblogs?e.reblogs[t]:a.reblogged}(e))&&(t.reblogged=!0),this._differs(e.favorited,e.favorited=function({originalStatusId:t,$currentStatusModifications:e,originalStatus:a}){return e&&t in e.favorites?e.favorites[t]:a.favourited}(e))&&(t.favorited=!0)),t.uuid&&(this._differs(e.favoriteKey,e.favoriteKey=function({uuid:t}){return`fav-${t}`}(e))&&(t.favoriteKey=!0),this._differs(e.reblogKey,e.reblogKey=function({uuid:t}){return`reblog-${t}`}(e))&&(t.reblogKey=!0),this._differs(e.replyKey,e.replyKey=function({uuid:t}){return`reply-${t}`}(e))&&(t.replyKey=!0),this._differs(e.optionsKey,e.optionsKey=function({uuid:t}){return`options-${t}`}(e))&&(t.optionsKey=!0)),t.status&&(this._differs(e.hasReactions,e.hasReactions=function({status:t}){return Boolean(t.reactions||t.emoji_reactions)}(e))&&(t.hasReactions=!0),this._differs(e.hasQuote,e.hasQuote=function({status:t}){return"quote"in t}(e))&&(t.hasQuote=!0))};const yt=bt;var wt=a(689),_t=a(2177),St=a(7041);function It(t){var e,a,i,n,r,o;if((0,s.S1)(this,t),this._state=(0,s.f0)({className:void 0},t.data),this._intro=!0,document.getElementById("svelte-1omcmdf-style")||((e=(0,s.az)("style")).id="svelte-1omcmdf-style",e.textContent=".play-video-icon.svelte-1omcmdf{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;z-index:40;pointer-events:none}.play-video-icon-svg{width:72px;height:72px;fill:var(--mask-svg-fill);border-radius:100%;background:var(--mask-opaque-bg)}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,o=new f.Z({root:a.root,store:a.store,data:{className:"play-video-icon-svg",href:"#fa-play-circle"}}),{c(){n=(0,s.az)("div"),o._fragment.c(),this.h()},l(t){n=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(n);o._fragment.l(e),e.forEach(s.r2),this.h()},h(){n.className=r="play-video-icon "+(i.className||"")+" svelte-1omcmdf"},m(t,e){(0,s.$T)(t,n,e),o._mount(n,null)},p(t,e){t.className&&r!==(r="play-video-icon "+(e.className||"")+" svelte-1omcmdf")&&(n.className=r)},d(t){t&&(0,s.r2)(n),o.destroy()}}),t.target){var l=(0,s.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(It.prototype,s.uS);const xt=It;var Tt=a(2755);function $t(t){var e,a,i,n,r,o;if((0,s.S1)(this,t),this.store=_.h,this._state=(0,s.f0)({focus:void 0},t.data),this._recompute({focus:1},this._state),this._intro=!0,document.getElementById("svelte-13xrf0t-style")||((e=(0,s.az)("style")).id="svelte-13xrf0t-style",e.textContent=".autoplay-wrapper.svelte-13xrf0t{position:relative;margin:0;padding:0;width:100%;height:100%}.autoplay-video.svelte-13xrf0t{background-repeat:no-repeat;background-position:center;background-size:cover;display:flex;width:100%;height:100%;overflow:hidden}",(0,s.R3)(document.head,e)),this._fragment=(a=this._state,{c(){i=(0,s.az)("div"),n=(0,s.az)("video"),this.h()},l(t){i=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(i);n=(0,s.d$)(e,"VIDEO",{class:!0,"aria-label":!0,style:!0,poster:!0,width:!0,height:!0,src:!0,autoplay:!0,muted:!0,loop:!0,"webkit-playsinline":!0,playsinline:!0},!1),(0,s.pI)(n).forEach(s.r2),e.forEach(s.r2),this.h()},h(){n.className="autoplay-video svelte-13xrf0t",(0,s.P$)(n,"aria-label",r=a.ariaLabel||""),n.style.cssText=o=a.focusStyle+" background-image: url("+a.poster+"); ",n.poster=a.poster,n.width=a.width,n.height=a.height,n.src=a.src,n.autoplay=!0,n.muted=!0,n.loop=!0,(0,s.P$)(n,"webkit-playsinline",!0),(0,s.P$)(n,"playsinline",!0),i.className="autoplay-wrapper svelte-13xrf0t"},m(t,e){(0,s.$T)(t,i,e),(0,s.R3)(i,n)},p(t,e){t.ariaLabel&&r!==(r=e.ariaLabel||"")&&(0,s.P$)(n,"aria-label",r),(t.focusStyle||t.poster)&&o!==(o=e.focusStyle+" background-image: url("+e.poster+"); ")&&(n.style.cssText=o),t.poster&&(n.poster=e.poster),t.width&&(n.width=e.width),t.height&&(n.height=e.height),t.src&&(n.src=e.src)},d(t){t&&(0,s.r2)(i)}}),t.target){var l=(0,s.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(s.r2),this._mount(t.target,t.anchor)}}(0,s.f0)($t.prototype,s.uS),$t.prototype._recompute=function(t,e){t.focus&&this._differs(e.focusStyle,e.focusStyle=function({focus:t}){return t?`object-position: ${(0,Tt.i)(t.x)}% ${100-(0,Tt.i)(t.y)}%;`:"background-position: center;"}(e))&&(t.focusStyle=!0)};const At=$t;var kt={onMouseOver(t){this.set({playing:t})}};function Ct(t,e){var a={alt:e.label||"",title:e.label||"",src:e.staticSrc,blurhash:e.blurhash,fallback:e.oneTransparentPixel,width:e.width,height:e.height,background:"var(--loading-bg)",focus:e.focus},s=new D.Z({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.label&&(a.alt=e.label||""),t.label&&(a.title=e.label||""),t.staticSrc&&(a.src=e.staticSrc),t.blurhash&&(a.blurhash=e.blurhash),t.oneTransparentPixel&&(a.fallback=e.oneTransparentPixel),t.width&&(a.width=e.width),t.height&&(a.height=e.height),t.focus&&(a.focus=e.focus),s._set(a)},d(t){s.destroy(t)}}}function Nt(t,e){var a={ariaLabel:e.label,poster:e.poster,src:e.src,width:e.width,height:e.height,focus:e.focus},s=new At({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.label&&(a.ariaLabel=e.label),t.poster&&(a.poster=e.poster),t.src&&(a.src=e.src),t.width&&(a.width=e.width),t.height&&(a.height=e.height),t.focus&&(a.focus=e.focus),s._set(a)},d(t){s.destroy(t)}}}function Rt(t,e){var a={className:e.playing?"hidden":""},s=new xt({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.playing&&(a.className=e.playing?"hidden":""),s._set(a)},d(t){s.destroy(t)}}}function Et(t){var e;if((0,s.S1)(this,t),this.refs={},this._state=(0,s.f0)({oneTransparentPixel:wt.Pf,focus:void 0},t.data),this._intro=!0,document.getElementById("svelte-1qqm7fb-style")||((e=(0,s.az)("style")).id="svelte-1qqm7fb-style",e.textContent=".non-autoplay-gifv.svelte-1qqm7fb{cursor:zoom-in;display:flex;position:relative;margin:0;padding:0;width:100%;height:100%;overflow:hidden}.non-autoplay-gifv .play-video-icon{transition:opacity 0.2s linear}",(0,s.R3)(document.head,e)),this._fragment=function(t,e){var a,i,n;function r(t){return t.playing?Nt:Ct}var o=r(e),l=o(t,e),c=!e.blurhash&&Rt(t,e);return{c(){a=(0,s.az)("div"),l.c(),i=(0,s.rw)("\n  "),c&&c.c(),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(a);l.l(e),i=(0,s.M4)(e,"\n  "),c&&c.l(e),e.forEach(s.r2),this.h()},h(){n=St.gn.call(t,a,(function(e){t.onMouseOver(e)})),a.className="non-autoplay-gifv svelte-1qqm7fb"},m(e,n){(0,s.$T)(e,a,n),l.m(a,null),(0,s.R3)(a,i),c&&c.m(a,null),t.refs.node=a},p(e,s){o===(o=r(s))&&l?l.p(e,s):(l.d(1),(l=o(t,s)).c(),l.m(a,i)),s.blurhash?c&&(c.d(1),c=null):c?c.p(e,s):((c=Rt(t,s)).c(),c.m(a,null))},d(e){e&&(0,s.r2)(a),l.d(),c&&c.d(),n.destroy(),t.refs.node===a&&(t.refs.node=null)}}}(this,this._state),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(Et.prototype,s.uS),(0,s.f0)(Et.prototype,kt);const zt=Et;function Mt(t){var e,a,i,n,r,o;if((0,s.S1)(this,t),this._state=(0,s.f0)({className:void 0},t.data),this._intro=!0,document.getElementById("svelte-11c7wjb-style")||((e=(0,s.az)("style")).id="svelte-11c7wjb-style",e.textContent=".file-icon.svelte-11c7wjb{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;z-index:40;pointer-events:none}.file-icon-svg{width:72px;height:72px;fill:var(--mask-svg-fill);background:var(--mask-opaque-bg)}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,o=new f.Z({root:a.root,store:a.store,data:{className:"file-icon-svg",href:"#fa-file"}}),{c(){n=(0,s.az)("div"),o._fragment.c(),this.h()},l(t){n=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(n);o._fragment.l(e),e.forEach(s.r2),this.h()},h(){n.className=r="file-icon "+(i.className||"")+" svelte-11c7wjb"},m(t,e){(0,s.$T)(t,n,e),o._mount(n,null)},p(t,e){t.className&&r!==(r="file-icon "+(e.className||"")+" svelte-11c7wjb")&&(n.className=r)},d(t){t&&(0,s.r2)(n),o.destroy()}}),t.target){var l=(0,s.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(Mt.prototype,s.uS);const Dt=Mt,Lt=new Map;let Ft,jt;function Pt({decodedBlurhash:t,$ignoreBlurhash:e}){return!e&&t?t:function(t){const e=getComputedStyle(document.documentElement).getPropertyValue(t);let a=Lt.get(e);return a||(Ft||(Ft=document.createElement("canvas"),Ft.width=1,Ft.height=1,jt=Ft.getContext("2d")),jt.fillStyle=e,jt.rect(0,0,1,1),jt.fill(),a=Ft.toDataURL(),Lt.set(e,a)),a}("--mask-bg")}var Ht={onClick(){return(async()=>{const{mediaAttachments:t,index:e}=this.get();t[e];(await(0,_t.e)())(t,e)})(),!0}};async function Ot(){const{elementId:t}=this.get();G(this,t,(()=>this.onClick()))}function Bt(t,e){var a,i,n;function r(t){return"gifv"===t.type&&t.$autoplayGifs&&!t.blurhash?Zt:"gifv"===t.type?Wt:Vt}var o=r(e),l=o(t,e);return{c(){a=(0,s.az)("button"),l.c(),this.h()},l(t){a=(0,s.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0,title:!0,tabindex:!0,"aria-hidden":!0,"data-width":!0,"data-height":!0},!1);var e=(0,s.pI)(a);l.l(e),e.forEach(s.r2),this.h()},h(){i=St.gn.call(t,a,(function(e){t.set({mouseover:e})})),a.id=e.elementId,a.type="button",a.className=n="inline-media show-image-button focus-after "+(e.noNativeWidthHeight&&!e.blurhash?"no-native-width-height":"")+" svelte-zqupjk",(0,s.P$)(a,"aria-label",e.imageButtonAriaLabel),a.title=e.description,a.tabIndex=e.tabindex,(0,s.P$)(a,"aria-hidden",e.ariaHidden),a.dataset.width=e.inlineWidth,a.dataset.height=e.inlineHeight},m(t,e){(0,s.$T)(t,a,e),l.m(a,null)},p(e,i){o===(o=r(i))&&l?l.p(e,i):(l.d(1),(l=o(t,i)).c(),l.m(a,null)),e.elementId&&(a.id=i.elementId),(e.noNativeWidthHeight||e.blurhash)&&n!==(n="inline-media show-image-button focus-after "+(i.noNativeWidthHeight&&!i.blurhash?"no-native-width-height":"")+" svelte-zqupjk")&&(a.className=n),e.imageButtonAriaLabel&&(0,s.P$)(a,"aria-label",i.imageButtonAriaLabel),e.description&&(a.title=i.description),e.tabindex&&(a.tabIndex=i.tabindex),e.ariaHidden&&(0,s.P$)(a,"aria-hidden",i.ariaHidden),e.inlineWidth&&(a.dataset.width=i.inlineWidth),e.inlineHeight&&(a.dataset.height=i.inlineHeight)},d(t){t&&(0,s.r2)(a),l.d(),i.destroy()}}}function qt(t,e){var a,i,n,r=new xt({root:t.root,store:t.store}),o="video"===e.type&&Kt(t,e);return{c(){a=(0,s.az)("button"),r._fragment.c(),i=(0,s.rw)("\n      "),o&&o.c(),this.h()},l(t){a=(0,s.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0,tabindex:!0,"aria-hidden":!0,"data-width":!0,"data-height":!0},!1);var e=(0,s.pI)(a);r._fragment.l(e),i=(0,s.M4)(e,"\n      "),o&&o.l(e),e.forEach(s.r2),this.h()},h(){a.id=e.elementId,a.type="button",a.className=n="inline-media play-video-button focus-after "+("audio"===e.type?"play-audio-button":"")+" "+(e.noNativeWidthHeight?"no-native-width-height":"")+" svelte-zqupjk",(0,s.P$)(a,"aria-label",e.videoOrAudioButtonLabel),a.tabIndex=e.tabindex,(0,s.P$)(a,"aria-hidden",e.ariaHidden),a.dataset.width=e.inlineWidth,a.dataset.height=e.inlineHeight},m(t,e){(0,s.$T)(t,a,e),r._mount(a,null),(0,s.R3)(a,i),o&&o.m(a,null)},p(e,i){"video"===i.type?o?o.p(e,i):((o=Kt(t,i)).c(),o.m(a,null)):o&&(o.d(1),o=null),e.elementId&&(a.id=i.elementId),(e.type||e.noNativeWidthHeight)&&n!==(n="inline-media play-video-button focus-after "+("audio"===i.type?"play-audio-button":"")+" "+(i.noNativeWidthHeight?"no-native-width-height":"")+" svelte-zqupjk")&&(a.className=n),e.videoOrAudioButtonLabel&&(0,s.P$)(a,"aria-label",i.videoOrAudioButtonLabel),e.tabindex&&(a.tabIndex=i.tabindex),e.ariaHidden&&(0,s.P$)(a,"aria-hidden",i.ariaHidden),e.inlineWidth&&(a.dataset.width=i.inlineWidth),e.inlineHeight&&(a.dataset.height=i.inlineHeight)},d(t){t&&(0,s.r2)(a),r.destroy(),o&&o.d()}}}function Ut(t,e){var a,i=new Dt({root:t.root,store:t.store});return{c(){a=(0,s.az)("button"),i._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0,tabindex:!0,"aria-hidden":!0,"data-width":!0,"data-height":!0},!1);var e=(0,s.pI)(a);i._fragment.l(e),e.forEach(s.r2),this.h()},h(){a.id=e.elementId,a.type="button",a.className="inline-media file-button focus-after svelte-zqupjk",(0,s.P$)(a,"aria-label","attatched file"),a.tabIndex=e.tabindex,(0,s.P$)(a,"aria-hidden",e.ariaHidden),a.dataset.width=e.inlineWidth,a.dataset.height=e.inlineHeight},m(t,e){(0,s.$T)(t,a,e),i._mount(a,null)},p(t,e){t.elementId&&(a.id=e.elementId),t.tabindex&&(a.tabIndex=e.tabindex),t.ariaHidden&&(0,s.P$)(a,"aria-hidden",e.ariaHidden),t.inlineWidth&&(a.dataset.width=e.inlineWidth),t.inlineHeight&&(a.dataset.height=e.inlineHeight)},d(t){t&&(0,s.r2)(a),i.destroy()}}}function Vt(t,e){var a={alt:e.description,title:e.description,src:e.previewUrl,fallback:e.oneTransparentPixel,blurhash:e.blurhash,width:e.inlineWidth,height:e.inlineHeight,background:"var(--loading-bg)",focus:e.focus},s=new D.Z({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.description&&(a.alt=e.description),t.description&&(a.title=e.description),t.previewUrl&&(a.src=e.previewUrl),t.oneTransparentPixel&&(a.fallback=e.oneTransparentPixel),t.blurhash&&(a.blurhash=e.blurhash),t.inlineWidth&&(a.width=e.inlineWidth),t.inlineHeight&&(a.height=e.inlineHeight),t.focus&&(a.focus=e.focus),s._set(a)},d(t){s.destroy(t)}}}function Wt(t,e){var a={class:e.noNativeWidthHeight?"no-native-width-height":"",label:e.animatedLabel,poster:e.previewUrl,blurhash:e.blurhash,src:e.url,staticSrc:e.previewUrl,width:e.inlineWidth,height:e.inlineHeight,playing:e.mouseover,focus:e.focus},s=new zt({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.noNativeWidthHeight&&(a.class=e.noNativeWidthHeight?"no-native-width-height":""),t.animatedLabel&&(a.label=e.animatedLabel),t.previewUrl&&(a.poster=e.previewUrl),t.blurhash&&(a.blurhash=e.blurhash),t.url&&(a.src=e.url),t.previewUrl&&(a.staticSrc=e.previewUrl),t.inlineWidth&&(a.width=e.inlineWidth),t.inlineHeight&&(a.height=e.inlineHeight),t.mouseover&&(a.playing=e.mouseover),t.focus&&(a.focus=e.focus),s._set(a)},d(t){s.destroy(t)}}}function Zt(t,e){var a={ariaLabel:e.animatedLabel,poster:e.previewUrl,src:e.url,width:e.inlineWidth,height:e.inlineHeight,focus:e.focus},s=new At({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.animatedLabel&&(a.ariaLabel=e.animatedLabel),t.previewUrl&&(a.poster=e.previewUrl),t.url&&(a.src=e.url),t.inlineWidth&&(a.width=e.inlineWidth),t.inlineHeight&&(a.height=e.inlineHeight),t.focus&&(a.focus=e.focus),s._set(a)},d(t){s.destroy(t)}}}function Kt(t,e){var a={alt:e.description,title:e.description,src:e.previewUrl,fallback:e.oneTransparentPixel,blurhash:e.blurhash,width:e.inlineWidth,height:e.inlineHeight,background:"var(--loading-bg)",focus:e.focus},s=new D.Z({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.description&&(a.alt=e.description),t.description&&(a.title=e.description),t.previewUrl&&(a.src=e.previewUrl),t.oneTransparentPixel&&(a.fallback=e.oneTransparentPixel),t.blurhash&&(a.blurhash=e.blurhash),t.inlineWidth&&(a.width=e.inlineWidth),t.inlineHeight&&(a.height=e.inlineHeight),t.focus&&(a.focus=e.focus),s._set(a)},d(t){s.destroy(t)}}}function Qt(t){var e;if((0,s.S1)(this,t),this.store=_.h,this._state=(0,s.f0)((0,s.f0)(this.store._init(["ignoreBlurhash","autoplayGifs"]),{oneTransparentPixel:wt.Pf,mouseover:void 0}),t.data),this.store._add(this,["ignoreBlurhash","autoplayGifs"]),this._recompute({media:1,meta:1,small:1,smallWidth:1,smallHeight:1,original:1,originalWidth:1,originalHeight:1,uuid:1,decodedBlurhash:1,$ignoreBlurhash:1,blurhashToUse:1,showAsSensitive:1,type:1,description:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-zqupjk-style")||((e=(0,s.az)("style")).id="svelte-zqupjk-style",e.textContent=".status-media video, .status-media img{object-fit:cover}.play-video-button.svelte-zqupjk,.show-image-button.svelte-zqupjk,.file-button.svelte-zqupjk{margin:auto;padding:0;border-radius:0;border:none;background:none}.file-button.svelte-zqupjk{background:var(--mask-bg)}.play-audio-button.svelte-zqupjk{background:var(--audio-bg)}.show-image-button.svelte-zqupjk{cursor:zoom-in}.inline-media.svelte-zqupjk{position:relative;width:100%;height:100%}.no-native-width-height img, .no-native-width-height video{object-fit:contain}",(0,s.R3)(document.head,e)),this._fragment=function(t,e){var a;function i(t){return t.blurhash||"unknown"!==t.type?t.blurhash||"video"!==t.type&&"audio"!==t.type?Bt:qt:Ut}var n=i(e),r=n(t,e);return{c(){r.c(),a=(0,s.Yr)()},l(t){r.l(t),a=(0,s.Yr)()},m(t,e){r.m(t,e),(0,s.$T)(t,a,e)},p(e,s){n===(n=i(s))&&r?r.p(e,s):(r.d(1),(r=n(t,s)).c(),r.m(a.parentNode,a))},d(t){r.d(t),t&&(0,s.r2)(a)}}}(this,this._state),this.root._oncreate.push((()=>{Ot.call(this),this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(Qt.prototype,s.uS),(0,s.f0)(Qt.prototype,Ht),Qt.prototype._recompute=function(t,e){t.media&&this._differs(e.meta,e.meta=function({media:t}){return t.meta}(e))&&(t.meta=!0),t.meta&&(this._differs(e.focus,e.focus=function({meta:t}){return t&&t.focus}(e))&&(t.focus=!0),this._differs(e.small,e.small=function({meta:t}){return t&&t.small}(e))&&(t.small=!0)),t.small&&this._differs(e.smallWidth,e.smallWidth=function({small:t}){return t&&t.width}(e))&&(t.smallWidth=!0),t.smallWidth&&this._differs(e.inlineWidth,e.inlineWidth=function({smallWidth:t}){return t||wt.IP}(e))&&(t.inlineWidth=!0),t.small&&this._differs(e.smallHeight,e.smallHeight=function({small:t}){return t&&t.height}(e))&&(t.smallHeight=!0),t.smallHeight&&this._differs(e.inlineHeight,e.inlineHeight=function({smallHeight:t}){return t||wt.$b}(e))&&(t.inlineHeight=!0),t.meta&&this._differs(e.original,e.original=function({meta:t}){return t&&t.original}(e))&&(t.original=!0),t.original&&this._differs(e.originalWidth,e.originalWidth=function({original:t}){return t&&t.width}(e))&&(t.originalWidth=!0),(t.originalWidth||t.smallWidth)&&this._differs(e.modalWidth,e.modalWidth=function({originalWidth:t,smallWidth:e}){return t||e||0}(e))&&(t.modalWidth=!0),t.original&&this._differs(e.originalHeight,e.originalHeight=function({original:t}){return t&&t.height}(e))&&(t.originalHeight=!0),(t.originalHeight||t.smallHeight)&&this._differs(e.modalHeight,e.modalHeight=function({originalHeight:t,smallHeight:e}){return t||e||0}(e))&&(t.modalHeight=!0),(t.smallWidth||t.smallHeight)&&this._differs(e.noNativeWidthHeight,e.noNativeWidthHeight=function({smallWidth:t,smallHeight:e}){return"number"!=typeof t||"number"!=typeof e}(e))&&(t.noNativeWidthHeight=!0),(t.media||t.uuid)&&this._differs(e.elementId,e.elementId=function({media:t,uuid:e}){return`media-${e}-${t.id}`}(e))&&(t.elementId=!0),t.media&&(this._differs(e.description,e.description=function({media:t}){return t.description||""}(e))&&(t.description=!0),this._differs(e.previewUrl,e.previewUrl=function({media:t}){return t.preview_url}(e))&&(t.previewUrl=!0),this._differs(e.decodedBlurhash,e.decodedBlurhash=function({media:t}){return t.decodedBlurhash}(e))&&(t.decodedBlurhash=!0)),(t.decodedBlurhash||t.$ignoreBlurhash)&&this._differs(e.blurhashToUse,e.blurhashToUse=Pt(e))&&(t.blurhashToUse=!0),(t.blurhashToUse||t.showAsSensitive)&&this._differs(e.blurhash,e.blurhash=function({blurhashToUse:t,showAsSensitive:e}){return e&&t}(e))&&(t.blurhash=!0),t.media&&(this._differs(e.url,e.url=function({media:t}){return t.url}(e))&&(t.url=!0),this._differs(e.type,e.type=function({media:t}){return t.type}(e))&&(t.type=!0)),t.showAsSensitive&&(this._differs(e.tabindex,e.tabindex=function({showAsSensitive:t}){return t?"-1":"0"}(e))&&(t.tabindex=!0),this._differs(e.ariaHidden,e.ariaHidden=function({showAsSensitive:t}){return t}(e))&&(t.ariaHidden=!0)),(t.type||t.description)&&(this._differs(e.imageButtonAriaLabel,e.imageButtonAriaLabel=function({type:t,description:e}){return(0,m.A)(["Show ",["animated","select",{true:["animated"],other:[]}]," image: ",["description"]],{animated:"gifv"===t,description:e})}(e))&&(t.imageButtonAriaLabel=!0),this._differs(e.videoOrAudioButtonLabel,e.videoOrAudioButtonLabel=function({type:t,description:e}){return(0,m.A)(["Play ",["audio","select",{true:["audio"],other:["video"]}],": ",["description"]],{audio:"audio"===t,description:e})}(e))&&(t.videoOrAudioButtonLabel=!0)),t.description&&this._differs(e.animatedLabel,e.animatedLabel=function({description:t}){return(0,m.A)(["Animated image: ",["description"]],{description:t})}(e))&&(t.animatedLabel=!0)};const Yt=Qt;var Gt=a(658);a(4762);var Jt={toggleSensitiveMedia(t){const{uuid:e}=this.get(),{sensitivesShown:a}=this.store.get();return a[e]=!a[e],this.store.set({sensitivesShown:a}),this.fire("recalculateHeight"),t&&requestAnimationFrame((()=>{const t=this.refs.hideSensitiveMedia||this.refs.showSensitiveMedia;try{t.focus({preventScroll:!0})}catch(e){console.error("ignored focus error",e)}})),!0},async showFirstMedia(){const{mediaAttachments:t}=this.get();(await(0,_t.e)())(t,0)}};function Xt(){const{elementId:t}=this.get();G(this,t,(()=>this.toggleSensitiveMedia(!0)))}function te(t,e,a){const s=Object.create(t);return s.media=e[a],s.index=a,s}function ee(t,e,a){const s=Object.create(t);return s.media=e[a],s.index=a,s}function ae(t,e){for(var a,i,n=e.mediaAttachments,r=[],o=0;o<n.length;o+=1)r[o]=ie(t,te(e,n,o));return{c(){a=(0,s.az)("div"),i=(0,s.az)("easrng-image-grid");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"EASRNG-IMAGE-GRID",{class:!0,style:!0},!1);for(var n=(0,s.pI)(i),o=0;o<r.length;o+=1)r[o].l(n);n.forEach(s.r2),e.forEach(s.r2),this.h()},h(){i.className=e.innerComputedClass+" svelte-1l7yx5k",i.style.cssText=e.computedStyle,a.className="status-media svelte-1l7yx5k"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i);for(var n=0;n<r.length;n+=1)r[n].m(i,null)},p(e,a){if(e.mediaAttachments||e.uuid||e.showAsSensitive){n=a.mediaAttachments;for(var s=0;s<n.length;s+=1){const o=te(a,n,s);r[s]?r[s].p(e,o):(r[s]=ie(t,o),r[s].c(),r[s].m(i,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}e.innerComputedClass&&(i.className=a.innerComputedClass+" svelte-1l7yx5k"),e.computedStyle&&(i.style.cssText=a.computedStyle)},d(t){t&&(0,s.r2)(a),(0,s.kw)(r,t)}}}function se(t,e){var a,i,n,r,o,l;function c(t){return t.sensitiveShown?re:ne}for(var d=c(e),u=d(t,e),h=e.mediaAttachments,m=[],f=0;f<h.length;f+=1)m[f]=oe(t,ee(e,h,f));var p=e.enableShortcuts&&le(t,e);return{c(){a=(0,s.az)("div"),i=(0,s.az)("easrng-image-grid"),n=(0,s.az)("div"),u.c(),r=(0,s.rw)("\n    ");for(var t=0;t<m.length;t+=1)m[t].c();o=(0,s.rw)("\n"),p&&p.c(),l=(0,s.Yr)(),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"EASRNG-IMAGE-GRID",{class:!0,style:!0},!1);var c=(0,s.pI)(i);n=(0,s.d$)(c,"DIV",{slot:!0},!1);var d=(0,s.pI)(n);u.l(d),d.forEach(s.r2),r=(0,s.M4)(c,"\n    ");for(var h=0;h<m.length;h+=1)m[h].l(c);c.forEach(s.r2),e.forEach(s.r2),o=(0,s.M4)(t,"\n"),p&&p.l(t),l=(0,s.Yr)(),this.h()},h(){(0,s.P$)(n,"slot","extra"),i.className=e.innerComputedClass+" svelte-1l7yx5k",i.style.cssText=e.computedStyle,a.className=e.computedClass+" svelte-1l7yx5k"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),(0,s.R3)(i,n),u.m(n,null),(0,s.R3)(i,r);for(var c=0;c<m.length;c+=1)m[c].m(i,null);(0,s.$T)(t,o,e),p&&p.m(t,e),(0,s.$T)(t,l,e)},p(e,s){if(d===(d=c(s))&&u?u.p(e,s):(u.d(1),(u=d(t,s)).c(),u.m(n,null)),e.mediaAttachments||e.uuid||e.showAsSensitive){h=s.mediaAttachments;for(var r=0;r<h.length;r+=1){const a=ee(s,h,r);m[r]?m[r].p(e,a):(m[r]=oe(t,a),m[r].c(),m[r].m(i,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=h.length}e.innerComputedClass&&(i.className=s.innerComputedClass+" svelte-1l7yx5k"),e.computedStyle&&(i.style.cssText=s.computedStyle),e.computedClass&&(a.className=s.computedClass+" svelte-1l7yx5k"),s.enableShortcuts?p?p.p(e,s):((p=le(t,s)).c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null)},d(t){t&&(0,s.r2)(a),u.d(),(0,s.kw)(m,t),t&&(0,s.r2)(o),p&&p.d(t),t&&(0,s.r2)(l)}}}function ie(t,e){var a={media:e.media,uuid:e.uuid,mediaAttachments:e.mediaAttachments,index:e.index,showAsSensitive:e.showAsSensitive},s=new Yt({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.mediaAttachments&&(a.media=e.media),t.uuid&&(a.uuid=e.uuid),t.mediaAttachments&&(a.mediaAttachments=e.mediaAttachments),t.showAsSensitive&&(a.showAsSensitive=e.showAsSensitive),s._set(a)},d(t){s.destroy(t)}}}function ne(t,e){var a,i,n,r,o,l,c=new f.Z({root:t.root,store:t.store,data:{className:"status-sensitive-media-svg",href:"#fa-eye"}});return{c(){a=(0,s.az)("button"),i=(0,s.az)("div"),n=(0,s.az)("div"),r=(0,s.rw)("Sensitive content. Click to show."),o=(0,s.rw)("\n        "),l=(0,s.az)("div"),c._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"DIV",{class:!0},!1);var d=(0,s.pI)(i);n=(0,s.d$)(d,"DIV",{class:!0},!1);var u=(0,s.pI)(n);r=(0,s.M4)(u,"Sensitive content. Click to show."),u.forEach(s.r2),d.forEach(s.r2),o=(0,s.M4)(e,"\n        "),l=(0,s.d$)(e,"DIV",{class:!0},!1);var h=(0,s.pI)(l);c._fragment.l(h),h.forEach(s.r2),e.forEach(s.r2),this.h()},h(){n.className="status-sensitive-media-warning-text svelte-1l7yx5k",i.className="status-sensitive-media-warning svelte-1l7yx5k",l.className="svg-wrapper svelte-1l7yx5k",a.id=e.elementId,a.type="button",a.className="status-sensitive-media-button svelte-1l7yx5k",(0,s.P$)(a,"aria-label","Show sensitive media")},m(e,d){(0,s.$T)(e,a,d),(0,s.R3)(a,i),(0,s.R3)(i,n),(0,s.R3)(n,r),(0,s.R3)(a,o),(0,s.R3)(a,l),c._mount(l,null),t.refs.showSensitiveMedia=a},p(t,e){t.elementId&&(a.id=e.elementId)},d(e){e&&(0,s.r2)(a),c.destroy(),t.refs.showSensitiveMedia===a&&(t.refs.showSensitiveMedia=null)}}}function re(t,e){var a,i,n=new f.Z({root:t.root,store:t.store,data:{className:"status-sensitive-media-svg",href:"#fa-eye-slash"}});return{c(){a=(0,s.az)("button"),i=(0,s.az)("div"),n._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"BUTTON",{id:!0,type:!0,class:!0,"aria-label":!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"DIV",{class:!0},!1);var r=(0,s.pI)(i);n._fragment.l(r),r.forEach(s.r2),e.forEach(s.r2),this.h()},h(){i.className="svg-wrapper svelte-1l7yx5k",a.id=e.elementId,a.type="button",a.className="status-sensitive-media-button svelte-1l7yx5k",(0,s.P$)(a,"aria-label","Hide sensitive media")},m(e,r){(0,s.$T)(e,a,r),(0,s.R3)(a,i),n._mount(i,null),t.refs.hideSensitiveMedia=a},p(t,e){t.elementId&&(a.id=e.elementId)},d(e){e&&(0,s.r2)(a),n.destroy(),t.refs.hideSensitiveMedia===a&&(t.refs.hideSensitiveMedia=null)}}}function oe(t,e){var a={media:e.media,uuid:e.uuid,mediaAttachments:e.mediaAttachments,index:e.index,showAsSensitive:e.showAsSensitive},s=new Yt({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.mediaAttachments&&(a.media=e.media),t.uuid&&(a.uuid=e.uuid),t.mediaAttachments&&(a.mediaAttachments=e.mediaAttachments),t.showAsSensitive&&(a.showAsSensitive=e.showAsSensitive),s._set(a)},d(t){s.destroy(t)}}}function le(t,e){var a={scope:e.shortcutScope,key:"y"},s=new L.Z({root:t.root,store:t.store,data:a});return s.on("pressed",(function(e){t.toggleSensitiveMedia(!1)})),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.shortcutScope&&(a.scope=e.shortcutScope),s._set(a)},d(t){s.destroy(t)}}}function ce(t,e){var a={scope:e.shortcutScope,key:"i"},s=new L.Z({root:t.root,store:t.store,data:a});return s.on("pressed",(function(e){t.showFirstMedia()})),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.shortcutScope&&(a.scope=e.shortcutScope),s._set(a)},d(t){s.destroy(t)}}}function de(t){var e;if((0,s.S1)(this,t),this.store=_.h,this.refs={},this._state=(0,s.f0)(this.store._init(["sensitivesShown","markMediaAsSensitive","neverMarkMediaAsSensitive"]),t.data),this.store._add(this,["sensitivesShown","markMediaAsSensitive","neverMarkMediaAsSensitive"]),this._recompute({$sensitivesShown:1,uuid:1,sensitiveShown:1,originalStatus:1,$markMediaAsSensitive:1,$neverMarkMediaAsSensitive:1,sensitive:1,mediaAttachments:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-1l7yx5k-style")||((e=(0,s.az)("style")).id="svelte-1l7yx5k-style",e.textContent=".status-sensitive-media-container.svelte-1l7yx5k{grid-area:media;width:100%;margin:10px 0;position:relative;border-radius:0;border:none;background:none}.status-sensitive-inner-div.svelte-1l7yx5k{height:100%}.status-sensitive-media-container.svelte-1l7yx5k .status-sensitive-inner-div.svelte-1l7yx5k{position:relative;width:100%}.status-sensitive-media-button.svelte-1l7yx5k{margin:0;padding:0;border:none;background:none}.status-sensitive-media-button.svelte-1l7yx5k:hover{background:none}.status-sensitive-media-button.svelte-1l7yx5k:active{background:none}.status-sensitive-media-shown.svelte-1l7yx5k .status-sensitive-media-button.svelte-1l7yx5k{position:absolute;top:5px;left:5px;z-index:90}.status-sensitive-media-hidden.svelte-1l7yx5k .status-sensitive-media-button.svelte-1l7yx5k{position:absolute;right:0;bottom:0;width:100%;height:100%}.status-sensitive-media-container.svelte-1l7yx5k .status-sensitive-media-warning.svelte-1l7yx5k{top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;color:var(--deemphasized-text-color);z-index:60;padding:0 10px;position:absolute}.status-sensitive-media-container.svelte-1l7yx5k .status-sensitive-media-warning .status-sensitive-media-warning-text.svelte-1l7yx5k{background:var(--mask-bg);padding:10px;border-radius:6px;color:var(--blurhash-sensitive-text-color)}.status-sensitive-media-container.svelte-1l7yx5k .svg-wrapper.svelte-1l7yx5k{display:flex;align-items:flex-start;justify-content:flex-start;z-index:40;pointer-events:none;background:var(--mask-bg)}.status-sensitive-media-hidden.svelte-1l7yx5k .svg-wrapper.svelte-1l7yx5k{position:absolute;background:none;top:5px;left:5px;right:0;bottom:0}.status-sensitive-media-container.svelte-1l7yx5k .svg-wrapper.svelte-1l7yx5k{border-radius:6px}.status-sensitive-media-container.status-sensitive-media-shown.svelte-1l7yx5k .svg-wrapper.svelte-1l7yx5k{background:none}.status-sensitive-media-svg{width:24px;height:24px;fill:var(--mask-svg-fill);border-radius:2px;background:var(--mask-opaque-bg);margin:5px;padding:6px 10px}.status-sensitive-media-container.status-sensitive-media-hidden .status-sensitive-media-svg{fill:var(--blurhash-sensitive-text-color);background:var(--mask-bg)}.status-media.svelte-1l7yx5k{grid-area:media;margin:10px 10px 10px 5px}.status-media.svelte-1l7yx5k easrng-image-grid.svelte-1l7yx5k{overflow:hidden;border-radius:6px;position:relative;max-height:calc(50vh * var(--attatchment-count))}.status-media.svelte-1l7yx5k .inline-media img,.status-media.svelte-1l7yx5k .inline-media .lazy-image{width:100%;height:100%}.status-media.status-media-is-sensitive.svelte-1l7yx5k{height:inherit;margin:0}",(0,s.R3)(document.head,e)),this._fragment=function(t,e){var a,i;function n(t){return t.sensitive?se:ae}var r=n(e),o=r(t,e),l=e.enableShortcuts&&ce(t,e);return{c(){o.c(),a=(0,s.rw)("\n"),l&&l.c(),i=(0,s.Yr)()},l(t){o.l(t),a=(0,s.M4)(t,"\n"),l&&l.l(t),i=(0,s.Yr)()},m(t,e){o.m(t,e),(0,s.$T)(t,a,e),l&&l.m(t,e),(0,s.$T)(t,i,e)},p(e,s){r===(r=n(s))&&o?o.p(e,s):(o.d(1),(o=r(t,s)).c(),o.m(a.parentNode,a)),s.enableShortcuts?l?l.p(e,s):((l=ce(t,s)).c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(t){o.d(t),t&&(0,s.r2)(a),l&&l.d(t),t&&(0,s.r2)(i)}}}(this,this._state),this.root._oncreate.push((()=>{Xt.call(this),this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(de.prototype,s.uS),(0,s.f0)(de.prototype,Jt),de.prototype._recompute=function(t,e){(t.$sensitivesShown||t.uuid)&&this._differs(e.sensitiveShown,e.sensitiveShown=function({$sensitivesShown:t,uuid:e}){return!!t[e]}(e))&&(t.sensitiveShown=!0),t.sensitiveShown&&this._differs(e.computedClass,e.computedClass=function({sensitiveShown:t}){return(0,Gt.q)("status-sensitive-media-container",t?"status-sensitive-media-shown":"status-sensitive-media-hidden","status-media")}(e))&&(t.computedClass=!0),t.originalStatus&&this._differs(e.mediaAttachments,e.mediaAttachments=function({originalStatus:t}){return t.media_attachments}(e))&&(t.mediaAttachments=!0),(t.originalStatus||t.$markMediaAsSensitive||t.$neverMarkMediaAsSensitive)&&this._differs(e.sensitive,e.sensitive=function({originalStatus:t,$markMediaAsSensitive:e,$neverMarkMediaAsSensitive:a}){return!a&&(e||t.sensitive||t.spoiler_text)}(e))&&(t.sensitive=!0),t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`sensitive-${t}`}(e))&&(t.elementId=!0),t.sensitive&&this._differs(e.innerComputedClass,e.innerComputedClass=function({sensitive:t}){return(0,Gt.q)(t&&"status-media-is-sensitive")}(e))&&(t.innerComputedClass=!0),t.mediaAttachments&&this._differs(e.computedStyle,e.computedStyle=function({mediaAttachments:t}){return`--attatchment-count:${t.length}`}(e))&&(t.computedStyle=!0),(t.sensitive||t.sensitiveShown)&&this._differs(e.showAsSensitive,e.showAsSensitive=function({sensitive:t,sensitiveShown:e}){return!!t&&!e}(e))&&(t.showAsSensitive=!0)};const ue=de;var he=a(8183),me=a(751);function fe(t){try{return new URL(t,location.href).origin!==location.origin}catch(e){return console.error("Ignoring malformed URL",t),!0}}function pe(t,e){const a=t.childNodes;let s,i,n=a.length;for(;n--;)s=a[n],i=s.nodeType,3===i?e.push(s):1!==i||"ownerSVGElement"in s||/^(?:iframe|noframes|noscript|script|select|style|textarea|code|pre)$/.test(s.nodeName.toLowerCase())||pe(s,e);return e}function ge(t,e,a){let s=1,i=0;for(;i<t.length;)if("\\"===t[i]&&t[i+1]===e)s++,i+=2;else if("\\"===t[i]&&t[i+1]===a){if(s--,0===s)break;i+=2}else i++;return{consumed:t.slice(0,i),remaining:t.slice(i+2)}}function ve(t){const e=[],s=pe(t,[]);let i,n,r,o,l=s.length;for(;l--;){function c(t,s){i=!0;const n=document.createElement("span");return n.textContent=t,e.push(Promise.all([a.e(2793).then(a.bind(a,1008)),new Promise(((t,e)=>{if(document.querySelector("#theKatexStyle"))return t();const a=document.createElement("link");a.addEventListener("load",t),a.addEventListener("error",e),a.id="theKatexStyle",a.rel="stylesheet",a.integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI",a.crossOrigin="anonymous",a.href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css",document.head.appendChild(a)}))]).then((t=>t[0].default)).then((e=>{e.render(t,n,{throwOnError:!1,displayMode:s})}))),n}let d;for(i=!1,n=document.createDocumentFragment(),r=s[l],o=r.nodeValue;d=o.match(/((?<!\$)\$\$(?!\$))|(\\\()|(\\\[)/);){const u=o.slice(0,d.index);if(""!==u&&n.appendChild(document.createTextNode(u)),o=o.slice(d.index+d[0].length),d[1]){const h=o.slice(0,o.indexOf("$$"));n.appendChild(c(h,!1)),o=o.slice(h.length+2)}else if(d[2]){const{consumed:m,remaining:f}=ge(o,"(",")");n.appendChild(c(m,!1)),o=f}else if(d[3]){const{consumed:p,remaining:g}=ge(o,"[","]");n.appendChild(c(p,!0)),o=g}}""!==o&&n.appendChild(document.createTextNode(o)),i&&r.parentNode.replaceChild(n,r)}return e.length?Promise.all(e):null}var be={hydrateContent(){(0,he.B)("hydrateContent");const t=this.refs.node,{originalStatus:e,uuid:s}=this.get(),{mentions:i,tags:n}=e;let r=0;const o=Array.from(t.getElementsByTagName("A"));for(const c of o){if(n&&c.classList.contains("hashtag"))for(const a of n)c.getAttribute("href").toLowerCase().endsWith(`/${a.name.toLowerCase()}`)&&(c.setAttribute("href",`/tags/${a.name}`),c.setAttribute("id",`status-content-link-${s}-${++r}`),c.removeAttribute("target"),c.removeAttribute("rel"));else if(i&&c.classList.contains("mention"))for(const a of i)c.getAttribute("href")===a.url&&(c.setAttribute("href",`/accounts/${a.id}`),c.setAttribute("title",`@${a.acct}`),c.setAttribute("id",`status-content-link-${s}-${++r}`),c.removeAttribute("target"),c.removeAttribute("rel"));const t=c.getAttribute("href"),e=new URL(t,location.href),o=e.href.match(/^https?:\/\/(?:[^/]+?\.)?(?:twitter\.com|nitter\.[^/]+)(?:\/(.*))?$/);o?(c.setAttribute("href",`/nitter/${encodeURIComponent(o[1]||"")}`),c.setAttribute("target","_blank"),c.setAttribute("rel","nofollow noopener")):e.hostname.startsWith("pinafore")&&"/confetti"===e.pathname&&(c.setAttribute("title","confetti!"),c.setAttribute("target","_self"),c.setAttribute("href","/confetti"),c.addEventListener("click",(function(t){t.preventDefault(),Promise.all([a.e(9883),a.e(5593)]).then(a.bind(a,5593)).then((t=>t.default)).then((t=>t()))}))),fe(t)&&(c.setAttribute("title",t),c.setAttribute("target","_blank"),c.setAttribute("rel","nofollow noopener"))}const l=ve(t);l&&l.then((()=>{this.fire("recalculateHeight")})),(0,he.s)("hydrateContent")},onHideTranslateClick(){let{translateKey:t,translateState:e}=this.get();e=e||{};const{statusTranslations:a,statusTranslationContents:s}=this.store.get();e.show=!1,a[t]=e,delete s[t],this.store.set({statusTranslations:a,statusTranslationContents:s})}};function ye({changed:t}){(t.massagedContent||t.showTranslate)&&(this.hydrateContent(),requestAnimationFrame((()=>this.fire("recalculateHeight"))))}function we(t,e){var a,i,n;function r(t){return t.translating?Ie:t.translateError?Se:_e}var o=r(e),l=o(t,e),c=new Z.Z({root:t.root,store:t.store,data:{label:"Hide tranlation",href:"#fa-times"}});return c.on("click",(function(e){t.onHideTranslateClick()})),{c(){a=(0,s.az)("div"),i=(0,s.az)("div"),l.c(),n=(0,s.rw)("\n      "),c._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"DIV",{class:!0},!1);var r=(0,s.pI)(i);l.l(r),r.forEach(s.r2),n=(0,s.M4)(e,"\n      "),c._fragment.l(e),e.forEach(s.r2),this.h()},h(){i.className="status-translate-toolbar-label svelte-1l9mkrf",a.className="status-translate-toolbar svelte-1l9mkrf"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),l.m(i,null),(0,s.R3)(a,n),c._mount(a,null)},p(e,a){o===(o=r(a))&&l?l.p(e,a):(l.d(1),(l=o(t,a)).c(),l.m(i,null))},d(t){t&&(0,s.r2)(a),l.d(),c.destroy()}}}function _e(t,e){var a,i;return{c(){a=(0,s.rw)("Translated post from "),i=(0,s.rw)(e.translatedFrom)},l(t){a=(0,s.M4)(t,"Translated post from "),i=(0,s.M4)(t,e.translatedFrom)},m(t,e){(0,s.$T)(t,a,e),(0,s.$T)(t,i,e)},p(t,e){t.translatedFrom&&(0,s.a_)(i,e.translatedFrom)},d(t){t&&((0,s.r2)(a),(0,s.r2)(i))}}}function Se(t,e){var a;return{c(){a=(0,s.rw)("There was an error translating this post")},l(t){a=(0,s.M4)(t,"There was an error translating this post")},m(t,e){(0,s.$T)(t,a,e)},p:s.ZT,d(t){t&&(0,s.r2)(a)}}}function Ie(t,e){var a;return{c(){a=(0,s.rw)("Translating...")},l(t){a=(0,s.M4)(t,"Translating...")},m(t,e){(0,s.$T)(t,a,e)},p:s.ZT,d(t){t&&(0,s.r2)(a)}}}function xe(t){var e,a,i,n,r,o,l;if((0,s.S1)(this,t),this.store=_.h,this.refs={},this._state=(0,s.f0)(this.store._init(["autoplayGifs","disableDecomojiConverter","currentInstance","statusTranslations","statusTranslationContents"]),t.data),this.store._add(this,["autoplayGifs","disableDecomojiConverter","currentInstance","statusTranslations","statusTranslationContents"]),this._recompute({$currentInstance:1,originalStatusId:1,translateKey:1,$statusTranslations:1,translateState:1,isStatusInOwnThread:1,isStatusInNotification:1,shown:1,translating:1,originalStatus:1,$statusTranslationContents:1,translateContent_:1,content:1,originalStatusEmojis:1,$autoplayGifs:1,translateContent:1,showTranslate:1,$disableDecomojiConverter:1},this._state),this._intro=!0,this._handlers.update=[ye],this._handlers.destroy=[s.iT],document.getElementById("svelte-1l9mkrf-style")||((e=(0,s.az)("style")).id="svelte-1l9mkrf-style",e.textContent=".status-content.svelte-1l9mkrf{margin:10px 10px 10px 5px;word-wrap:break-word;overflow:hidden;white-space:pre-wrap;font-size:1.17em;display:none}.status-content-wrapper.svelte-1l9mkrf{grid-area:content;width:100%}.status-content.status-in-own-thread.svelte-1l9mkrf{font-size:1.69em;margin:20px 10px 20px 5px}.status-content.shown.svelte-1l9mkrf{display:block}.status-translate-toolbar.svelte-1l9mkrf{font-size:1.17em;margin:10px 10px 10px 5px;border-radius:3px;padding:0.25rem 1rem;padding-right:1rem;background:var(--toast-bg);color:var(--toast-text);border:1px solid var(--toast-border);display:flex;align-items:center;padding-right:0}.status-translate-toolbar-label.svelte-1l9mkrf{flex-grow:1;word-wrap:break-word;width:0}\n      .status-content p,\n      .status-content blockquote,\n      .status-content ul,\n      .status-content ol{margin:0 0 20px}\n      .status-content p:first-child,\n      .status-content blockquote:first-child,\n      .status-content ul:first-child,\n      .status-content ol:first-child{margin:0 0 20px}\n      .status-content p:last-child,\n      .status-content blockquote:last-child,\n      .status-content ul:last-child,\n      .status-content ol:last-child{margin:0}.status-content blockquote{padding-left:1.5rem;border-left:5px solid var(--body-bg)}.status-content ul, .status-content ol{padding-left:2rem}.status-content.status-in-notification.svelte-1l9mkrf{color:var(--very-deemphasized-text-color)}.status-content.status-in-notification a, .status-mentions.status-in-notification a{color:var(--very-deemphasized-link-color)}.underline-links .status-content a{text-decoration:underline}@media(max-width: 240px){\n      .status-content p:last-child,\n      .status-content blockquote:last-child,\n      .status-content ul:last-child,\n      .status-content ol:last-child{margin:0 0 10px}}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,l=i.showTranslate&&we(a,i),{c(){n=(0,s.az)("div"),r=(0,s.az)("div"),o=(0,s.rw)("\n  "),l&&l.c(),this.h()},l(t){n=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(n);r=(0,s.d$)(e,"DIV",{class:!0},!1),(0,s.pI)(r).forEach(s.r2),o=(0,s.M4)(e,"\n  "),l&&l.l(e),e.forEach(s.r2),this.h()},h(){r.className=i.computedClass+" svelte-1l9mkrf",n.className="status-content-wrapper svelte-1l9mkrf"},m(t,e){(0,s.$T)(t,n,e),(0,s.R3)(n,r),r.innerHTML=i.massagedContent,a.refs.node=r,(0,s.R3)(n,o),l&&l.m(n,null)},p(t,e){t.massagedContent&&(r.innerHTML=e.massagedContent),t.computedClass&&(r.className=e.computedClass+" svelte-1l9mkrf"),e.showTranslate?l?l.p(t,e):((l=we(a,e)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d(t){t&&(0,s.r2)(n),a.refs.node===r&&(a.refs.node=null),l&&l.d()}}),this.root._oncreate.push((()=>{this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var c=(0,s.pI)(t.target);t.hydrate?this._fragment.l(c):this._fragment.c(),c.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(xe.prototype,s.uS),(0,s.f0)(xe.prototype,be),xe.prototype._recompute=function(t,e){(t.$currentInstance||t.originalStatusId)&&this._differs(e.translateKey,e.translateKey=function({$currentInstance:t,originalStatusId:e}){return t+"-"+e}(e))&&(t.translateKey=!0),(t.translateKey||t.$statusTranslations)&&this._differs(e.translateState,e.translateState=function({translateKey:t,$statusTranslations:e}){return e&&e[t]?e[t]:null}(e))&&(t.translateState=!0),t.translateState&&this._differs(e.translating,e.translating=function({translateState:t}){return!(!t||!t.loading)}(e))&&(t.translating=!0),(t.isStatusInOwnThread||t.isStatusInNotification||t.shown||t.translating)&&this._differs(e.computedClass,e.computedClass=function({isStatusInOwnThread:t,isStatusInNotification:e,shown:a,translating:s}){return(0,Gt.q)("status-content",t&&"status-in-own-thread",e&&"status-in-notification",a&&"shown",s&&"translating")}(e))&&(t.computedClass=!0),t.originalStatus&&this._differs(e.content,e.content=function({originalStatus:t}){return t.content||""}(e))&&(t.content=!0),(t.$statusTranslationContents||t.translateKey)&&this._differs(e.translateContent_,e.translateContent_=function({$statusTranslationContents:t,translateKey:e}){const a=t[e];return a?"string"==typeof a?{html:a,detected:"unknown"}:a:{}}(e))&&(t.translateContent_=!0),t.translateContent_&&this._differs(e.translateContent,e.translateContent=function({translateContent_:t}){return t.html}(e))&&(t.translateContent=!0),t.translateState&&this._differs(e.showTranslate,e.showTranslate=function({translateState:t}){return!(!t||!t.show)}(e))&&(t.showTranslate=!0),(t.content||t.originalStatusEmojis||t.$autoplayGifs||t.translateContent||t.showTranslate||t.$disableDecomojiConverter)&&this._differs(e.massagedContent,e.massagedContent=function({content:t,originalStatusEmojis:e,$autoplayGifs:a,translateContent:s,showTranslate:i,$disableDecomojiConverter:n}){return i&&s?s:(0,me.K)(t,e,a,n)}(e))&&(t.massagedContent=!0),(t.isStatusInOwnThread||t.isStatusInNotification||t.shown)&&this._differs(e.computedTranslateClass,e.computedTranslateClass=function({isStatusInOwnThread:t,isStatusInNotification:e,shown:a}){return(0,Gt.q)("status-translate",t&&"status-in-own-thread",e&&"status-in-notification",a&&"shown")}(e))&&(t.computedTranslateClass=!0),t.translateState&&this._differs(e.translateError,e.translateError=function({translateState:t}){return!(!t||!t.error)}(e))&&(t.translateError=!0),(t.translateContent_||t.translateState)&&this._differs(e.translatedFrom,e.translatedFrom=function({translateContent_:t,translateState:e}){return e&&e.languageNames&&(e.languageNames[t.detected]?e.languageNames[t.detected]+" (Detected)":e.languageNames[t.from]||t.detected)}(e))&&(t.translatedFrom=!0)};const Te=xe;var $e=a(247),Ae=a(5573),ke=a.n(Ae);var Ce={toggleSpoilers(t){const{uuid:e}=this.get(),{spoilersShown:a,showAllSpoilers:s}=this.store.get(),i=void 0===a[e]?!!s:a[e];return a[e]=void 0===t?!i:!!t,this.store.set({spoilersShown:a}),requestAnimationFrame((()=>{(0,he.B)("clickSpoilerButton"),this.fire("recalculateHeight"),(0,he.s)("clickSpoilerButton")})),!0}};function Ne(){this.toggleSpoilers=this.toggleSpoilers.bind(this);const{elementId:t}=this.get();G(this,t,(()=>this.toggleSpoilers())),(0,dt.on)("toggleAllSpoilers",this,this.toggleSpoilers)}function Re(t,e){var a={scope:e.shortcutScope,key:"x"},s=new L.Z({root:t.root,store:t.store,data:a});return s.on("pressed",(function(e){t.toggleSpoilers()})),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.shortcutScope&&(a.scope=e.shortcutScope),s._set(a)},d(t){s.destroy(t)}}}function Ee(t){var e,a,i,n,r,o,l,c,d,u,h,m,f,p,g;if((0,s.S1)(this,t),this.store=_.h,this._state=(0,s.f0)(this.store._init(["autoplayGifs","disableDecomojiConverter","currentInstance","statusTranslations","statusTranslationContents"]),t.data),this.store._add(this,["autoplayGifs","disableDecomojiConverter","currentInstance","statusTranslations","statusTranslationContents"]),this._recompute({$currentInstance:1,originalStatusId:1,translateKey:1,$statusTranslations:1,translateState:1,$statusTranslationContents:1,spoilerText:1,originalStatusEmojis:1,$autoplayGifs:1,$disableDecomojiConverter:1,showTranslate:1,translateContent:1,uuid:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-rdohjg-style")||((e=(0,s.az)("style")).id="svelte-rdohjg-style",e.textContent=".status-spoiler.svelte-rdohjg{grid-area:spoiler;word-wrap:break-word;overflow:hidden;white-space:pre-wrap;font-size:0.9em;margin:10px 5px}.status-spoiler.status-in-own-thread.svelte-rdohjg{font-size:1.3em;margin:20px 5px 10px}.status-spoiler.status-in-notification.svelte-rdohjg{color:var(--very-deemphasized-text-color)}.status-spoiler-button.svelte-rdohjg{grid-area:spoiler-btn;margin:10px 5px}.status-spoiler-button.svelte-rdohjg button.svelte-rdohjg{padding:5px 10px;font-size:1.1em}.underline-links .status-spoiler a{text-decoration:underline}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,p=i.spoilerShown?"Show less":"Show more",g=i.enableShortcuts&&Re(a,i),{c(){n=(0,s.az)("div"),r=(0,s.az)("p"),l=(0,s.rw)("\n"),c=(0,s.az)("div"),d=(0,s.az)("button"),u=(0,s.rw)(p),m=(0,s.rw)("\n"),g&&g.c(),f=(0,s.Yr)(),this.h()},l(t){n=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(n);r=(0,s.d$)(e,"P",{},!1),(0,s.pI)(r).forEach(s.r2),e.forEach(s.r2),l=(0,s.M4)(t,"\n"),c=(0,s.d$)(t,"DIV",{class:!0},!1);var a=(0,s.pI)(c);d=(0,s.d$)(a,"BUTTON",{id:!0,type:!0,class:!0},!1);var i=(0,s.pI)(d);u=(0,s.M4)(i,p),i.forEach(s.r2),a.forEach(s.r2),m=(0,s.M4)(t,"\n"),g&&g.l(t),f=(0,s.Yr)(),this.h()},h(){n.className=o="status-spoiler "+(i.isStatusInNotification?"status-in-notification":"")+" "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-rdohjg",d.id=i.elementId,d.type="button",d.className="svelte-rdohjg",c.className=h="status-spoiler-button "+(i.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-rdohjg"},m(t,e){(0,s.$T)(t,n,e),(0,s.R3)(n,r),r.innerHTML=i.massagedSpoilerText,(0,s.$T)(t,l,e),(0,s.$T)(t,c,e),(0,s.R3)(c,d),(0,s.R3)(d,u),(0,s.$T)(t,m,e),g&&g.m(t,e),(0,s.$T)(t,f,e)},p(t,e){t.massagedSpoilerText&&(r.innerHTML=e.massagedSpoilerText),(t.isStatusInNotification||t.isStatusInOwnThread)&&o!==(o="status-spoiler "+(e.isStatusInNotification?"status-in-notification":"")+" "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-rdohjg")&&(n.className=o),t.spoilerShown&&p!==(p=e.spoilerShown?"Show less":"Show more")&&(0,s.a_)(u,p),t.elementId&&(d.id=e.elementId),t.isStatusInOwnThread&&h!==(h="status-spoiler-button "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-rdohjg")&&(c.className=h),e.enableShortcuts?g?g.p(t,e):((g=Re(a,e)).c(),g.m(f.parentNode,f)):g&&(g.d(1),g=null)},d(t){t&&((0,s.r2)(n),(0,s.r2)(l),(0,s.r2)(c),(0,s.r2)(m)),g&&g.d(t),t&&(0,s.r2)(f)}}),this.root._oncreate.push((()=>{Ne.call(this),this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var v=(0,s.pI)(t.target);t.hydrate?this._fragment.l(v):this._fragment.c(),v.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(Ee.prototype,s.uS),(0,s.f0)(Ee.prototype,Ce),Ee.prototype._recompute=function(t,e){(t.$currentInstance||t.originalStatusId)&&this._differs(e.translateKey,e.translateKey=function({$currentInstance:t,originalStatusId:e}){return t+"-"+e}(e))&&(t.translateKey=!0),(t.translateKey||t.$statusTranslations)&&this._differs(e.translateState,e.translateState=function({translateKey:t,$statusTranslations:e}){return e&&e[t]?e[t]:null}(e))&&(t.translateState=!0),t.translateState&&this._differs(e.showTranslate,e.showTranslate=function({translateState:t}){return!(!t||!t.show)}(e))&&(t.showTranslate=!0),(t.$statusTranslationContents||t.translateKey)&&this._differs(e.translateContent,e.translateContent=function({$statusTranslationContents:t,translateKey:e}){const a=t[e];return a?"string"==typeof a?null:a.spoiler:null}(e))&&(t.translateContent=!0),(t.spoilerText||t.originalStatusEmojis||t.$autoplayGifs||t.$disableDecomojiConverter||t.showTranslate||t.translateContent)&&this._differs(e.massagedSpoilerText,e.massagedSpoilerText=function({spoilerText:t,originalStatusEmojis:e,$autoplayGifs:a,$disableDecomojiConverter:s,showTranslate:i,translateContent:n}){return t=ke()(t),i&&n?n:(0,$e.k)(t,e,a,s)}(e))&&(t.massagedSpoilerText=!0),t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return`spoiler-${t}`}(e))&&(t.elementId=!0)};const ze=Ee;var Me=a(5482),De=a(6373),Le=a(1372);var Fe={observe:Le.N7,onPostedStatus(t){const{originalStatusId:e}=this.get();t===e&&requestAnimationFrame((()=>{const{uuid:t}=this.get(),{repliesShown:e}=this.store.get();e[t]=!1,this.store.set({repliesShown:e}),this.fire("recalculateHeight")}))},setupRecalculateHeightListener(){const t=()=>requestAnimationFrame((()=>this.fire("recalculateHeight"))),e=(0,De.D)(t,400),a=(0,De.P)((()=>{e(),t()}),150,{leading:!0,trailing:!0});this.observe("composeData",a)}};function je(){(0,dt.on)("postedStatus",this,this.onPostedStatus),this.setupRecalculateHeightListener()}function Pe(t){var e,a,i,n,r,o;if((0,s.S1)(this,t),this.store=_.h,this._state=(0,s.f0)(this.store._init(["currentComposeData"]),t.data),this.store._add(this,["currentComposeData"]),this._recompute({$currentComposeData:1,originalStatusId:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-1jxbhxo-style")||((e=(0,s.az)("style")).id="svelte-1jxbhxo-style",e.textContent=".status-article-compose-box.svelte-1jxbhxo{grid-area:compose;max-width:100%}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,r={realm:i.originalStatusId,autoFocus:"true",hideBottomBorder:"true",isReply:"true",replyVisibility:i.visibility,replySpoiler:i.spoilerText,inReplyToUuid:i.uuid},o=new Me.default({root:a.root,store:a.store,data:r}),{c(){n=(0,s.az)("div"),o._fragment.c(),this.h()},l(t){n=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(n);o._fragment.l(e),e.forEach(s.r2),this.h()},h(){n.className="status-article-compose-box svelte-1jxbhxo"},m(t,e){(0,s.$T)(t,n,e),o._mount(n,null)},p(t,e){var a={};t.originalStatusId&&(a.realm=e.originalStatusId),t.visibility&&(a.replyVisibility=e.visibility),t.spoilerText&&(a.replySpoiler=e.spoilerText),t.uuid&&(a.inReplyToUuid=e.uuid),o._set(a)},d(t){t&&(0,s.r2)(n),o.destroy()}}),this.root._oncreate.push((()=>{je.call(this),this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var l=(0,s.pI)(t.target);t.hydrate?this._fragment.l(l):this._fragment.c(),l.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(Pe.prototype,s.uS),(0,s.f0)(Pe.prototype,Fe),Pe.prototype._recompute=function(t,e){(t.$currentComposeData||t.originalStatusId)&&this._differs(e.composeData,e.composeData=function({$currentComposeData:t,originalStatusId:e}){return t[e]||{}}(e))&&(t.composeData=!0)};const He=Pe;function Oe(t,e,a){const s=Object.create(t);return s.mention=e[a],s.i=a,s}function Be(t,e){for(var a,i,n,r=e.mentions,o=[],l=0;l<r.length;l+=1)o[l]=Ue(t,Oe(e,r,l));return{c(){a=(0,s.az)("div"),i=(0,s.az)("p");for(var t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"P",{},!1);for(var n=(0,s.pI)(i),r=0;r<o.length;r+=1)o[r].l(n);n.forEach(s.r2),e.forEach(s.r2),this.h()},h(){a.className=n="status-mentions "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-12x5to9"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i);for(var n=0;n<o.length;n+=1)o[n].m(i,null)},p(e,s){if(e.uuid||e.mentions){r=s.mentions;for(var l=0;l<r.length;l+=1){const a=Oe(s,r,l);o[l]?o[l].p(e,a):(o[l]=Ue(t,a),o[l].c(),o[l].m(i,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}e.isStatusInOwnThread&&n!==(n="status-mentions "+(s.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-12x5to9")&&(a.className=n)},d(t){t&&(0,s.r2)(a),(0,s.kw)(o,t)}}}function qe(t,e){var a;return{c(){a=(0,s.rw)(" ")},l(t){a=(0,s.M4)(t," ")},m(t,e){(0,s.$T)(t,a,e)},d(t){t&&(0,s.r2)(a)}}}function Ue(t,e){var a,i,n,r,o,l,c,d,u=e.mention.username,h=e.i>0&&qe();return{c(){h&&h.c(),a=(0,s.rw)("\n        "),i=(0,s.az)("a"),n=(0,s.rw)("@"),r=(0,s.rw)(u),o=(0,s.rw)("\n        "),this.h()},l(t){h&&h.l(t),a=(0,s.M4)(t,"\n        "),i=(0,s.d$)(t,"A",{id:!0,href:!0,rel:!0,title:!0},!1);var e=(0,s.pI)(i);n=(0,s.M4)(e,"@"),r=(0,s.M4)(e,u),o=(0,s.M4)(e,"\n        "),e.forEach(s.r2),this.h()},h(){i.id=l="status-mention-link-"+e.uuid+"-"+e.mention.id,i.href=c="/accounts/"+e.mention.id,i.rel="prefetch",i.title=d="@"+e.mention.acct},m(t,e){h&&h.m(t,e),(0,s.$T)(t,a,e),(0,s.$T)(t,i,e),(0,s.R3)(i,n),(0,s.R3)(i,r),(0,s.R3)(i,o)},p(t,e){e.i>0?h||((h=qe()).c(),h.m(a.parentNode,a)):h&&(h.d(1),h=null),t.mentions&&u!==(u=e.mention.username)&&(0,s.a_)(r,u),(t.uuid||t.mentions)&&l!==(l="status-mention-link-"+e.uuid+"-"+e.mention.id)&&(i.id=l),t.mentions&&c!==(c="/accounts/"+e.mention.id)&&(i.href=c),t.mentions&&d!==(d="@"+e.mention.acct)&&(i.title=d)},d(t){h&&h.d(t),t&&((0,s.r2)(a),(0,s.r2)(i))}}}function Ve(t){var e,a,i,n,r;if((0,s.S1)(this,t),this._state=(0,s.f0)({},t.data),this._recompute({originalStatus:1},this._state),this._intro=!0,document.getElementById("svelte-12x5to9-style")||((e=(0,s.az)("style")).id="svelte-12x5to9-style",e.textContent=".status-mentions.svelte-12x5to9{grid-area:mentions;margin:10px 0 10px 5px;font-size:0.9em}.status-mentions.status-in-own-thread.svelte-12x5to9{font-size:1.3em;margin:20px 10px 20px 5px}.underline-links .status-mentions a{text-decoration:underline}",(0,s.R3)(document.head,e)),this._fragment=(a=this,i=this._state,r=i.mentions.length&&Be(a,i),{c(){r&&r.c(),n=(0,s.Yr)()},l(t){r&&r.l(t),n=(0,s.Yr)()},m(t,e){r&&r.m(t,e),(0,s.$T)(t,n,e)},p(t,e){e.mentions.length?r?r.p(t,e):((r=Be(a,e)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&(0,s.r2)(n)}}),t.target){var o=(0,s.pI)(t.target);t.hydrate?this._fragment.l(o):this._fragment.c(),o.forEach(s.r2),this._mount(t.target,t.anchor)}}(0,s.f0)(Ve.prototype,s.uS),Ve.prototype._recompute=function(t,e){t.originalStatus&&this._differs(e.mentions,e.mentions=function({originalStatus:t}){return t.mentions||[]}(e))&&(t.mentions=!0)};const We=Ve;var Ze=a(690),Ke=a(9970),Qe=a(6745);var Ye={async onClick(t,e){const{apiVersion:a,originalStatusId:s}=this.get(),{reduceMotion:i,currentInstance:n,accessToken:r}=this.store.get();this.store.setStatusReacted(n,s,e,!e.me),e.me||i||(0,Ze.j)(t.currentTarget,ct);await(0,mt.Y)(s,!e.me,e,a)?(0,Ke.F)((()=>(0,Qe.Nf)(n,r,s))):this.store.setStatusReacted(n,s,e,e.me)}};function Ge(t){const{component:e,ctx:a}=this._svelte;e.onClick(t,a.reaction)}function Je(t,e,a){const s=Object.create(t);return s.reaction=e[a],s}function Xe(t,e){var a,i,n,r,o,l,c,d=e.reaction.html,u=e.reaction.count;return{c(){a=(0,s.az)("button"),i=(0,s.az)("noscript"),n=(0,s.rw)("\r\n    "),r=(0,s.az)("span"),o=(0,s.rw)(u),l=(0,s.rw)("\r\n  "),this.h()},l(t){a=(0,s.d$)(t,"BUTTON",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.az)("noscript"),n=(0,s.M4)(e,"\r\n    "),r=(0,s.d$)(e,"SPAN",{class:!0},!1);var c=(0,s.pI)(r);o=(0,s.M4)(c,u),c.forEach(s.r2),l=(0,s.M4)(e,"\r\n  "),e.forEach(s.r2),this.h()},h(){r.className="status-reaction-count svelte-1cc6q0s",a._svelte={component:t,ctx:e},(0,s.NH)(a,"click",Ge),a.className=c="status-reaction not-same-pressed "+(e.reaction.me?"pressed":"")+" svelte-1cc6q0s"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),i.insertAdjacentHTML("beforebegin",d),(0,s.R3)(a,n),(0,s.R3)(a,r),(0,s.R3)(r,o),(0,s.R3)(a,l)},p(t,n){e=n,t.processedReactions&&d!==(d=e.reaction.html)&&((0,s.mr)(i),i.insertAdjacentHTML("beforebegin",d)),t.processedReactions&&u!==(u=e.reaction.count)&&(0,s.a_)(o,u),a._svelte.ctx=e,t.processedReactions&&c!==(c="status-reaction not-same-pressed "+(e.reaction.me?"pressed":"")+" svelte-1cc6q0s")&&(a.className=c)},d(t){t&&(0,s.r2)(a),(0,s.ys)(a,"click",Ge)}}}function ta(t){var e;if((0,s.S1)(this,t),this.store=_.h,this._state=(0,s.f0)(this.store._init(["autoplayGifs","currentPleromaFeatures","currentStatusModifications"]),t.data),this.store._add(this,["autoplayGifs","currentPleromaFeatures","currentStatusModifications"]),this._recompute({originalStatus:1,originalStatusId:1,$currentStatusModifications:1,reactions:1,$autoplayGifs:1,$currentPleromaFeatures:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-1cc6q0s-style")||((e=(0,s.az)("style")).id="svelte-1cc6q0s-style",e.textContent=".status-reaction.svelte-1cc6q0s{border-radius:4px;background:var(--action-button-fill-color);padding:0.25rem 0.5rem;border:0;color:var(--button-primary-text)}.status-reactions.svelte-1cc6q0s{display:flex;grid-template-rows:repeat(10001fr);margin:0 5px 10px;grid-gap:7px;grid-area:reactions}.status-reaction.svelte-1cc6q0s:hover{background:var(--action-button-fill-color-hover)}.status-reaction.not-pressable.svelte-1cc6q0s:active,.status-reaction.same-pressed.svelte-1cc6q0s:active{background:var(--action-button-fill-color-active)}.status-reaction.pressed.not-same-pressed.svelte-1cc6q0s{background:var(--action-button-fill-color-pressed)}.status-reaction.pressed.not-same-pressed.svelte-1cc6q0s:hover{background:var(--action-button-fill-color-pressed-hover)}.status-reaction.pressed.not-same-pressed.svelte-1cc6q0s:active{background:var(--action-button-fill-color-pressed-active)}.status-reaction.muted-style.svelte-1cc6q0s{background:var(--action-button-deemphasized-fill-color)}.status-reaction.muted-style.svelte-1cc6q0s:hover{background:var(--action-button-deemphasized-fill-color-hover)}.status-reaction.muted-style.not-pressable.svelte-1cc6q0s:active,.status-reaction.muted-style.same-pressed.svelte-1cc6q0s:active{background:var(--action-button-deemphasized-fill-color-active)}.status-reaction.muted-style.pressed.not-same-pressed.svelte-1cc6q0s{background:var(--action-button-deemphasized-fill-color-pressed)}.status-reaction.muted-style.pressed.not-same-pressed.svelte-1cc6q0s:hover{background:var(--action-button-deemphasized-fill-color-pressed-hover)}.status-reaction.muted-style.pressed.not-same-pressed.svelte-1cc6q0s:active{background:var(--action-button-deemphasized-fill-color-pressed-active)}",(0,s.R3)(document.head,e)),this._fragment=function(t,e){for(var a,i,n=e.processedReactions,r=[],o=0;o<n.length;o+=1)r[o]=Xe(t,Je(e,n,o));return{c(){a=(0,s.az)("div");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);for(var e=(0,s.pI)(a),i=0;i<r.length;i+=1)r[i].l(e);e.forEach(s.r2),this.h()},h(){a.className=i="status-reactions "+(e.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-1cc6q0s"},m(t,e){(0,s.$T)(t,a,e);for(var i=0;i<r.length;i+=1)r[i].m(a,null)},p(e,s){if(e.processedReactions){n=s.processedReactions;for(var o=0;o<n.length;o+=1){const i=Je(s,n,o);r[o]?r[o].p(e,i):(r[o]=Xe(t,i),r[o].c(),r[o].m(a,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}e.isStatusInOwnThread&&i!==(i="status-reactions "+(s.isStatusInOwnThread?"status-in-own-thread":"")+" svelte-1cc6q0s")&&(a.className=i)},d(t){t&&(0,s.r2)(a),(0,s.kw)(r,t)}}}(this,this._state),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor)}}(0,s.f0)(ta.prototype,s.uS),(0,s.f0)(ta.prototype,Ye),ta.prototype._recompute=function(t,e){(t.originalStatus||t.originalStatusId||t.$currentStatusModifications)&&this._differs(e.reactions,e.reactions=function({originalStatus:t,originalStatusId:e,$currentStatusModifications:a}){const s=t.reactions||t.emoji_reactions,i=a&&a.reactions||{};return s.map((t=>({...t,me:e+"-"+t.name in i?i[e+"-"+t.name]:t.me,count:t.count+(e+"-"+t.name in i&&i[e+"-"+t.name]!==t.me?i[e+"-"+t.name]?1:-1:0)})))}(e))&&(t.reactions=!0),(t.reactions||t.$autoplayGifs)&&this._differs(e.processedReactions,e.processedReactions=function({reactions:t,$autoplayGifs:e}){return t.map((t=>{const a=t.url&&t.name.replace(/:/g,"");return{...t,html:(0,$e.k)(t.url?":"+a+":":t.name,[{url:t.url,static_url:t.static_url||t.url,shortcode:a}],e,!0)}}))}(e))&&(t.processedReactions=!0),t.$currentPleromaFeatures&&this._differs(e.apiVersion,e.apiVersion=function({$currentPleromaFeatures:t}){return{customEmojiReactions:!t||t.includes("custom_emoji_reactions"),externReactions:!0,isPleroma:!!t}}(e))&&(t.apiVersion=!0)};const ea=ta;function aa(t,e,a){const s=Object.create(t);return s.hashtagInBar=e[a],s}function sa(t,e){var a,i,n,r,o=e.hashtagInBar;return{c(){a=(0,s.az)("a"),i=(0,s.rw)("#"),n=(0,s.rw)(o),this.h()},l(t){a=(0,s.d$)(t,"A",{href:!0,class:!0},!1);var e=(0,s.pI)(a);i=(0,s.M4)(e,"#"),n=(0,s.M4)(e,o),e.forEach(s.r2),this.h()},h(){a.href=r="/tags/"+e.hashtagInBar,a.className="hashtag svelte-exu685"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),(0,s.R3)(a,n)},p(t,e){t.hashtagsInBar&&o!==(o=e.hashtagInBar)&&(0,s.a_)(n,o),t.hashtagsInBar&&r!==(r="/tags/"+e.hashtagInBar)&&(a.href=r)},d(t){t&&(0,s.r2)(a)}}}function ia(t){var e;if((0,s.S1)(this,t),this._state=(0,s.f0)({},t.data),this._intro=!0,document.getElementById("svelte-exu685-style")||((e=(0,s.az)("style")).id="svelte-exu685-style",e.textContent=".status-hashtag-bar.svelte-exu685{grid-area:tags;display:flex;flex-wrap:wrap;margin:0 5px 10px;align-items:center;justify-content:left;font-size:1.1em}.status-hashtag-bar.svelte-exu685 a.svelte-exu685{color:var(--deemphasized-text-color);margin-right:0.5em}.status-in-notification.status-hashtag-bar.svelte-exu685 a.svelte-exu685{color:var(--very-deemphasized-text-color)\n  }",(0,s.R3)(document.head,e)),this._fragment=function(t,e){for(var a,i,n=e.hashtagsInBar,r=[],o=0;o<n.length;o+=1)r[o]=sa(0,aa(e,n,o));return{c(){a=(0,s.az)("div");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);for(var e=(0,s.pI)(a),i=0;i<r.length;i+=1)r[i].l(e);e.forEach(s.r2),this.h()},h(){a.className=i="status-hashtag-bar "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-exu685"},m(t,e){(0,s.$T)(t,a,e);for(var i=0;i<r.length;i+=1)r[i].m(a,null)},p(t,e){if(t.hashtagsInBar){n=e.hashtagsInBar;for(var s=0;s<n.length;s+=1){const i=aa(e,n,s);r[s]?r[s].p(t,i):(r[s]=sa(0,i),r[s].c(),r[s].m(a,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}t.isStatusInNotification&&i!==(i="status-hashtag-bar "+(e.isStatusInNotification?"status-in-notification":"")+" svelte-exu685")&&(a.className=i)},d(t){t&&(0,s.r2)(a),(0,s.kw)(r,t)}}}(0,this._state),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor)}}(0,s.f0)(ia.prototype,s.uS);const na=ia,ra=["second","minute","hour","day","week","month","year"],oa=[60,60,24,7,365/7/12,12],la=(0,I.I)((()=>new Intl.RelativeTimeFormat(S.M)));function ca(t){let e=0;const a=t<0;for(t=Math.abs(t);t>=oa[e]&&e<oa.length;e++)t/=oa[e];return e*=2,(t=Math.floor(t))>(0===e?9:1)&&(e+=1),function(t,e){if(0===e)return"just now";const a=ra[Math.floor(e/2)];return la().format(t,a)}(a?-t:t,e)}function da(t){return ca(t/1e3)}function ua(t,e){if("number"!=typeof t)return"Never";(0,he.B)("formatTimeagoDate");const a=da(Math.min(0,t-e));return(0,he.s)("formatTimeagoDate"),a}async function ha(t){const{currentInstance:e,accessToken:a}=_.h.get();try{const s=await async function(t,e,a){const s=`${(0,X.E)(t)}/api/v1/polls/${a}`;return(0,J.U2)(s,(0,X.I)(e),{timeout:J.EH})}(e,a,t);return s}catch(s){console.error(s),tt.A.say((0,m.A)(["Unable to refresh poll: ",["error"]],{error:s.message||""}))}}async function ma(t,e){const{currentInstance:a,accessToken:s}=_.h.get();try{const i=await async function(t,e,a,s){const i=`${(0,X.E)(t)}/api/v1/polls/${a}/votes`;return(0,J.v_)(i,{choices:s},(0,X.I)(e),{timeout:J.$Q})}(a,s,t,e.map((t=>t.toString())));return i}catch(i){console.error(i),tt.A.say((0,m.A)(["Unable to vote in poll: ",["error"]],{error:i.message||""}))}}async function fa(t){const e=Date.now(),a=await t(),s=Date.now()-e;return s<1e3&&await new Promise((t=>setTimeout(t,1e3-s))),a}function pa(t,e){const a=[];for(let s=0;s<e.length;s++)t.elements[s].checked&&a.push(s);return a}function ga({expiresAtTS:t,expired:e,$now:a}){return e?ua(t,a):function(t,e){if("number"!=typeof t)return"Never";(0,he.B)("formatTimeagoFutureDate");const a=da(Math.max(0,t-e));return(0,he.s)("formatTimeagoFutureDate"),a}(t,a)}function va(t){return t&&t.replace(/[\n\t]+/g," ")||""}var ba={onRefreshClick(){return(async()=>{const{pollId:t}=this.get();this.set({loading:!0});try{const e=await fa((()=>ha(t)));if(e){const{polls:a}=this.store.get();a[t]=e,this.store.set({polls:a})}}finally{this.set({loading:!1})}})(),!0},async onSubmit(t){t.preventDefault(),t.stopPropagation();const{pollId:e,options:a,formDisabled:s}=this.get();if(s)return;const i=pa(this.refs.form,a);this.set({loading:!0});try{const t=await fa((()=>ma(e,i)));if(t){const{polls:a}=this.store.get();a[e]=t,this.store.set({polls:a}),requestAnimationFrame((()=>this.fire("recalculateHeight")))}}finally{this.set({loading:!1})}},onChange(){const{options:t}=this.get(),e=pa(this.refs.form,t);this.set({choices:e})}};function ya(){this.onRefreshClick=this.onRefreshClick.bind(this);const{refreshElementId:t}=this.get();G(this,t,this.onRefreshClick)}function wa(t){const{component:e}=this._svelte;e.onChange()}function _a(t,e,a){const s=Object.create(t);return s.option=e[a],s.i=a,s}function Sa(t,e,a){const s=Object.create(t);return s.option=e[a],s}function Ia(t,e){for(var a,i,n,r,o,l=e.options,c=[],d=0;d<l.length;d+=1)c[d]=Ta(t,_a(e,l,d));function u(e){t.onSubmit(e)}return{c(){a=(0,s.az)("form"),i=(0,s.az)("ul");for(var t=0;t<c.length;t+=1)c[t].c();n=(0,s.rw)("\n      "),r=(0,s.az)("button"),o=(0,s.rw)("Vote"),this.h()},l(t){a=(0,s.d$)(t,"FORM",{class:!0,"aria-label":!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"UL",{class:!0,"aria-label":!0},!1);for(var l=(0,s.pI)(i),d=0;d<c.length;d+=1)c[d].l(l);l.forEach(s.r2),n=(0,s.M4)(e,"\n      "),r=(0,s.d$)(e,"BUTTON",{disabled:!0,type:!0,class:!0},!1);var u=(0,s.pI)(r);o=(0,s.M4)(u,"Vote"),u.forEach(s.r2),e.forEach(s.r2),this.h()},h(){i.className="poll-choices svelte-1v2ancf",(0,s.P$)(i,"aria-label","Poll choices"),r.disabled=e.formDisabled,r.type="submit",r.className="svelte-1v2ancf",(0,s.NH)(a,"submit",u),a.className="poll-form svelte-1v2ancf",(0,s.P$)(a,"aria-label","Vote on poll")},m(e,l){(0,s.$T)(e,a,l),(0,s.R3)(a,i);for(var d=0;d<c.length;d+=1)c[d].m(i,null);(0,s.R3)(a,n),(0,s.R3)(a,r),(0,s.R3)(r,o),t.refs.form=a},p(e,a){if(e.options||e.multiple||e.uuid){l=a.options;for(var s=0;s<l.length;s+=1){const n=_a(a,l,s);c[s]?c[s].p(e,n):(c[s]=Ta(t,n),c[s].c(),c[s].m(i,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=l.length}e.formDisabled&&(r.disabled=a.formDisabled)},d(e){e&&(0,s.r2)(a),(0,s.kw)(c,e),(0,s.ys)(a,"submit",u),t.refs.form===a&&(t.refs.form=null)}}}function xa(t,e){for(var a,i=e.options,n=[],r=0;r<i.length;r+=1)n[r]=ka(t,Sa(e,i,r));return{c(){a=(0,s.az)("ul");for(var t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){a=(0,s.d$)(t,"UL",{class:!0,"aria-label":!0},!1);for(var e=(0,s.pI)(a),i=0;i<n.length;i+=1)n[i].l(e);e.forEach(s.r2),this.h()},h(){a.className="poll-choices svelte-1v2ancf",(0,s.P$)(a,"aria-label","Poll results")},m(t,e){(0,s.$T)(t,a,e);for(var i=0;i<n.length;i+=1)n[i].m(a,null)},p(e,s){if(e.options){i=s.options;for(var r=0;r<i.length;r+=1){const o=Sa(s,i,r);n[r]?n[r].p(e,o):(n[r]=ka(t,o),n[r].c(),n[r].m(a,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=i.length}},d(t){t&&(0,s.r2)(a),(0,s.kw)(n,t)}}}function Ta(t,e){var a,i,n,r,o,l,c,d=va(e.option.title);return{c(){a=(0,s.az)("li"),i=(0,s.az)("label"),n=(0,s.az)("input"),l=(0,s.rw)("\n              "),c=(0,s.az)("span"),this.h()},l(t){a=(0,s.d$)(t,"LI",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"LABEL",{},!1);var r=(0,s.pI)(i);n=(0,s.d$)(r,"INPUT",{type:!0,name:!0,value:!0},!1),(0,s.pI)(n).forEach(s.r2),l=(0,s.M4)(r,"\n              "),c=(0,s.d$)(r,"SPAN",{class:!0},!1),(0,s.pI)(c).forEach(s.r2),r.forEach(s.r2),e.forEach(s.r2),this.h()},h(){n._svelte={component:t},(0,s.NH)(n,"change",wa),(0,s.P$)(n,"type",r=e.multiple?"checkbox":"radio"),n.name=o="poll-choice-"+e.uuid,n.value=e.i,c.className="svelte-1v2ancf",a.className="poll-choice poll-form-option svelte-1v2ancf"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),(0,s.R3)(i,n),(0,s.R3)(i,l),(0,s.R3)(i,c),c.innerHTML=d},p(t,e){t.multiple&&r!==(r=e.multiple?"checkbox":"radio")&&(0,s.P$)(n,"type",r),t.uuid&&o!==(o="poll-choice-"+e.uuid)&&(n.name=o),t.options&&d!==(d=va(e.option.title))&&(c.innerHTML=d)},d(t){t&&(0,s.r2)(a),(0,s.ys)(n,"change",wa)}}}function $a(t,e){var a,i,n;return{c(){a=(0,s.az)("span"),i=(0,s.rw)("You voted for"),n=(0,s.rw)(" "),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.M4)(e,"You voted for"),e.forEach(s.r2),n=(0,s.M4)(t," "),this.h()},h(){a.className="sr-only"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),(0,s.$T)(t,n,e)},d(t){t&&((0,s.r2)(a),(0,s.r2)(n))}}}function Aa(t,e){var a=new f.Z({root:t.root,store:t.store,data:{className:"poll-own-vote",href:"#fa-check"}});return{c(){a._fragment.c()},l(t){a._fragment.l(t)},m(t,e){a._mount(t,e)},d(t){a.destroy(t)}}}function ka(t,e){var a,i,n,r,o,l,c,d,u,h,m,f=e.option.share,p=va(e.option.title),g=e.option.ownVote&&$a(),v=e.option.ownVote&&Aa(t);return{c(){a=(0,s.az)("li"),i=(0,s.az)("div"),g&&g.c(),n=(0,s.az)("strong"),r=(0,s.rw)(f),o=(0,s.rw)("%"),l=(0,s.rw)(" "),c=(0,s.az)("span"),v&&v.c(),d=(0,s.rw)("\n          "),u=(0,s.uO)("svg"),h=(0,s.uO)("line"),this.h()},l(t){a=(0,s.d$)(t,"LI",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.d$)(e,"DIV",{class:!0},!1);var m=(0,s.pI)(i);g&&g.l(m),n=(0,s.d$)(m,"STRONG",{},!1);var p=(0,s.pI)(n);r=(0,s.M4)(p,f),o=(0,s.M4)(p,"%"),p.forEach(s.r2),l=(0,s.M4)(m," "),c=(0,s.d$)(m,"SPAN",{},!1),(0,s.pI)(c).forEach(s.r2),v&&v.l(m),m.forEach(s.r2),d=(0,s.M4)(e,"\n          "),u=(0,s.d$)(e,"svg",{"aria-hidden":!0,class:!0},!0);var b=(0,s.pI)(u);h=(0,s.d$)(b,"line",{x1:!0,y1:!0,x2:!0,y2:!0},!0),(0,s.pI)(h).forEach(s.r2),b.forEach(s.r2),e.forEach(s.r2),this.h()},h(){i.className="option-text svelte-1v2ancf",(0,s.P$)(h,"x1","0"),(0,s.P$)(h,"y1","0"),(0,s.P$)(h,"x2",m=e.option.share+"%"),(0,s.P$)(h,"y2","0"),(0,s.P$)(u,"aria-hidden","true"),(0,s.P$)(u,"class","svelte-1v2ancf"),a.className="poll-choice option svelte-1v2ancf"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i),g&&g.m(i,null),(0,s.R3)(i,n),(0,s.R3)(n,r),(0,s.R3)(n,o),(0,s.R3)(i,l),(0,s.R3)(i,c),c.innerHTML=p,v&&v.m(i,null),(0,s.R3)(a,d),(0,s.R3)(a,u),(0,s.R3)(u,h)},p(e,a){a.option.ownVote?g||((g=$a()).c(),g.m(i,n)):g&&(g.d(1),g=null),e.options&&f!==(f=a.option.share)&&(0,s.a_)(r,f),e.options&&p!==(p=va(a.option.title))&&(c.innerHTML=p),a.option.ownVote?v||((v=Aa(t)).c(),v.m(i,null)):v&&(v.d(1),v=null),e.options&&m!==(m=a.option.share+"%")&&(0,s.P$)(h,"x2",m)},d(t){t&&(0,s.r2)(a),g&&g.d(),v&&v.d()}}}function Ca(t){var e;if((0,s.S1)(this,t),this.store=_.h,this.refs={},this._state=(0,s.f0)((0,s.f0)(this.store._init(["polls","autoplayGifs","disableDecomojiConverter","now","isMobileSize"]),{loading:!1,choices:[]}),t.data),this.store._add(this,["polls","autoplayGifs","disableDecomojiConverter","now","isMobileSize"]),this._recompute({originalStatus:1,$polls:1,pollId:1,poll:1,votersCount:1,votesCount:1,originalStatusEmojis:1,$autoplayGifs:1,votersOrVotesCount:1,$disableDecomojiConverter:1,expiresAt:1,expiresAtTS:1,expired:1,$now:1,uuid:1,$isMobileSize:1,isStatusInOwnThread:1,choices:1,isStatusInNotification:1,loading:1,shown:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-1v2ancf-style")||((e=(0,s.az)("style")).id="svelte-1v2ancf-style",e.textContent=".poll.svelte-1v2ancf{grid-area:poll;margin:10px 10px 10px 5px;padding:20px;border:1px solid var(--main-border);border-radius:2px;transition:opacity 0.2s linear;display:none}.poll.shown.svelte-1v2ancf{display:block}.poll.status-in-own-thread.svelte-1v2ancf{padding:20px}.poll.poll-loading.svelte-1v2ancf{opacity:0.5;pointer-events:none}ul.poll-choices.svelte-1v2ancf{list-style:none;margin:0;padding:0}li.poll-choice.svelte-1v2ancf{margin:10px 0;padding:0}li.poll-choice.svelte-1v2ancf:first-child{margin-top:0}.option.svelte-1v2ancf{margin:0 0 10px 0;padding:0;display:flex;flex-direction:column;stroke:var(--svg-fill);stroke-width:10px}.option-text.svelte-1v2ancf{word-wrap:break-word;white-space:pre-wrap;font-size:1.1em}svg.svelte-1v2ancf{height:10px;width:100%;margin-top:5px}.status-in-notification.svelte-1v2ancf .option-text.svelte-1v2ancf{color:var(--very-deemphasized-text-color)}.status-in-notification.svelte-1v2ancf svg.svelte-1v2ancf{stroke:var(--very-deemphasized-text-color)}.status-in-own-thread.svelte-1v2ancf .option-text.svelte-1v2ancf{font-size:1.2em}ul.poll-details.svelte-1v2ancf{display:grid;grid-template-columns:max-content minmax(0, max-content) max-content;grid-gap:20px;align-items:center;justify-content:left;margin:10px 0 0 0;padding:0;list-style:none;overflow-x:hidden}.poll-stat.svelte-1v2ancf button.svelte-1v2ancf{background:none;box-shadow:none;border:none;border-spacing:0;margin:0;padding:0;font-size:inherit;font-weight:normal;text-align:left;text-decoration:none;text-indent:0;display:flex;align-items:center}.poll-stat.svelte-1v2ancf button.svelte-1v2ancf:hover{text-decoration:underline}li.poll-stat.svelte-1v2ancf{display:flex;flex-direction:row;align-items:center;color:var(--deemphasized-text-color);padding:0;margin:0}.poll-stat.is-notification.svelte-1v2ancf,.poll-stat.is-notification.svelte-1v2ancf .poll-stat-text.svelte-1v2ancf{color:var(--very-deemphasized-text-color)}.poll-stat.poll-expired.svelte-1v2ancf{display:none}.poll-stat-text.svelte-1v2ancf{margin-left:5px;color:var(--deemphasized-text-color)}.poll-stat-expiry.svelte-1v2ancf{word-wrap:break-word;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.poll-icon{fill:var(--deemphasized-text-color);width:18px;height:18px;min-width:18px}.poll-own-vote{width:18px;height:18px;stroke:none;fill:var(--svg-fill);vertical-align:middle;margin-left:5px}.poll-stat.is-notification .poll-icon, .status-in-notification .poll-own-vote{fill:var(--very-deemphasized-text-color)}.poll-form-option.svelte-1v2ancf{padding-bottom:10px}.poll-form.svelte-1v2ancf label span.svelte-1v2ancf{text-overflow:ellipsis;overflow:hidden;word-break:break-word;white-space:pre-wrap;padding-left:5px}@media(max-width: 479px){.poll.svelte-1v2ancf{padding:10px 5px}.poll.status-in-own-thread.svelte-1v2ancf{padding:10px}ul.poll-details.svelte-1v2ancf{grid-gap:5px;justify-content:space-between}}@media(max-width: 320px){.poll-stat-text-refresh.svelte-1v2ancf{display:none}ul.poll-details.svelte-1v2ancf{grid-gap:2px}.poll-stat-text.svelte-1v2ancf{margin-left:2px}li.poll-choice.svelte-1v2ancf{margin:5px 0}}",(0,s.R3)(document.head,e)),this._fragment=function(t,e){var a,i,n,r,o,l,c,d,u,h,m,p,g,v,b,y,w,_,S,I,x,T,$,A,k,C;function N(t){return t.voted||t.expired?xa:Ia}var R=N(e),E=R(t,e),z=new f.Z({root:t.root,store:t.store,data:{className:"poll-icon",href:"#fa-bar-chart"}}),M=new f.Z({root:t.root,store:t.store,data:{className:"poll-icon",href:"#fa-clock"}}),D=new f.Z({root:t.root,store:t.store,data:{className:"poll-icon",href:"#fa-refresh"}});return{c(){a=(0,s.az)("div"),E.c(),i=(0,s.rw)("\n  "),n=(0,s.az)("ul"),r=(0,s.az)("li"),z._fragment.c(),o=(0,s.rw)("\n      "),l=(0,s.az)("span"),c=(0,s.rw)(e.votesText),u=(0,s.rw)("\n    "),h=(0,s.az)("li"),M._fragment.c(),m=(0,s.rw)("\n      "),p=(0,s.az)("span"),g=(0,s.az)("span"),v=(0,s.rw)(e.expiryText),y=(0,s.rw)("\n        "),w=(0,s.az)("time"),_=(0,s.rw)(e.expiresAtTimeagoFormatted),I=(0,s.rw)("\n    "),x=(0,s.az)("li"),T=(0,s.az)("button"),D._fragment.c(),$=(0,s.rw)("\n        "),A=(0,s.az)("span"),k=(0,s.rw)("Refresh"),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0,"aria-busy":!0},!1);var d=(0,s.pI)(a);E.l(d),i=(0,s.M4)(d,"\n  "),n=(0,s.d$)(d,"UL",{class:!0,"aria-label":!0},!1);var f=(0,s.pI)(n);r=(0,s.d$)(f,"LI",{class:!0},!1);var b=(0,s.pI)(r);z._fragment.l(b),o=(0,s.M4)(b,"\n      "),l=(0,s.d$)(b,"SPAN",{class:!0},!1);var S=(0,s.pI)(l);c=(0,s.M4)(S,e.votesText),S.forEach(s.r2),b.forEach(s.r2),u=(0,s.M4)(f,"\n    "),h=(0,s.d$)(f,"LI",{class:!0},!1);var C=(0,s.pI)(h);M._fragment.l(C),m=(0,s.M4)(C,"\n      "),p=(0,s.d$)(C,"SPAN",{class:!0},!1);var N=(0,s.pI)(p);g=(0,s.d$)(N,"SPAN",{class:!0},!1);var R=(0,s.pI)(g);v=(0,s.M4)(R,e.expiryText),R.forEach(s.r2),y=(0,s.M4)(N,"\n        "),w=(0,s.d$)(N,"TIME",{datetime:!0,title:!0},!1);var L=(0,s.pI)(w);_=(0,s.M4)(L,e.expiresAtTimeagoFormatted),L.forEach(s.r2),N.forEach(s.r2),C.forEach(s.r2),I=(0,s.M4)(f,"\n    "),x=(0,s.d$)(f,"LI",{class:!0},!1);var F=(0,s.pI)(x);T=(0,s.d$)(F,"BUTTON",{id:!0,class:!0,"aria-label":!0},!1);var j=(0,s.pI)(T);D._fragment.l(j),$=(0,s.M4)(j,"\n        "),A=(0,s.d$)(j,"SPAN",{class:!0,"aria-hidden":!0},!1);var P=(0,s.pI)(A);k=(0,s.M4)(P,"Refresh"),P.forEach(s.r2),j.forEach(s.r2),F.forEach(s.r2),f.forEach(s.r2),d.forEach(s.r2),this.h()},h(){l.className="poll-stat-text svelte-1v2ancf",r.className=d="poll-stat "+(e.notification?"is-notification":"")+" svelte-1v2ancf",g.className=b=e.useNarrowSize?"sr-only":"",w.dateTime=e.expiresAt,w.title=e.expiresAtAbsoluteFormatted,p.className="poll-stat-text poll-stat-expiry svelte-1v2ancf",h.className=S="poll-stat "+(e.notification?"is-notification":"")+" svelte-1v2ancf",A.className="poll-stat-text poll-stat-text-refresh svelte-1v2ancf",(0,s.P$)(A,"aria-hidden","true"),T.id=e.refreshElementId,T.className="focus-fix svelte-1v2ancf",(0,s.P$)(T,"aria-label","Refresh"),x.className=C="poll-stat "+(e.notification?"is-notification":"")+" "+(e.expired?"poll-expired":"")+" svelte-1v2ancf",n.className="poll-details svelte-1v2ancf",(0,s.P$)(n,"aria-label","Poll details"),a.className=e.computedClass+" svelte-1v2ancf",(0,s.P$)(a,"aria-busy",e.loading)},m(t,e){(0,s.$T)(t,a,e),E.m(a,null),(0,s.R3)(a,i),(0,s.R3)(a,n),(0,s.R3)(n,r),z._mount(r,null),(0,s.R3)(r,o),(0,s.R3)(r,l),(0,s.R3)(l,c),(0,s.R3)(n,u),(0,s.R3)(n,h),M._mount(h,null),(0,s.R3)(h,m),(0,s.R3)(h,p),(0,s.R3)(p,g),(0,s.R3)(g,v),(0,s.R3)(p,y),(0,s.R3)(p,w),(0,s.R3)(w,_),(0,s.R3)(n,I),(0,s.R3)(n,x),(0,s.R3)(x,T),D._mount(T,null),(0,s.R3)(T,$),(0,s.R3)(T,A),(0,s.R3)(A,k)},p(e,n){R===(R=N(n))&&E?E.p(e,n):(E.d(1),(E=R(t,n)).c(),E.m(a,i)),e.votesText&&(0,s.a_)(c,n.votesText),e.notification&&d!==(d="poll-stat "+(n.notification?"is-notification":"")+" svelte-1v2ancf")&&(r.className=d),e.expiryText&&(0,s.a_)(v,n.expiryText),e.useNarrowSize&&b!==(b=n.useNarrowSize?"sr-only":"")&&(g.className=b),e.expiresAtTimeagoFormatted&&(0,s.a_)(_,n.expiresAtTimeagoFormatted),e.expiresAt&&(w.dateTime=n.expiresAt),e.expiresAtAbsoluteFormatted&&(w.title=n.expiresAtAbsoluteFormatted),e.notification&&S!==(S="poll-stat "+(n.notification?"is-notification":"")+" svelte-1v2ancf")&&(h.className=S),e.refreshElementId&&(T.id=n.refreshElementId),(e.notification||e.expired)&&C!==(C="poll-stat "+(n.notification?"is-notification":"")+" "+(n.expired?"poll-expired":"")+" svelte-1v2ancf")&&(x.className=C),e.computedClass&&(a.className=n.computedClass+" svelte-1v2ancf"),e.loading&&(0,s.P$)(a,"aria-busy",n.loading)},d(t){t&&(0,s.r2)(a),E.d(),z.destroy(),M.destroy(),D.destroy()}}}(this,this._state),this.root._oncreate.push((()=>{ya.call(this),this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(Ca.prototype,s.uS),(0,s.f0)(Ca.prototype,ba),Ca.prototype._recompute=function(t,e){t.originalStatus&&this._differs(e.pollId,e.pollId=function({originalStatus:t}){return t.poll.id}(e))&&(t.pollId=!0),(t.originalStatus||t.$polls||t.pollId)&&this._differs(e.poll,e.poll=function({originalStatus:t,$polls:e,pollId:a}){return e[a]||t.poll}(e))&&(t.poll=!0),t.poll&&(this._differs(e.votersCount,e.votersCount=function({poll:t}){return t.voters_count}(e))&&(t.votersCount=!0),this._differs(e.votesCount,e.votesCount=function({poll:t}){return t.votes_count}(e))&&(t.votesCount=!0)),(t.votersCount||t.votesCount)&&this._differs(e.votersOrVotesCount,e.votersOrVotesCount=function({votersCount:t,votesCount:e}){return"number"==typeof t?t:e}(e))&&(t.votersOrVotesCount=!0),(t.poll||t.originalStatusEmojis||t.$autoplayGifs||t.votersOrVotesCount||t.$disableDecomojiConverter)&&this._differs(e.options,e.options=function({poll:t,originalStatusEmojis:e,$autoplayGifs:a,votersOrVotesCount:s,$disableDecomojiConverter:i}){return t.options.map((({title:n,votes_count:r},o)=>({title:(0,$e.k)(ke()(n),e,a,i),share:s?Math.round(r/s*100):0,ownVote:t.own_votes.includes(o)})))}(e))&&(t.options=!0),t.poll&&(this._differs(e.voted,e.voted=function({poll:t}){return t.voted}(e))&&(t.voted=!0),this._differs(e.multiple,e.multiple=function({poll:t}){return t.multiple}(e))&&(t.multiple=!0),this._differs(e.expired,e.expired=function({poll:t}){return t.expired}(e))&&(t.expired=!0),this._differs(e.expiresAt,e.expiresAt=function({poll:t}){return t.expires_at}(e))&&(t.expiresAt=!0)),t.expiresAt&&this._differs(e.expiresAtTS,e.expiresAtTS=function({expiresAt:t}){return"number"==typeof t||"string"==typeof t?new Date(t).getTime():null}(e))&&(t.expiresAtTS=!0),(t.expiresAtTS||t.expired||t.$now)&&this._differs(e.expiresAtTimeagoFormatted,e.expiresAtTimeagoFormatted=ga(e))&&(t.expiresAtTimeagoFormatted=!0),t.expiresAtTS&&this._differs(e.expiresAtAbsoluteFormatted,e.expiresAtAbsoluteFormatted=function({expiresAtTS:t}){return T().format(t)}(e))&&(t.expiresAtAbsoluteFormatted=!0),t.expired&&this._differs(e.expiryText,e.expiryText=function({expired:t}){return t?"Ended":"Ends"}(e))&&(t.expiryText=!0),t.uuid&&this._differs(e.refreshElementId,e.refreshElementId=function({uuid:t}){return`poll-refresh-${t}`}(e))&&(t.refreshElementId=!0),(t.$isMobileSize||t.expired||t.isStatusInOwnThread)&&this._differs(e.useNarrowSize,e.useNarrowSize=function({$isMobileSize:t,expired:e,isStatusInOwnThread:a}){return!a&&t&&!e}(e))&&(t.useNarrowSize=!0),t.choices&&this._differs(e.formDisabled,e.formDisabled=function({choices:t}){return!t.length}(e))&&(t.formDisabled=!0),t.votersOrVotesCount&&this._differs(e.votesText,e.votesText=function({votersOrVotesCount:t}){return(0,m.A)([["count","plural",0,{one:["1 vote"],other:[["count"]," votes"]}]],{count:t})}(e))&&(t.votesText=!0),(t.isStatusInNotification||t.isStatusInOwnThread||t.loading||t.shown)&&this._differs(e.computedClass,e.computedClass=function({isStatusInNotification:t,isStatusInOwnThread:e,loading:a,shown:s}){return(0,Gt.q)("poll",t&&"status-in-notification",e&&"status-in-own-thread",a&&"poll-loading",s&&"shown")}(e))&&(t.computedClass=!0)};const Na=Ca;var Ra=a(3999);function Ea(t,e,a){let s=t;for(;s&&!a(s);){if(e(s))return!0;s=s.parentElement}return!1}var za=a(1172),Ma=a(5981);function Da(t,e){if(!t)return;const a=(0,za.N)(t.account,e);return"reblog"===t.type?(0,m.A)([["account"]," boosted your post"],{account:a}):"favourite"===t.type?(0,m.A)([["account"]," favorited your post"],{account:a}):"update"===t.type?(0,m.A)([["account"]," edited their post"],{account:a}):void 0}function La(t,e,a){if(!t)return;const s=(0,za.N)(e,a);return(0,m.A)(["Boosted by ",["account"]],{account:s})}function Fa(t){return t.replace(/\s+/g," ").trim()}function ja(t,e,a,s,i,n,r,o,l,c,d,u,h,f,p,g){const v=(0,za.N)(t,c),b=n||!i?Fa(a):(0,m.A)(["Content warning: ",["spoiler"]],{spoiler:Fa(i)}),y=u&&"has media",w=!u||h&&!f?[]:p.map((t=>t.description)),_=g&&"has poll",S=function(t){for(const e of Ma.K5)if(e.key===t)return e.label}(l);if(d)return(0,m.A)([["privacy"]," post by ",["account"]],{privacy:S,account:v});return[Da(o,c),v,b,y,...w,_,s,`@${t.acct}`,S,La(r,e,c)].filter(Boolean).join(", ")}var Pa=a(1793),Ha=a(7773),Oa=a(173),Ba=a(5067),qa=a(1912),Ua=a(5889);const Va=new Set(["a","button","input","textarea","label"]),Wa=t=>Va.has(t.localName),Za=t=>t.classList.contains("status-toolbar"),Ka=t=>t.classList.contains("status-article");var Qa={onClickOrKeydown(t){const{type:e,keyCode:a,target:s}=t;return("click"===e||"keydown"===e&&13===a)&&(!Ea(s,Wa,Ka)&&(!Ea(s,Za,Ka)&&(this.open(),!0)))},open(){const{originalStatusId:t}=this.get();(0,Ra.E9)(`/statuses/${t}`)},openAuthorProfile(){const{accountForShortcut:t}=this.get();(0,Ra.E9)(`/accounts/${t.id}`)},async mentionAuthor(){const{accountForShortcut:t}=this.get();await(0,Ha.O)(t)},focusArticle(){const{elementId:t}=this.get();(0,qa.w)(t,!0)},recalculateHeight(){this.fire("recalculateHeight")}};function Ya(){const{elementId:t,isStatusInOwnThread:e,showContent:a,originalStatusId:s}=this.get();(0,dt.on)("statusUpdated",this,(t=>{t.id===s&&this.set({overrideOriginalStatus:t})}));const{disableTapOnStatus:i}=this.store.get();e||i||G(this,t,(t=>this.onClickOrKeydown(t))),a||(0,Ke.F)((()=>{this.set({preloadHiddenContent:!0})})),(0,Ke.F)((()=>(0,Ba.d)(this.refs.article)))}function Ga(t,e){for(var a=[e.params],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new o.Z({root:t.root,store:t.store,data:i});return{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params?(0,s.Yn)(a,[e.params]):{};r._set(i)},d(t){r.destroy(t)}}}function Ja(t,e){for(var a=[e.params,e.timestampParams],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new y({root:t.root,store:t.store,data:i});return{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params||t.timestampParams?(0,s.Yn)(a,[t.params&&e.params,t.timestampParams&&e.timestampParams]):{};r._set(i)},d(t){r.destroy(t)}}}function Xa(t,e){for(var a=[e.params,{spoilerShown:e.spoilerShown}],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new ze({root:t.root,store:t.store,data:i});return r.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params||t.spoilerShown?(0,s.Yn)(a,[t.params&&e.params,t.spoilerShown&&{spoilerShown:e.spoilerShown}]):{};r._set(i)},d(t){r.destroy(t)}}}function ts(t,e){for(var a=[e.params],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new We({root:t.root,store:t.store,data:i});return{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params?(0,s.Yn)(a,[e.params]):{};r._set(i)},d(t){r.destroy(t)}}}function es(t,e){for(var a=[e.params,{shown:e.showContent},{plainTextContent:e.plainTextContent}],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new Te({root:t.root,store:t.store,data:i});return r.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params||t.showContent||t.plainTextContent?(0,s.Yn)(a,[t.params&&e.params,t.showContent&&{shown:e.showContent},t.plainTextContent&&{plainTextContent:e.plainTextContent}]):{};r._set(i)},d(t){r.destroy(t)}}}function as(t,e){for(var a=[e.params],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new W({root:t.root,store:t.store,data:i});return{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params?(0,s.Yn)(a,[e.params]):{};r._set(i)},d(t){r.destroy(t)}}}function ss(t,e){for(var a=[e.params],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new ue({root:t.root,store:t.store,data:i});return r.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params?(0,s.Yn)(a,[e.params]):{};r._set(i)},d(t){r.destroy(t)}}}function is(t,e){for(var a=[e.params,{shown:e.showContent}],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new Na({root:t.root,store:t.store,data:i});return r.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params||t.showContent?(0,s.Yn)(a,[t.params&&e.params,t.showContent&&{shown:e.showContent}]):{};r._set(i)},d(t){r.destroy(t)}}}function ns(t,e){var a={status:e.originalQuote,isQuote:!0},s=new hs({root:t.root,store:t.store,data:a});return s.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.originalQuote&&(a.status=e.originalQuote),s._set(a)},d(t){s.destroy(t)}}}function rs(t,e){var a={hashtagsInBar:e.hashtagsInBar,isStatusInNotification:e.isStatusInNotification},s=new na({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.hashtagsInBar&&(a.hashtagsInBar=e.hashtagsInBar),t.isStatusInNotification&&(a.isStatusInNotification=e.isStatusInNotification),s._set(a)},d(t){s.destroy(t)}}}function os(t,e){for(var a=[e.params],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new ea({root:t.root,store:t.store,data:i});return{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params?(0,s.Yn)(a,[e.params]):{};r._set(i)},d(t){r.destroy(t)}}}function ls(t,e){for(var a=[e.params,e.timestampParams],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new M({root:t.root,store:t.store,data:i});return{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params||t.timestampParams?(0,s.Yn)(a,[t.params&&e.params,t.timestampParams&&e.timestampParams]):{};r._set(i)},d(t){r.destroy(t)}}}function cs(t,e){for(var a=[e.params,{replyShown:e.replyShown}],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new yt({root:t.root,store:t.store,data:i});return r.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),r.on("focusArticle",(function(e){t.focusArticle()})),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params||t.replyShown?(0,s.Yn)(a,[t.params&&e.params,t.replyShown&&{replyShown:e.replyShown}]):{};r._set(i)},d(t){r.destroy(t)}}}function ds(t,e){for(var a=[e.params],i={},n=0;n<a.length;n+=1)i=(0,s.f0)(i,a[n]);var r=new He({root:t.root,store:t.store,data:i});return r.on("recalculateHeight",(function(e){t.fire("recalculateHeight",e)})),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var i=t.params?(0,s.Yn)(a,[e.params]):{};r._set(i)},d(t){r.destroy(t)}}}function us(t,e){var a,i,n={scope:e.shortcutScope,key:"o"},r=new L.Z({root:t.root,store:t.store,data:n});r.on("pressed",(function(e){t.open()}));var o={scope:e.shortcutScope,key:"p"},l=new L.Z({root:t.root,store:t.store,data:o});l.on("pressed",(function(e){t.openAuthorProfile()}));var c={scope:e.shortcutScope,key:"m"},d=new L.Z({root:t.root,store:t.store,data:c});return d.on("pressed",(function(e){t.mentionAuthor()})),{c(){r._fragment.c(),a=(0,s.rw)("\n  "),l._fragment.c(),i=(0,s.rw)("\n  "),d._fragment.c()},l(t){r._fragment.l(t),a=(0,s.M4)(t,"\n  "),l._fragment.l(t),i=(0,s.M4)(t,"\n  "),d._fragment.l(t)},m(t,e){r._mount(t,e),(0,s.$T)(t,a,e),l._mount(t,e),(0,s.$T)(t,i,e),d._mount(t,e)},p(t,e){var a={};t.shortcutScope&&(a.scope=e.shortcutScope),r._set(a);var s={};t.shortcutScope&&(s.scope=e.shortcutScope),l._set(s);var i={};t.shortcutScope&&(i.scope=e.shortcutScope),d._set(i)},d(t){r.destroy(t),t&&(0,s.r2)(a),l.destroy(t),t&&(0,s.r2)(i),d.destroy(t)}}}function hs(t){var e;if((0,s.S1)(this,t),this.store=_.h,this.refs={},this._state=(0,s.f0)((0,s.f0)((0,s.f0)({Math},this.store._init(["hideLongPosts","currentInstance","spoilersShown","showAllSpoilers","repliesShown","hideCards","sensitivesShown","markMediaAsSensitive","neverMarkMediaAsSensitive","omitEmojiInDisplayNames","now","disableRelativeTimestamps","disableLongAriaLabels","underlineLinks","disableTapOnStatus","currentTimeline"])),{notification:void 0,replyVisibility:void 0,preloadHiddenContent:!1,enableShortcuts:null,isQuote:!1,overrideOriginalStatus:null}),t.data),this.store._add(this,["hideLongPosts","currentInstance","spoilersShown","showAllSpoilers","repliesShown","hideCards","sensitivesShown","markMediaAsSensitive","neverMarkMediaAsSensitive","omitEmojiInDisplayNames","now","disableRelativeTimestamps","disableLongAriaLabels","underlineLinks","disableTapOnStatus","currentTimeline"]),this._recompute({status:1,overrideOriginalStatus:1,originalStatus:1,notification:1,account:1,originalAccount:1,plainTextContent:1,$hideLongPosts:1,plainTextContentOverLength:1,$currentInstance:1,timelineType:1,timelineValue:1,notificationId:1,statusId:1,uuid:1,elementId:1,originalStatusId:1,$spoilersShown:1,$showAllSpoilers:1,$repliesShown:1,isStatusInNotification:1,originalQuote:1,showMedia:1,$hideCards:1,showQuote:1,$sensitivesShown:1,$markMediaAsSensitive:1,$neverMarkMediaAsSensitive:1,$omitEmojiInDisplayNames:1,editedAtDate:1,createdAtDate:1,createdAtDateTS:1,editedAtDateTS:1,$now:1,$disableRelativeTimestamps:1,spoilerText:1,spoilerShown:1,shortInlineFormattedDate:1,showContent:1,reblog:1,visibility:1,$disableLongAriaLabels:1,sensitive:1,sensitiveShown:1,mediaAttachments:1,showPoll:1,$currentTimeline:1,isStatusInOwnThread:1,$underlineLinks:1,$disableTapOnStatus:1,isQuote:1,treeMetadata:1,absoluteFormattedCreatedDate:1,absoluteFormattedEditedDate:1,hashtagsInBar:1,accountId:1,originalAccountId:1,replyVisibility:1,inReplyToId:1,enableShortcuts:1,shortcutScope:1,originalStatusEmojis:1,localOnly:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-uce5yp-style")||((e=(0,s.az)("style")).id="svelte-uce5yp-style",e.textContent='.status-article.svelte-uce5yp{padding:var(--status-pad-v) var(--status-pad-h);display:grid;grid-template-areas:"header  header       header        header"\n        "sidebar author-name  author-handle relative-date"\n        "sidebar spoiler      spoiler       spoiler"\n        "sidebar spoiler-btn  spoiler-btn   spoiler-btn"\n        "sidebar mentions     mentions      mentions"\n        "sidebar content      content       content"\n        "sidebar card         card          card"\n        "sidebar media        media         media"\n        "sidebar poll         poll          poll"\n        "quote   quote        quote         quote"\n        "....... tags         tags          tags"\n        "....... reactions    reactions     reactions"\n        "....... toolbar      toolbar       toolbar"\n        "compose compose      compose       compose";grid-template-columns:min-content minmax(0, max-content) 1fr min-content;grid-template-rows:repeat(8, max-content)}.status-article.tap-on-status.svelte-uce5yp{cursor:pointer}.status-article.status-in-timeline.svelte-uce5yp{border-bottom:1px solid var(--main-border)}.status-article.status-direct.svelte-uce5yp{background-color:var(--status-direct-background)}.status-article.status-in-own-thread.svelte-uce5yp{grid-template-areas:"sidebar     author-name"\n      "sidebar     author-handle"\n      "spoiler     spoiler"\n      "spoiler-btn spoiler-btn"\n      "mentions    mentions"\n      "content     content"\n      "card        card"\n      "media       media"\n      "poll        poll"\n      "quote       quote"\n      "tags        tags"\n      "reactions   reactions"\n      "details     details"\n      "toolbar     toolbar"\n      "compose     compose";grid-template-columns:min-content 1fr;grid-template-rows:repeat(7, max-content)}.status-article.status-quoted.svelte-uce5yp{grid-area:quote;margin:10px 10px 10px 5px;border:1px solid var(--main-border);border-radius:6px}.status-article.svelte-uce5yp{padding-left:calc(10px * var(--status-level) + var(--status-pad-h)) !important}.status-article.svelte-uce5yp::before{content:"";position:absolute;top:0;left:0;background-image:repeating-linear-gradient(90deg, currentColor 0, currentColor 5px, transparent 5px, transparent 10px);width:calc(10px * var(--status-level));height:100%;z-index:-1;color:var(--body-bg)}.status-article.status-subtree-start.svelte-uce5yp{border-top:4px solid var(--main-border)}.status-article.status-subtree-end.svelte-uce5yp{border-bottom:4px solid var(--main-border)}',(0,s.R3)(document.head,e)),this._fragment=function(t,e){for(var a,i,n,o,l,c,u,m,f,p,g,v,b,y,w,_,S,I,x,T,$,A=e.showHeader&&Ga(t,e),k=[e.params],C={},N=0;N<k.length;N+=1)C=(0,s.f0)(C,k[N]);var R=new d({root:t.root,store:t.store,data:C}),E=[e.params],z={};for(N=0;N<E.length;N+=1)z=(0,s.f0)(z,E[N]);var M=new h({root:t.root,store:t.store,data:z}),D=!e.isStatusInOwnThread&&Ja(t,e),L=[e.params],F={};for(N=0;N<L.length;N+=1)F=(0,s.f0)(F,L[N]);var j=new r({root:t.root,store:t.store,data:F}),P=e.spoilerText&&Xa(t,e),H=!e.showContent&&ts(t,e),O=e.content&&(e.showContent||e.preloadHiddenContent)&&es(t,e),B=e.showCard&&e.showContent&&as(t,e),q=e.showMedia&&ss(t,e),U=e.showPoll&&(e.showContent||e.preloadHiddenContent)&&is(t,e),V=e.showQuote&&e.showContent&&ns(t,e),W=e.showHashtagsInBar&&rs(t,e),Z=e.hasReactions&&os(t,e),K=e.isStatusInOwnThread&&ls(t,e),Q=!(e.isStatusInNotification||e.isQuote)&&cs(t,e),Y=e.replyShown&&ds(t,e);function G(e){t.fire("recalculateHeight",e)}function J(e){t.recalculateHeight()}var X=e.enableShortcuts&&us(t,e);return{c(){a=(0,s.az)("article"),A&&A.c(),i=(0,s.rw)("\n  "),R._fragment.c(),n=(0,s.rw)("\n  "),M._fragment.c(),o=(0,s.rw)("\n  "),D&&D.c(),l=(0,s.rw)("\n  "),j._fragment.c(),c=(0,s.rw)("\n  "),P&&P.c(),u=(0,s.rw)("\n  "),H&&H.c(),m=(0,s.rw)("\n  "),O&&O.c(),f=(0,s.rw)("\n  \n  "),B&&B.c(),p=(0,s.rw)("\n  "),q&&q.c(),g=(0,s.rw)("\n  "),U&&U.c(),v=(0,s.rw)("\n  "),V&&V.c(),b=(0,s.rw)("\n  "),W&&W.c(),y=(0,s.rw)("\n  "),Z&&Z.c(),w=(0,s.rw)("\n  "),K&&K.c(),_=(0,s.rw)("\n  "),Q&&Q.c(),S=(0,s.rw)("\n  "),Y&&Y.c(),T=(0,s.rw)("\n"),X&&X.c(),$=(0,s.Yr)(),this.h()},l(t){a=(0,s.d$)(t,"ARTICLE",{id:!0,class:!0,tabindex:!0,"aria-posinset":!0,"aria-setsize":!0,"aria-label":!0,style:!0},!1);var e=(0,s.pI)(a);A&&A.l(e),i=(0,s.M4)(e,"\n  "),R._fragment.l(e),n=(0,s.M4)(e,"\n  "),M._fragment.l(e),o=(0,s.M4)(e,"\n  "),D&&D.l(e),l=(0,s.M4)(e,"\n  "),j._fragment.l(e),c=(0,s.M4)(e,"\n  "),P&&P.l(e),u=(0,s.M4)(e,"\n  "),H&&H.l(e),m=(0,s.M4)(e,"\n  "),O&&O.l(e),f=(0,s.M4)(e,"\n  \n  "),B&&B.l(e),p=(0,s.M4)(e,"\n  "),q&&q.l(e),g=(0,s.M4)(e,"\n  "),U&&U.l(e),v=(0,s.M4)(e,"\n  "),V&&V.l(e),b=(0,s.M4)(e,"\n  "),W&&W.l(e),y=(0,s.M4)(e,"\n  "),Z&&Z.l(e),w=(0,s.M4)(e,"\n  "),K&&K.l(e),_=(0,s.M4)(e,"\n  "),Q&&Q.l(e),S=(0,s.M4)(e,"\n  "),Y&&Y.l(e),e.forEach(s.r2),T=(0,s.M4)(t,"\n"),X&&X.l(t),$=(0,s.Yr)(),this.h()},h(){(0,s.NH)(a,"recalculateHeight",G),(0,s.NH)(a,"load",J,!0),a.id=e.elementId,a.className=e.className+" svelte-uce5yp",a.tabIndex="0",(0,s.P$)(a,"aria-posinset",I=e.index+1),(0,s.P$)(a,"aria-setsize",e.length),(0,s.P$)(a,"aria-label",e.ariaLabel),a.style.cssText=x="--status-level:"+e.Math.min(8,e.treeMetadata&&e.treeMetadata.level||0)},m(e,r){(0,s.$T)(e,a,r),A&&A.m(a,null),(0,s.R3)(a,i),R._mount(a,null),(0,s.R3)(a,n),M._mount(a,null),(0,s.R3)(a,o),D&&D.m(a,null),(0,s.R3)(a,l),j._mount(a,null),(0,s.R3)(a,c),P&&P.m(a,null),(0,s.R3)(a,u),H&&H.m(a,null),(0,s.R3)(a,m),O&&O.m(a,null),(0,s.R3)(a,f),B&&B.m(a,null),(0,s.R3)(a,p),q&&q.m(a,null),(0,s.R3)(a,g),U&&U.m(a,null),(0,s.R3)(a,v),V&&V.m(a,null),(0,s.R3)(a,b),W&&W.m(a,null),(0,s.R3)(a,y),Z&&Z.m(a,null),(0,s.R3)(a,w),K&&K.m(a,null),(0,s.R3)(a,_),Q&&Q.m(a,null),(0,s.R3)(a,S),Y&&Y.m(a,null),t.refs.article=a,(0,s.$T)(e,T,r),X&&X.m(e,r),(0,s.$T)(e,$,r)},p(e,n){n.showHeader?A?A.p(e,n):((A=Ga(t,n)).c(),A.m(a,i)):A&&(A.d(1),A=null);var r=e.params?(0,s.Yn)(k,[n.params]):{};R._set(r);var o=e.params?(0,s.Yn)(E,[n.params]):{};M._set(o),n.isStatusInOwnThread?D&&(D.d(1),D=null):D?D.p(e,n):((D=Ja(t,n)).c(),D.m(a,l));var c=e.params?(0,s.Yn)(L,[n.params]):{};j._set(c),n.spoilerText?P?P.p(e,n):((P=Xa(t,n)).c(),P.m(a,u)):P&&(P.d(1),P=null),n.showContent?H&&(H.d(1),H=null):H?H.p(e,n):((H=ts(t,n)).c(),H.m(a,m)),n.content&&(n.showContent||n.preloadHiddenContent)?O?O.p(e,n):((O=es(t,n)).c(),O.m(a,f)):O&&(O.d(1),O=null),n.showCard&&n.showContent?B?B.p(e,n):((B=as(t,n)).c(),B.m(a,p)):B&&(B.d(1),B=null),n.showMedia?q?q.p(e,n):((q=ss(t,n)).c(),q.m(a,g)):q&&(q.d(1),q=null),n.showPoll&&(n.showContent||n.preloadHiddenContent)?U?U.p(e,n):((U=is(t,n)).c(),U.m(a,v)):U&&(U.d(1),U=null),n.showQuote&&n.showContent?V?V.p(e,n):((V=ns(t,n)).c(),V.m(a,b)):V&&(V.d(1),V=null),n.showHashtagsInBar?W?W.p(e,n):((W=rs(t,n)).c(),W.m(a,y)):W&&(W.d(1),W=null),n.hasReactions?Z?Z.p(e,n):((Z=os(t,n)).c(),Z.m(a,w)):Z&&(Z.d(1),Z=null),n.isStatusInOwnThread?K?K.p(e,n):((K=ls(t,n)).c(),K.m(a,_)):K&&(K.d(1),K=null),n.isStatusInNotification||n.isQuote?Q&&(Q.d(1),Q=null):Q?Q.p(e,n):((Q=cs(t,n)).c(),Q.m(a,S)),n.replyShown?Y?Y.p(e,n):((Y=ds(t,n)).c(),Y.m(a,null)):Y&&(Y.d(1),Y=null),e.elementId&&(a.id=n.elementId),e.className&&(a.className=n.className+" svelte-uce5yp"),e.index&&I!==(I=n.index+1)&&(0,s.P$)(a,"aria-posinset",I),e.length&&(0,s.P$)(a,"aria-setsize",n.length),e.ariaLabel&&(0,s.P$)(a,"aria-label",n.ariaLabel),(e.Math||e.treeMetadata)&&x!==(x="--status-level:"+n.Math.min(8,n.treeMetadata&&n.treeMetadata.level||0))&&(a.style.cssText=x),n.enableShortcuts?X?X.p(e,n):((X=us(t,n)).c(),X.m($.parentNode,$)):X&&(X.d(1),X=null)},d(e){e&&(0,s.r2)(a),A&&A.d(),R.destroy(),M.destroy(),D&&D.d(),j.destroy(),P&&P.d(),H&&H.d(),O&&O.d(),B&&B.d(),q&&q.d(),U&&U.d(),V&&V.d(),W&&W.d(),Z&&Z.d(),K&&K.d(),Q&&Q.d(),Y&&Y.d(),(0,s.ys)(a,"recalculateHeight",G),(0,s.ys)(a,"load",J,!0),t.refs.article===a&&(t.refs.article=null),e&&(0,s.r2)(T),X&&X.d(e),e&&(0,s.r2)($)}}}(this,this._state),this.root._oncreate.push((()=>{Ya.call(this),this.fire("update",{changed:(0,s.lZ)({},this._state),current:this._state})})),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(hs.prototype,s.uS),(0,s.f0)(hs.prototype,Qa),hs.prototype._recompute=function(t,e){(t.status||t.overrideOriginalStatus)&&this._differs(e.originalStatus,e.originalStatus=function({status:t,overrideOriginalStatus:e}){const a=e||(t.reblog?t.reblog:t);return a[Ua.UZ]||console.warn("status not rehydrated"),a}(e))&&(t.originalStatus=!0),t.originalStatus&&this._differs(e.originalStatusId,e.originalStatusId=function({originalStatus:t}){return t.id}(e))&&(t.originalStatusId=!0),t.status&&this._differs(e.statusId,e.statusId=function({status:t}){return t.id}(e))&&(t.statusId=!0),t.notification&&this._differs(e.notificationId,e.notificationId=function({notification:t}){return t&&t.id}(e))&&(t.notificationId=!0),(t.notification||t.status)&&this._differs(e.account,e.account=function({notification:t,status:e}){return t&&t.account||e.account}(e))&&(t.account=!0),t.account&&this._differs(e.accountId,e.accountId=function({account:t}){return t.id}(e))&&(t.accountId=!0),t.originalStatus&&this._differs(e.originalAccount,e.originalAccount=function({originalStatus:t}){return t.account}(e))&&(t.originalAccount=!0),t.originalAccount&&this._differs(e.originalAccountId,e.originalAccountId=function({originalAccount:t}){return t.id}(e))&&(t.originalAccountId=!0),(t.originalAccount||t.notification)&&this._differs(e.accountForShortcut,e.accountForShortcut=function({originalAccount:t,notification:e}){return e?e.account:t}(e))&&(t.accountForShortcut=!0),t.originalStatus&&(this._differs(e.visibility,e.visibility=function({originalStatus:t}){return t.visibility}(e))&&(t.visibility=!0),this._differs(e.plainTextContent,e.plainTextContent=function({originalStatus:t}){return t.plainTextContent||""}(e))&&(t.plainTextContent=!0)),(t.plainTextContent||t.$hideLongPosts)&&this._differs(e.plainTextContentOverLength,e.plainTextContentOverLength=function({plainTextContent:t,$hideLongPosts:e}){return e&&t.length>Ma.Ai&&(0,Pa.X)(t)>Ma.Ai}(e))&&(t.plainTextContentOverLength=!0),(t.originalStatus||t.plainTextContentOverLength)&&this._differs(e.spoilerText,e.spoilerText=function({originalStatus:t,plainTextContentOverLength:e}){return t.spoiler_text||e&&Ma.W2}(e))&&(t.spoilerText=!0),t.originalStatus&&this._differs(e.inReplyToId,e.inReplyToId=function({originalStatus:t}){return t.in_reply_to_id}(e))&&(t.inReplyToId=!0),(t.$currentInstance||t.timelineType||t.timelineValue||t.notificationId||t.statusId)&&this._differs(e.uuid,e.uuid=function({$currentInstance:t,timelineType:e,timelineValue:a,notificationId:s,statusId:i}){return(0,Oa.L)(t,e,a,s,i)}(e))&&(t.uuid=!0),t.uuid&&this._differs(e.elementId,e.elementId=function({uuid:t}){return t}(e))&&(t.elementId=!0),t.elementId&&this._differs(e.shortcutScope,e.shortcutScope=function({elementId:t}){return t}(e))&&(t.shortcutScope=!0),(t.timelineType||t.timelineValue||t.originalStatusId)&&this._differs(e.isStatusInOwnThread,e.isStatusInOwnThread=function({timelineType:t,timelineValue:e,originalStatusId:a}){return("status"===t||"reply"===t)&&e===a}(e))&&(t.isStatusInOwnThread=!0),(t.originalStatusId||t.notification)&&this._differs(e.isStatusInNotification,e.isStatusInNotification=function({originalStatusId:t,notification:e}){return e&&e.status&&"mention"!==e.type&&e.status.id===t}(e))&&(t.isStatusInNotification=!0),(t.$spoilersShown||t.uuid||t.$showAllSpoilers)&&this._differs(e.spoilerShown,e.spoilerShown=function({$spoilersShown:t,uuid:e,$showAllSpoilers:a}){return void 0===t[e]?!!a:!!t[e]}(e))&&(t.spoilerShown=!0),(t.$repliesShown||t.uuid)&&this._differs(e.replyShown,e.replyShown=function({$repliesShown:t,uuid:e}){return!!t[e]}(e))&&(t.replyShown=!0),(t.originalStatus||t.isStatusInNotification)&&this._differs(e.showMedia,e.showMedia=function({originalStatus:t,isStatusInNotification:e}){return!e&&t.media_attachments&&t.media_attachments.length}(e))&&(t.showMedia=!0),t.originalStatus&&this._differs(e.originalQuote,e.originalQuote=function({originalStatus:t}){return t.quote}(e))&&(t.originalQuote=!0),(t.originalQuote||t.isStatusInNotification)&&this._differs(e.showQuote,e.showQuote=function({originalQuote:t,isStatusInNotification:e}){return t&&!e}(e))&&(t.showQuote=!0),(t.originalStatus||t.isStatusInNotification||t.showMedia||t.$hideCards||t.showQuote)&&this._differs(e.showCard,e.showCard=function({originalStatus:t,isStatusInNotification:e,showMedia:a,$hideCards:s,showQuote:i}){return!s&&!e&&!a&&!i&&t.card&&t.card.title}(e))&&(t.showCard=!0),t.originalStatus&&(this._differs(e.showPoll,e.showPoll=function({originalStatus:t}){return t.poll}(e))&&(t.showPoll=!0),this._differs(e.mediaAttachments,e.mediaAttachments=function({originalStatus:t}){return t.media_attachments}(e))&&(t.mediaAttachments=!0)),(t.$sensitivesShown||t.uuid)&&this._differs(e.sensitiveShown,e.sensitiveShown=function({$sensitivesShown:t,uuid:e}){return!!t[e]}(e))&&(t.sensitiveShown=!0),(t.originalStatus||t.$markMediaAsSensitive||t.$neverMarkMediaAsSensitive)&&this._differs(e.sensitive,e.sensitive=function({originalStatus:t,$markMediaAsSensitive:e,$neverMarkMediaAsSensitive:a}){return!a&&(e||t.sensitive)}(e))&&(t.sensitive=!0),t.originalAccount&&this._differs(e.originalAccountEmojis,e.originalAccountEmojis=function({originalAccount:t}){return t.emojis||[]}(e))&&(t.originalAccountEmojis=!0),t.originalStatus&&this._differs(e.originalStatusEmojis,e.originalStatusEmojis=function({originalStatus:t}){return t.emojis||[]}(e))&&(t.originalStatusEmojis=!0),t.originalAccount&&this._differs(e.originalAccountDisplayName,e.originalAccountDisplayName=function({originalAccount:t}){return t.display_name||t.username}(e))&&(t.originalAccountDisplayName=!0),(t.originalAccount||t.$omitEmojiInDisplayNames)&&this._differs(e.originalAccountAccessibleName,e.originalAccountAccessibleName=function({originalAccount:t,$omitEmojiInDisplayNames:e}){return(0,za.N)(t,e)}(e))&&(t.originalAccountAccessibleName=!0),t.originalStatus&&(this._differs(e.editedAtDate,e.editedAtDate=function({originalStatus:t}){return t.edited_at}(e))&&(t.editedAtDate=!0),this._differs(e.createdAtDate,e.createdAtDate=function({originalStatus:t}){return t.created_at}(e))&&(t.createdAtDate=!0)),t.editedAtDate&&this._differs(e.editedAtDateTS,e.editedAtDateTS=function({editedAtDate:t}){return t&&new Date(t).getTime()}(e))&&(t.editedAtDateTS=!0),t.createdAtDate&&this._differs(e.createdAtDateTS,e.createdAtDateTS=function({createdAtDate:t}){return new Date(t).getTime()}(e))&&(t.createdAtDateTS=!0),t.createdAtDateTS&&this._differs(e.absoluteFormattedCreatedDate,e.absoluteFormattedCreatedDate=function({createdAtDateTS:t}){return T().format(t)}(e))&&(t.absoluteFormattedCreatedDate=!0),t.editedAtDateTS&&this._differs(e.absoluteFormattedEditedDate,e.absoluteFormattedEditedDate=function({editedAtDateTS:t}){return t&&T().format(t)}(e))&&(t.absoluteFormattedEditedDate=!0),(t.createdAtDateTS||t.editedAtDateTS||t.$now||t.$disableRelativeTimestamps)&&this._differs(e.shortInlineFormattedDate,e.shortInlineFormattedDate=function({createdAtDateTS:t,editedAtDateTS:e,$now:a,$disableRelativeTimestamps:s}){return s?A().format(e||t):ua(e||t,a)}(e))&&(t.shortInlineFormattedDate=!0),t.status&&this._differs(e.reblog,e.reblog=function({status:t}){return t.reblog}(e))&&(t.reblog=!0),(t.spoilerText||t.spoilerShown)&&this._differs(e.showContent,e.showContent=function({spoilerText:t,spoilerShown:e}){return!t||e}(e))&&(t.showContent=!0),(t.originalAccount||t.account||t.plainTextContent||t.shortInlineFormattedDate||t.spoilerText||t.showContent||t.reblog||t.notification||t.visibility||t.$omitEmojiInDisplayNames||t.$disableLongAriaLabels||t.showMedia||t.sensitive||t.sensitiveShown||t.mediaAttachments||t.showPoll)&&this._differs(e.ariaLabel,e.ariaLabel=function({originalAccount:t,account:e,plainTextContent:a,shortInlineFormattedDate:s,spoilerText:i,showContent:n,reblog:r,notification:o,visibility:l,$omitEmojiInDisplayNames:c,$disableLongAriaLabels:d,showMedia:u,sensitive:h,sensitiveShown:m,mediaAttachments:f,showPoll:p}){return ja(t,e,a,s,i,n,r,o,l,c,d,u,h,m,f,p)}(e))&&(t.ariaLabel=!0),(t.notification||t.status||t.timelineType)&&this._differs(e.showHeader,e.showHeader=function({notification:t,status:e,timelineType:a}){return t&&["reblog","favourite","poll","status","update","pleroma:emoji_reaction","reaction"].includes(t.type)||e.reblog||"pinned"===a}(e))&&(t.showHeader=!0),t.originalStatus&&this._differs(e.hasReactions,e.hasReactions=function({originalStatus:t}){return Boolean(t.reactions||t.emoji_reactions)}(e))&&(t.hasReactions=!0),(t.statusId||t.$currentInstance||t.$currentTimeline)&&this._differs(e.treeMetadata,e.treeMetadata=function({statusId:t,$currentInstance:e,$currentTimeline:a}){const s=_.h.getForTimeline(e,a,"timelineItemSummaries");if(!s)return null;const i=s.find((e=>e.id===t));return i&&"number"==typeof i.level?{level:i.level,subtree:i.subtree}:null}(e))&&(t.treeMetadata=!0),(t.visibility||t.timelineType||t.isStatusInOwnThread||t.$underlineLinks||t.$disableTapOnStatus||t.isQuote||t.treeMetadata)&&this._differs(e.className,e.className=function({visibility:t,timelineType:e,isStatusInOwnThread:a,$underlineLinks:s,$disableTapOnStatus:i,isQuote:n,treeMetadata:r}){return(0,Gt.q)("status-article","shortcut-list-item","focus-fix","direct"!==e&&"direct"===t&&"status-direct","search"!==e&&"status-in-timeline",a&&"status-in-own-thread",s&&"underline-links",!i&&!a&&"tap-on-status",n&&"status-quoted",r&&r.subtree&&r.subtree.start&&"status-subtree-start",r&&r.subtree&&r.subtree.end&&"status-subtree-end")}(e))&&(t.className=!0),t.originalStatus&&(this._differs(e.content,e.content=function({originalStatus:t}){return t.content||""}(e))&&(t.content=!0),this._differs(e.localOnly,e.localOnly=function({originalStatus:t}){return t.local_only||!1}(e))&&(t.localOnly=!0)),(t.createdAtDate||t.createdAtDateTS||t.editedAtDate||t.editedAtDateTS||t.shortInlineFormattedDate||t.absoluteFormattedCreatedDate||t.absoluteFormattedEditedDate)&&this._differs(e.timestampParams,e.timestampParams=function({createdAtDate:t,createdAtDateTS:e,editedAtDate:a,editedAtDateTS:s,shortInlineFormattedDate:i,absoluteFormattedCreatedDate:n,absoluteFormattedEditedDate:r}){return{createdAtDate:t,createdAtDateTS:e,editedAtDate:a,editedAtDateTS:s,shortInlineFormattedDate:i,absoluteFormattedCreatedDate:n,absoluteFormattedEditedDate:r}}(e))&&(t.timestampParams=!0),t.originalStatus&&this._differs(e.hashtagsInBar,e.hashtagsInBar=function({originalStatus:t}){return t.hashtagsInBar||[]}(e))&&(t.hashtagsInBar=!0),(t.hashtagsInBar||t.showContent)&&this._differs(e.showHashtagsInBar,e.showHashtagsInBar=function({hashtagsInBar:t,showContent:e}){return e&&t.length>0}(e))&&(t.showHashtagsInBar=!0),(t.notification||t.notificationId||t.status||t.statusId||t.timelineType||t.account||t.accountId||t.uuid||t.isStatusInNotification||t.isStatusInOwnThread||t.originalAccount||t.originalAccountId||t.visibility||t.replyVisibility||t.spoilerText||t.originalStatus||t.originalStatusId||t.inReplyToId||t.enableShortcuts||t.shortcutScope||t.originalStatusEmojis||t.localOnly)&&this._differs(e.params,e.params=function({notification:t,notificationId:e,status:a,statusId:s,timelineType:i,account:n,accountId:r,uuid:o,isStatusInNotification:l,isStatusInOwnThread:c,originalAccount:d,originalAccountId:u,visibility:h,replyVisibility:m,spoilerText:f,originalStatus:p,originalStatusId:g,inReplyToId:v,enableShortcuts:b,shortcutScope:y,originalStatusEmojis:w,localOnly:_}){return{notification:t,notificationId:e,status:a,statusId:s,timelineType:i,account:n,accountId:r,uuid:o,isStatusInNotification:l,isStatusInOwnThread:c,originalAccount:d,originalAccountId:u,visibility:h,replyVisibility:m,spoilerText:f,originalStatus:p,originalStatusId:g,inReplyToId:v,enableShortcuts:b,shortcutScope:y,originalStatusEmojis:w,localOnly:_}}(e))&&(t.params=!0)};const ms=hs},1975:(t,e,a)=>{a.d(e,{Z:()=>f});var s=a(4178),i=a(3291),n=a(4124),r=a(8552),o=a(5524),l=a(247);function c(t,e){var a={className:"status-header-svg",href:e.icon},s=new r.Z({root:t.root,store:t.store,data:a});return{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var a={};t.icon&&(a.href=e.icon),s._set(a)},d(t){s.destroy(t)}}}function d(t,e){var a;return{c(){a=(0,s.az)("div"),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1),(0,s.pI)(a).forEach(s.r2),this.h()},h(){a.className="status-header-emoji svelte-1pn0mwr"},m(t,i){(0,s.$T)(t,a,i),a.innerHTML=e.emojiReaction},p(t,e){t.emojiReaction&&(a.innerHTML=e.emojiReaction)},d(t){t&&(0,s.r2)(a)}}}function u(t,e){var a,i,r,o={account:e.account},l=new n.Z({root:t.root,store:t.store,data:o});return{c(){a=(0,s.az)("a"),l._fragment.c(),this.h()},l(t){a=(0,s.d$)(t,"A",{id:!0,href:!0,rel:!0,class:!0,title:!0},!1);var e=(0,s.pI)(a);l._fragment.l(e),e.forEach(s.r2),this.h()},h(){a.id=e.authorElementId,a.href=i="/accounts/"+e.accountId,a.rel="prefetch",a.className="status-header-author svelte-1pn0mwr",a.title=r="@"+e.account.acct},m(t,e){(0,s.$T)(t,a,e),l._mount(a,null)},p(t,e){var s={};t.account&&(s.account=e.account),l._set(s),t.authorElementId&&(a.id=e.authorElementId),t.accountId&&i!==(i="/accounts/"+e.accountId)&&(a.href=i),t.account&&r!==(r="@"+e.account.acct)&&(a.title=r)},d(t){t&&(0,s.r2)(a),l.destroy()}}}function h(t,e){var a,i;return{c(){a=(0,s.az)("span"),i=(0,s.rw)("Pinned post"),this.h()},l(t){a=(0,s.d$)(t,"SPAN",{class:!0},!1);var e=(0,s.pI)(a);i=(0,s.M4)(e,"Pinned post"),e.forEach(s.r2),this.h()},h(){a.className="status-header-author svelte-1pn0mwr"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,i)},p:s.ZT,d(t){t&&(0,s.r2)(a)}}}function m(t){var e;if((0,s.S1)(this,t),this.store=o.h,this._state=(0,s.f0)(this.store._init(["currentVerifyCredentials","autoplayGifs"]),t.data),this.store._add(this,["currentVerifyCredentials","autoplayGifs"]),this._recompute({uuid:1,notification:1,notificationType:1,status:1,timelineType:1,$currentVerifyCredentials:1,$autoplayGifs:1},this._state),this._intro=!0,this._handlers.destroy=[s.iT],document.getElementById("svelte-1pn0mwr-style")||((e=(0,s.az)("style")).id="svelte-1pn0mwr-style",e.textContent=".status-header.svelte-1pn0mwr{grid-area:header;margin:0 10px 5px 5px;display:flex;align-items:center}.status-header.header-is-follow.svelte-1pn0mwr{margin-bottom:0}.status-header-avatar.svelte-1pn0mwr{margin-left:19px}.status-header-svg,.status-header-emoji.svelte-1pn0mwr{min-width:18px;margin-left:20px;width:18px;height:18px;fill:var(--deemphasized-text-color);font-size:13px}.status-header-emoji.svelte-1pn0mwr .inline-emoji.svelte-1pn0mwr{font-size:18px;line-height:1}.status-header.status-in-notification .status-header-svg{fill:var(--body-text-color)}.status-header-content.svelte-1pn0mwr{display:flex;flex:1;min-width:0;width:0}.status-header-author.svelte-1pn0mwr{margin-left:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.status-header-action.svelte-1pn0mwr{margin-left:0.5ch;white-space:nowrap;flex:1}.status-header-action.svelte-1pn0mwr,.status-header-author.svelte-1pn0mwr,.status-header-author.svelte-1pn0mwr:visited,.status-header-author.svelte-1pn0mwr:hover{color:var(--deemphasized-text-color)}.status-in-notification.svelte-1pn0mwr .status-header-action.svelte-1pn0mwr,.status-in-notification.svelte-1pn0mwr .status-header-author.svelte-1pn0mwr,.status-in-notification.svelte-1pn0mwr .status-header-author.svelte-1pn0mwr:visited,.status-in-notification.svelte-1pn0mwr .status-header-author.svelte-1pn0mwr:hover{color:var(--body-text-color)}@media(max-width: 767px){.status-header-svg{margin-left:10px}}@media(max-width: 240px){.status-header.svelte-1pn0mwr{margin-left:0}.status-header-avatar.svelte-1pn0mwr{margin-left:0}}",(0,s.R3)(document.head,e)),this._fragment=function(t,e){var a,n,r,o,l,m,f,p,g,v,b,y,w={account:e.account,size:"extra-small"},_=new i.Z({root:t.root,store:t.store,data:w});function S(t){return t.emojiReaction?d:c}var I=S(e),x=I(t,e);function T(t){return"pinned"===t.timelineType?h:"poll"!==t.notificationType?u:void 0}var $=T(e),A=$&&$(t,e);return{c(){a=(0,s.az)("div"),n=(0,s.az)("div"),r=(0,s.az)("a"),_._fragment.c(),m=(0,s.rw)("\n  "),x.c(),f=(0,s.rw)("\n  "),p=(0,s.az)("div"),A&&A.c(),g=(0,s.rw)("\n\n    "),v=(0,s.az)("span"),b=(0,s.rw)(e.actionText),this.h()},l(t){a=(0,s.d$)(t,"DIV",{class:!0},!1);var i=(0,s.pI)(a);n=(0,s.d$)(i,"DIV",{class:!0},!1);var o=(0,s.pI)(n);r=(0,s.d$)(o,"A",{id:!0,href:!0,rel:!0,"aria-hidden":!0,tabindex:!0},!1);var l=(0,s.pI)(r);_._fragment.l(l),l.forEach(s.r2),o.forEach(s.r2),m=(0,s.M4)(i,"\n  "),x.l(i),f=(0,s.M4)(i,"\n  "),p=(0,s.d$)(i,"DIV",{class:!0},!1);var c=(0,s.pI)(p);A&&A.l(c),g=(0,s.M4)(c,"\n\n    "),v=(0,s.d$)(c,"SPAN",{class:!0},!1);var d=(0,s.pI)(v);b=(0,s.M4)(d,e.actionText),d.forEach(s.r2),c.forEach(s.r2),i.forEach(s.r2),this.h()},h(){r.id=e.avatarElementId,r.href=o="/accounts/"+e.accountId,r.rel="prefetch",(0,s.P$)(r,"aria-hidden","true"),r.tabIndex="-1",n.className=l="status-header-avatar "+("pinned"===e.timelineType||"poll"===e.notificationType?"hidden":"")+" svelte-1pn0mwr",v.className="status-header-action svelte-1pn0mwr",p.className="status-header-content svelte-1pn0mwr",a.className=y="status-header "+(e.isStatusInNotification?"status-in-notification":"")+" "+("follow"===e.notificationType?"header-is-follow":"")+" svelte-1pn0mwr"},m(t,e){(0,s.$T)(t,a,e),(0,s.R3)(a,n),(0,s.R3)(n,r),_._mount(r,null),(0,s.R3)(a,m),x.m(a,null),(0,s.R3)(a,f),(0,s.R3)(a,p),A&&A.m(p,null),(0,s.R3)(p,g),(0,s.R3)(p,v),(0,s.R3)(v,b)},p(e,i){var c={};e.account&&(c.account=i.account),_._set(c),e.avatarElementId&&(r.id=i.avatarElementId),e.accountId&&o!==(o="/accounts/"+i.accountId)&&(r.href=o),(e.timelineType||e.notificationType)&&l!==(l="status-header-avatar "+("pinned"===i.timelineType||"poll"===i.notificationType?"hidden":"")+" svelte-1pn0mwr")&&(n.className=l),I===(I=S(i))&&x?x.p(e,i):(x.d(1),(x=I(t,i)).c(),x.m(a,f)),$===($=T(i))&&A?A.p(e,i):(A&&A.d(1),(A=$&&$(t,i))&&A.c(),A&&A.m(p,g)),e.actionText&&(0,s.a_)(b,i.actionText),(e.isStatusInNotification||e.notificationType)&&y!==(y="status-header "+(i.isStatusInNotification?"status-in-notification":"")+" "+("follow"===i.notificationType?"header-is-follow":"")+" svelte-1pn0mwr")&&(a.className=y)},d(t){t&&(0,s.r2)(a),_.destroy(),x.d(),A&&A.d()}}}(this,this._state),t.target){var a=(0,s.pI)(t.target);t.hydrate?this._fragment.l(a):this._fragment.c(),a.forEach(s.r2),this._mount(t.target,t.anchor),(0,s.yl)(this)}}(0,s.f0)(m.prototype,s.uS),m.prototype._recompute=function(t,e){t.uuid&&(this._differs(e.authorElementId,e.authorElementId=function({uuid:t}){return`status-header-author-${t}`}(e))&&(t.authorElementId=!0),this._differs(e.avatarElementId,e.avatarElementId=function({uuid:t}){return`status-header-avatar-${t}`}(e))&&(t.avatarElementId=!0)),t.notification&&this._differs(e.notificationType,e.notificationType=function({notification:t}){return t&&t.type}(e))&&(t.notificationType=!0),(t.notificationType||t.status||t.timelineType)&&this._differs(e.icon,e.icon=function({notificationType:t,status:e,timelineType:a}){return"pinned"===a?"#fa-thumb-tack":"reblog"===t||e&&e.reblog?"#fa-retweet":"follow"===t?"#fa-user-plus":"poll"===t?"#fa-bar-chart":"status"===t?"#fa-comment":"admin.sign_up"===t?"#fa-user-plus":"update"===t?"#fa-pencil":"follow_request"===t?"#fa-hourglass":"admin.report"===t?"#fa-flag":"#fa-star"}(e))&&(t.icon=!0),(t.notificationType||t.status||t.$currentVerifyCredentials)&&this._differs(e.actionText,e.actionText=function({notificationType:t,status:e,$currentVerifyCredentials:a}){return"reblog"===t?"boosted your post":"favourite"===t?"favorited your post":"pleroma:emoji_reaction"===t||"reaction"===t?"reacted with an emoji":"admin.sign_up"===t?"signed up":"follow"===t?"followed you":"status"===t?"posted":"poll"===t?a&&e&&a.id===e.account.id?"A poll you created has ended":"A poll you voted on has ended":e&&e.reblog?"boosted":"update"===t?"edited their post":"follow_request"===t?"requested to follow you":"admin.report"===t?"filed a report":""}(e))&&(t.actionText=!0),(t.notification||t.$autoplayGifs)&&this._differs(e.emojiReaction,e.emojiReaction=function({notification:t,$autoplayGifs:e}){if(t&&("pleroma:emoji_reaction"===t.type||"reaction"===t.type)&&t.emoji){const a=t.emoji_url&&t.emoji.replace(/:/g,"");return(0,l.k)(t.emoji_url?":"+a+":":t.emoji,[{url:t.emoji_url,static_url:t.emoji_url,shortcode:a}],e,!0)}}(e))&&(t.emojiReaction=!0)};const f=m},1172:(t,e,a)=>{a.d(e,{N:()=>i});var s=a(9641);function i(t,e){const a=t.emojis;let i=t.display_name||t.username;return e&&(i=(0,s.S)(i,a)||i),i}},9216:(t,e,a)=>{a.d(e,{he:()=>u,hJ:()=>d,Mb:()=>h,r6:()=>m});var s=a(2625),i=a(4886),n=a(385);var r=a(1162),o=a(5524);async function l(t,e,a){const i=r.F.getAccount(e,t),n=(0,s.D)(e,a,t).then((t=>(r.F.setAccount(e,t),t)));try{o.h.set({currentAccountProfile:await i})}catch(l){console.error(l)}try{o.h.set({currentAccountProfile:await n})}catch(l){console.error(l)}}async function c(t,e,a){const s=r.F.getRelationship(e,t),l=async function(t,e,a){const s=`${(0,i.E)(t)}/api/v1/accounts/relationships?${(0,n.pe)({id:a})}`;return(await(0,n.U2)(s,(0,i.I)(e),{timeout:n.EH}))[0]}(e,a,t).then((t=>(r.F.setRelationship(e,t),t)));try{o.h.set({currentAccountRelationship:await s})}catch(c){console.error(c)}try{o.h.set({currentAccountRelationship:await l})}catch(c){console.error(c)}}async function d(t,e,a){await r.F.setRelationship(t,a);try{o.h.set({currentAccountRelationship:a})}catch(s){console.error(s)}}async function u(){o.h.set({currentAccountProfile:null,currentAccountRelationship:null})}async function h(t){const{currentInstance:e,accessToken:a}=o.h.get();await u(),await Promise.all([l(t,e,a),c(t,e,a)])}async function m(t){const{currentInstance:e,accessToken:a}=o.h.get();await u(),await c(t,e,a)}},3134:(t,e,a)=>{a.d(e,{k:()=>c});var s=a(5524),i=a(7031),n=a(385),r=a(4886);var o=a(1162),l=a(6633);async function c(t,e){const{currentInstance:a,accessToken:c}=s.h.get();try{e?await async function(t,e,a){const s=`${(0,r.E)(t)}/api/v1/statuses/${a}/bookmark`;return(0,n.v_)(s,null,(0,r.I)(e),{timeout:n.$Q})}(a,c,t):await async function(t,e,a){const s=`${(0,r.E)(t)}/api/v1/statuses/${a}/unbookmark`;return(0,n.v_)(s,null,(0,r.I)(e),{timeout:n.$Q})}(a,c,t),e?i.A.say("Bookmarked post"):i.A.say("Unbookmarked post"),s.h.setStatusBookmarked(a,t,e),await o.F.setStatusBookmarked(a,t,e)}catch(d){console.error(d),i.A.say(e?(0,l.A)(["Unable to bookmark: ",["error"]],{error:d.message||""}):(0,l.A)(["Unable to unbookmark: ",["error"]],{error:d.message||""}))}}},7773:(t,e,a)=>{a.d(e,{O:()=>n});var s=a(7553),i=a(5524);async function n(t){i.h.setComposeData("dialog",{text:`@${t.acct} `});(await(0,s.B)())()}},9614:(t,e,a)=>{a.d(e,{m:()=>n});var s=a(7553),i=a(5524);async function n(t){const e=(0,s.B)();i.h.setComposeData("dialog",{text:"",contentType:null,contentWarningShown:!!t.spoiler_text,contentWarning:t.spoiler_text||"",postPrivacy:t.visibility,media:null,inReplyToId:null,inReplyToHandle:null,poll:null,sensitive:!!t.sensitive,quoteId:t.id,quoteHandle:"@"+t.account.acct});(await e)()}},9279:(t,e,a)=>{a.d(e,{r:()=>m,Y:()=>h});var s=a(385),i=a(4886);var n=a(5524),r=a(7031),o=a(6633),l=a(3),c=a(7376),d=a(6745),u=a(9970);async function h(t,e,a,l){if(a.extern&&!l.externReactions)return r.A.say("Your instance doesn't allow reacting with remote custom emojis"),!1;const{online:c}=n.h.get();if(!c)return r.A.say(e?"You cannot favorite while offline":"You cannot unfavorite while offline"),!1;const{currentInstance:d,accessToken:u}=n.h.get(),h=e?async function(t,e,a,n,r){if(r.isPleroma){const r=`${(0,i.E)(t)}/api/v1/pleroma/statuses/${a}/reactions/${encodeURIComponent(n)}`;return(0,s.gz)(r,null,(0,i.I)(e),{timeout:s.$Q})}{const r=`${(0,i.E)(t)}/api/v1/statuses/${a}/react/${encodeURIComponent(n)}`;return(0,s.v_)(r,null,(0,i.I)(e),{timeout:s.$Q})}}(d,u,t,a.name,l):async function(t,e,a,n,r){if(r.isPleroma){const r=`${(0,i.E)(t)}/api/v1/pleroma/statuses/${a}/reactions/${encodeURIComponent(n)}`;return(0,s.IV)(r,(0,i.I)(e),{timeout:s.$Q})}{const r=`${(0,i.E)(t)}/api/v1/statuses/${a}/unreact/${encodeURIComponent(n)}`;return(0,s.v_)(r,null,(0,i.I)(e),{timeout:s.$Q})}}(d,u,t,a.name,l);try{return await h,!0}catch(m){return console.error(m),r.A.say(e?(0,o.A)(["Unable to favorite: ",["error"]],{error:m.message||""}):(0,o.A)(["Unable to unfavorite: ",["error"]],{error:m.message||""})),!1}}async function m(t){const{currentInstance:e,accessToken:a,currentPleromaFeatures:s}=n.h.get(),i={customEmojiReactions:!s||s.includes("custom_emoji_reactions"),externReactions:!0,isPleroma:!!s},[r]=await Promise.all([(0,l.n)(),(0,c.Mj)(e)]);r((async s=>{await h(t.id,!0,{name:s.name||s.unicode},i)&&(0,u.F)((()=>{(0,d.Nf)(e,a,t.id)}))}))}},6745:(t,e,a)=>{a.d(e,{z3:()=>C,EE:()=>k,Bb:()=>R,tr:()=>E,YU:()=>N,Nf:()=>S});var s=a(5524),i=a(9076),n=a(7031),r=a(8183),o=a(6637),l=a(3274),c=a(4285),d=a(1162),u=a(2502),h=a(4358),m=a(9109),f=a(4034),p=a(1505),g=a(9970);function v(t,e){const a=[],s=[],i=function(t,e){const a=new Map;for(const s of t)a.set(e(s),s);return a}(t,(t=>t.id)),n=function(t,e){const a=new Map;for(const s of t){const t=e(s);a.has(t)?a.get(t).push(s):a.set(t,[s])}return a}(t,(t=>t.replyId)),r=i.get(e);if(!r)return t;let c=r;do{c=i.get(c.replyId),c&&a.unshift(c)}while(c);const d=[r];for(;d.length;){const t=d.shift(),e=(n.get(t.id)||[]).sort(l.gV);Array.prototype.unshift.apply(d,e),t.id!==r.id&&s.push(t)}const u=t=>{let a=t;for(;;){if(a.accountId!==r.accountId)return!1;const t=i.get(a.replyId);if(!t)break;a=t}return a.id===e},h=[],m=[];for(const o of s)(u(o)?h:m).push(o);return(0,o.z)(a,[r],h,m)}var b=a(5889),y=a(8085);const w=t=>t.id;async function _(t,e,a){(0,b.BZ)(),await d.F.insertTimelineItems(t,e,a),e.startsWith("status/")&&a.forEach((async t=>{await(0,b.FG)({status:t}),(0,h.j)("statusUpdated",t)}))}async function S(t,e,a){const s=await(0,u.lR)(t,e,a);return await d.F.insertStatus(t,s),await(0,b.FG)({status:s}),(0,h.j)("statusUpdated",s),s}async function I(t,e,a){const s=a.split("/").slice(-1)[0],i=await d.F.getStatus(t,s);if(!i)return async function(t,e,a){const[s,i]=await Promise.all([(0,u.lR)(t,e,a),(0,u.j7)(t,e,a)]);return(0,o.z)(i.ancestors,s,i.descendants)}(t,e,s);if(!i.in_reply_to_id)return async function(t,e,a,s){const[i,n]=await Promise.all([S(t,e,s),(0,u.j7)(t,e,s)]);await d.F.insertTimelineItems(t,a,(0,o.z)(n.ancestors,i,n.descendants)),(0,p.b)(t,a,(0,o.z)(n.ancestors,n.descendants))}(t,e,a,s),[i];(0,g.F)((()=>S(t,e,s)));const n=await(0,u.j7)(t,e,s);return(0,o.z)(n.ancestors,i,n.descendants)}async function x(t,e,a){a.length,(0,r.B)("addPagedTimelineItemSummaries");const i=a.map((e=>(0,f.o)(e,t)));await async function(t,e,a){const i=s.h.getForTimeline(t,e,"timelineItemSummaries"),n=(0,c.mN)((0,o.z)(i||[],a),w);(0,c.Xy)(i,n)||s.h.setForTimeline(t,e,{timelineItemSummaries:n})}(t,e,i),(0,r.s)("addPagedTimelineItemSummaries")}async function T(t,e,a,o){(0,r.B)("fetchTimelineItems");const{lastTimelineItemId:l}=s.h.get();let c,u=!1;if(o)try{c=await async function(t,e,a,s){if(a.startsWith("status/"))return I(t,e,a);{const{items:n}=await(0,i.V)(t,e,a,s,null,m.L);return n}}(t,e,a,l),await _(t,a,c)}catch(h){console.error(h),n.A.say("Internet request failed. Showing offline content."),c=await d.F.getTimeline(t,a,l,m.L),u=!0}else c=await d.F.getTimeline(t,a,l,m.L),u=!0;return(0,r.s)("fetchTimelineItems"),{items:c,stale:u}}async function $(t,e,a,i){const n=s.h.getForTimeline(t,e,"timelineItemSummaries"),r=s.h.getForTimeline(t,e,"timelineItemSummariesAreStale"),d=(0,c.mN)((0,o.e)(n||[],a,l.gV),w);(0,c.Xy)(n,d)||s.h.setForTimeline(t,e,{timelineItemSummaries:d}),r!==i&&s.h.setForTimeline(t,e,{timelineItemSummariesAreStale:i})}async function A(){(0,r.B)("fetchTimelineItemsAndPossiblyFallBack");const{currentTimeline:t,currentInstance:e,accessToken:a,online:n}=s.h.get();if("favorites"===t||"bookmarks"===t)await async function(t,e,a){const{timelineNextPageId:n}=s.h.get(),{items:r,headers:o}=await(0,i.V)(t,e,a,n,null,m.L),l=o.get("Link"),c=y.parse(l),d=c&&c.next,u=d&&new URL(d).searchParams.get("max_id");s.h.setForTimeline(t,a,{timelineNextPageId:u}),await _(t,a,r),await x(t,a,r)}(e,a,t);else{const{items:s,stale:i}=await T(e,a,t,n);await async function(t,e,a,s){a.length,(0,r.B)("addTimelineItemSummaries");const i=a.map((e=>(0,f.o)(e,t)));$(t,e,i,s),(0,r.s)("addTimelineItemSummaries")}(e,t,s,i)}(0,r.s)("fetchTimelineItemsAndPossiblyFallBack")}async function k(){(0,r.B)("setupTimeline");const{timelineItemSummaries:t,timelineItemSummariesAreStale:e,currentTimeline:a}=s.h.get();(!t||e||a.startsWith("status/"))&&await A(),(0,r.s)("setupTimeline")}async function C(t,e){s.h.setForTimeline(t,e,{runningUpdate:!0}),await A(),s.h.setForTimeline(t,e,{runningUpdate:!1})}async function N(t,e){(0,r.B)("showMoreItemsForTimeline");let a=s.h.getForTimeline(t,e,"timelineItemSummariesToAdd")||[];a=a.sort(l.gV).reverse(),$(t,e,a,!1),s.h.setForTimeline(t,e,{timelineItemSummariesToAdd:[],shouldShowHeader:!1,showHeader:!1}),(0,r.s)("showMoreItemsForTimeline")}function R(){const{currentInstance:t,currentTimeline:e}=s.h.get();return N(t,e)}async function E(t,e){(0,r.B)("showMoreItemsForThread");const a=s.h.getForTimeline(t,e,"timelineItemSummariesToAdd"),i=s.h.getForTimeline(t,e,"timelineItemSummaries"),n=new Set(i.map((t=>t.id)));for(const s of a)n.has(s.id)||i.push(s);const o=e.split("/").slice(-1)[0],l=await v(i,o);s.h.setForTimeline(t,e,{timelineItemSummariesToAdd:[],timelineItemSummaries:l}),(0,r.s)("showMoreItemsForThread")}},9076:(t,e,a)=>{a.d(e,{V:()=>n});var s=a(385),i=a(4886);async function n(t,e,a,n,r,o){const l=function(t){switch(t){case"local":case"federated":return"timelines/public";case"bubble":return"timelines/bubble";case"home":return"timelines/home";case"notifications":case"notifications/mentions":return"notifications";case"favorites":return"favourites";case"direct":return"conversations";case"bookmarks":return"bookmarks"}if(t.startsWith("tag/"))return"timelines/tag";if(t.startsWith("account/"))return"accounts";if(t.startsWith("list/"))return"timelines/list";throw new Error(`Invalid timeline type: ${t}`)}(a);let c=`${(0,i.E)(t)}/api/v1/${l}`;a.startsWith("tag/")?c+="/"+a.split("/")[1]:a.startsWith("account/")?c+="/"+a.split("/")[1]+"/statuses":a.startsWith("list/")&&(c+="/"+a.split("/")[1]);const d={};r&&(d.since_id=r),n&&(d.max_id=n),o&&(d.limit=o),"local"===a&&(d.local=!0),a.startsWith("account/")&&(a.endsWith("media")?d.only_media=!0:d.exclude_replies=!a.endsWith("/with_replies")),"notifications/mentions"===a&&(d.exclude_types=["follow","favourite","reblog","poll","admin.sign_up","update","follow_request","admin.report","reaction","pleroma:emoji_reaction"]),c+="?"+(0,s.pe)(d);let{json:u,headers:h}=await(0,s.SM)(c,(0,i.I)(e),{timeout:s.EH});return"direct"===a&&(u=u.map((t=>t.last_status)).filter(Boolean)),{items:u,headers:h}}},2625:(t,e,a)=>{a.d(e,{D:()=>r,Q:()=>n});var s=a(385),i=a(4886);function n(t,e){const a=`${(0,i.E)(t)}/api/v1/accounts/verify_credentials`;return(0,s.U2)(a,(0,i.I)(e),{timeout:s.EH})}function r(t,e,a){const n=`${(0,i.E)(t)}/api/v1/accounts/${a}`;return(0,s.U2)(n,(0,i.I)(e),{timeout:s.EH})}},7553:(t,e,a)=>{a.d(e,{B:()=>s});const s=()=>Promise.all([a.e(2936),a.e(2470),a.e(7539),a.e(5840),a.e(4285),a.e(7080),a.e(7323),a.e(1095),a.e(5482),a.e(8547)]).then(a.bind(a,5246)).then((t=>t.default))},2177:(t,e,a)=>{a.d(e,{e:()=>s});const s=()=>Promise.all([a.e(3999),a.e(7080),a.e(4977)]).then(a.bind(a,4977)).then((t=>t.default))},9805:(t,e,a)=>{a.d(e,{Ay:()=>n,FO:()=>r,jN:()=>i});var s=a(7965);const i=`/emoji-${s.M}.json`,n=void 0,r="en-US"===s.M?"en":s.M},9109:(t,e,a)=>{a.d(e,{L:()=>s,q:()=>i});const s=20,i={home:{name:"home",label:"Home"},local:{name:"local",label:"Local"},bubble:{name:"bubble",label:"Bubble"},federated:{name:"federated",label:"Federated"}}},5067:(t,e,a)=>{a.d(e,{d:()=>i});var s=a(5818);async function i(t){if(!t)return;const e=t.querySelectorAll(".inline-emoji");e.length&&await Promise.all(Array.from(e).map((async t=>{const e=await s.XB(t.textContent);e&&e.shortcodes&&(t.title=e.shortcodes.map((t=>`:${t}:`)).join(", "))})))}},9961:(t,e,a)=>{a.d(e,{y:()=>i});const s=document.getElementById("theAriaLive");function i(t){s.textContent=t}},173:(t,e,a)=>{function s(t,e,a,s,i){return`${t}/${e}/${a}/${s||""}/${i||""}`}a.d(e,{L:()=>s})},5818:(t,e,a)=>{a.d(e,{XB:()=>c,fK:()=>l,jk:()=>d});var s=a(8289),i=a(7561),n=a(9805);let r;function o(){r||(r=new s.Z({locale:n.FO,dataSource:n.jN}))}function l(t){o(),r.customEmoji=t}async function c(t){return o(),r.getEmojiByUnicodeOrName(t)}async function d(t){o();const[e,a]=await Promise.all([r.getEmojiBySearchQuery(t),r.getPreferredSkinTone()]);return e.map((t=>function(t,e){if(!t||t.url)return t;const a={unicode:t.unicode,shortcodes:t.shortcodes};if(e>0&&t.skins){const s=t.skins.find((t=>t.tone===e));s&&(a.unicode=s.unicode)}return a}(t,a)))}i.S.addEventListener("statechange",(t=>{"frozen"===t.newState&&r&&r.close()}))},751:(t,e,a)=>{a.d(e,{K:()=>i});var s=a(247);function i(t,e,a,i){return t=t||"",t=(0,s.k)(t,e,a,i)}},3274:(t,e,a)=>{a.d(e,{Bu:()=>o,gV:()=>d,hC:()=>c});var s=a(85);const i=48,n=122,r=30;function o(t,e){return(0,s.Sk)(t,e,"0")}function l(t){return o(t,r)}function c(t){const e=l(t);let a="";for(let s=0;s<e.length;s++){const t=e.charCodeAt(s),r=i+n-t;a+=String.fromCharCode(r)}return a}function d(t,e){const a=l(t.id),s=l(e.id);return a<s?-1:a===s?0:1}}}]);
//# sourceMappingURL=4325.2819f2e60e9b9606bbfe.4325.js.map