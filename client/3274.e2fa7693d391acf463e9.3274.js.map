{"version":3,"file":"3274.e2fa7693d391acf463e9.3274.js","mappings":"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","sources":["webpack:///./node_modules/emoji-picker-element/picker.js"],"sourcesContent":["import Database from './database.js';\n\nfunction noop() { }\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\nconst outroing = new Set();\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map((parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        mount_component(component, options.target, undefined, undefined);\n        flush();\n    }\n    set_current_component(parent_component);\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\n// via https://unpkg.com/browse/emojibase-data@6.0.0/meta/groups.json\nconst allGroups = [\n  [-1, '', 'custom'],\n  [0, '', 'smileys-emotion'],\n  [1, '', 'people-body'],\n  [3, '', 'animals-nature'],\n  [4, '', 'food-drink'],\n  [5, '', 'travel-places'],\n  [6, '', 'activities'],\n  [7, '', 'objects'],\n  [8, '', 'symbols'],\n  [9, '', 'flags']\n].map(([id, emoji, name]) => ({ id, emoji, name }));\n\nconst groups = allGroups.slice(1);\nconst customGroup = allGroups[0];\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\nconst NUM_SKIN_TONES = 6;\n\n/* istanbul ignore next */\nconst rIC = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n\n// check for ZWJ (zero width joiner) character\nfunction hasZwj (emoji) {\n  return emoji.unicode.includes('\\u200d')\n}\n\n// Find one good representative emoji from each version to test by checking its color.\n// Ideally it should have color in the center. For some inspiration, see:\n// https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\n//\n// Note that for certain versions (12.1, 13.1), there is no point in testing them explicitly, because\n// all the emoji from this version are compound-emoji from previous versions. So they would pass a color\n// test, even in browsers that display them as double emoji. (E.g. \"face in clouds\" might render as\n// \"face without mouth\" plus \"fog\".) These emoji can only be filtered using the width test,\n// which happens in checkZwjSupport.js.\nconst versionsAndTestEmoji = {\n  '': 15,\n  '': 14,\n  '': 13.1, // smiling face with tear, technically from v13 but see note above\n  '': 12.1, // sari, technically from v12 but see note above\n  '': 11,\n  '': 5,\n  '': 4,\n  '': 3,\n  '': 2,\n  '': 1,\n  '': 0.7,\n  '': 0.6\n};\n\nconst TIMEOUT_BEFORE_LOADING_MESSAGE = 1000; // 1 second\nconst DEFAULT_SKIN_TONE_EMOJI = '';\nconst DEFAULT_NUM_COLUMNS = 8;\n\n// Based on https://fivethirtyeight.com/features/the-100-most-used-emojis/ and\n// https://blog.emojipedia.org/facebook-reveals-most-and-least-used-emojis/ with\n// a bit of my own curation. (E.g. avoid the \"OK\" gesture because of connotations:\n// https://emojipedia.org/ok-hand/)\nconst MOST_COMMONLY_USED_EMOJI = [\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  ''\n];\n\n// It's important to list Twemoji Mozilla before everything else, because Mozilla bundles their\n// own font on some platforms (notably Windows and Linux as of this writing). Typically, Mozilla\n// updates faster than the underlying OS, and we don't want to render older emoji in one font and\n// newer emoji in another font:\n// https://github.com/nolanlawson/emoji-picker-element/pull/268#issuecomment-1073347283\nconst FONT_FAMILY = '\"Twemoji Mozilla\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",' +\n  '\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\n\n/* istanbul ignore next */\nconst DEFAULT_CATEGORY_SORTING = (a, b) => a < b ? -1 : a > b ? 1 : 0;\n\n// Test if an emoji is supported by rendering it to canvas and checking that the color is not black\n// See https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\n// and https://www.npmjs.com/package/if-emoji for inspiration\n// This implementation is largely borrowed from if-emoji, adding the font-family\n\n\nconst getTextFeature = (text, color) => {\n  const canvas = document.createElement('canvas');\n  canvas.width = canvas.height = 1;\n\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'top';\n  ctx.font = `100px ${FONT_FAMILY}`;\n  ctx.fillStyle = color;\n  ctx.scale(0.01, 0.01);\n  ctx.fillText(text, 0, 0);\n\n  return ctx.getImageData(0, 0, 1, 1).data\n};\n\nconst compareFeatures = (feature1, feature2) => {\n  const feature1Str = [...feature1].join(',');\n  const feature2Str = [...feature2].join(',');\n  // This is RGBA, so for 0,0,0, we are checking that the first RGB is not all zeroes.\n  // Most of the time when unsupported this is 0,0,0,0, but on Chrome on Mac it is\n  // 0,0,0,61 - there is a transparency here.\n  return feature1Str === feature2Str && !feature1Str.startsWith('0,0,0,')\n};\n\nfunction testColorEmojiSupported (text) {\n  // Render white and black and then compare them to each other and ensure they're the same\n  // color, and neither one is black. This shows that the emoji was rendered in color.\n  const feature1 = getTextFeature(text, '#000');\n  const feature2 = getTextFeature(text, '#fff');\n  return feature1 && feature2 && compareFeatures(feature1, feature2)\n}\n\n// rather than check every emoji ever, which would be expensive, just check some representatives from the\n// different emoji releases to determine what the font supports\n\nfunction determineEmojiSupportLevel () {\n  const entries = Object.entries(versionsAndTestEmoji);\n  try {\n    // start with latest emoji and work backwards\n    for (const [emoji, version] of entries) {\n      if (testColorEmojiSupported(emoji)) {\n        return version\n      }\n    }\n  } catch (e) { // canvas error\n  } finally {\n  }\n  // In case of an error, be generous and just assume all emoji are supported (e.g. for canvas errors\n  // due to anti-fingerprinting add-ons). Better to show some gray boxes than nothing at all.\n  return entries[0][1] // first one in the list is the most recent version\n}\n\n// Check which emojis we know for sure aren't supported, based on Unicode version level\nlet promise;\nconst detectEmojiSupportLevel = () => {\n  if (!promise) {\n    // Delay so it can run while the IDB database is being created by the browser (on another thread).\n    // This helps especially with first load  we want to start pre-populating the database on the main thread,\n    // and then wait for IDB to commit everything, and while waiting we run this check.\n    promise = new Promise(resolve => (\n      rIC(() => (\n        resolve(determineEmojiSupportLevel()) // delay so ideally this can run while IDB is first populating\n      ))\n    ));\n  }\n  return promise\n};\n// determine which emojis containing ZWJ (zero width joiner) characters\n// are supported (rendered as one glyph) rather than unsupported (rendered as two or more glyphs)\nconst supportedZwjEmojis = new Map();\n\nconst VARIATION_SELECTOR = '\\ufe0f';\nconst SKINTONE_MODIFIER = '\\ud83c';\nconst ZWJ = '\\u200d';\nconst LIGHT_SKIN_TONE = 0x1F3FB;\nconst LIGHT_SKIN_TONE_MODIFIER = 0xdffb;\n\n// TODO: this is a naive implementation, we can improve it later\n// It's only used for the skintone picker, so as long as people don't customize with\n// really exotic emoji then it should work fine\nfunction applySkinTone (str, skinTone) {\n  if (skinTone === 0) {\n    return str\n  }\n  const zwjIndex = str.indexOf(ZWJ);\n  if (zwjIndex !== -1) {\n    return str.substring(0, zwjIndex) +\n      String.fromCodePoint(LIGHT_SKIN_TONE + skinTone - 1) +\n      str.substring(zwjIndex)\n  }\n  if (str.endsWith(VARIATION_SELECTOR)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str + SKINTONE_MODIFIER + String.fromCodePoint(LIGHT_SKIN_TONE_MODIFIER + skinTone - 1)\n}\n\nfunction halt (event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n// Implementation left/right or up/down navigation, circling back when you\n// reach the start/end of the list\nfunction incrementOrDecrement (decrement, val, arr) {\n  val += (decrement ? -1 : 1);\n  if (val < 0) {\n    val = arr.length - 1;\n  } else if (val >= arr.length) {\n    val = 0;\n  }\n  return val\n}\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\n// We don't need all the data on every emoji, and there are specific things we need\n// for the UI, so build a \"view model\" from the emoji object we got from the database\n\nfunction summarizeEmojisForUI (emojis, emojiSupportLevel) {\n  const toSimpleSkinsMap = skins => {\n    const res = {};\n    for (const skin of skins) {\n      // ignore arrays like [1, 2] with multiple skin tones\n      // also ignore variants that are in an unsupported emoji version\n      // (these do exist - variants from a different version than their base emoji)\n      if (typeof skin.tone === 'number' && skin.version <= emojiSupportLevel) {\n        res[skin.tone] = skin.unicode;\n      }\n    }\n    return res\n  };\n\n  return emojis.map(({ unicode, skins, shortcodes, url, name, category }) => ({\n    unicode,\n    name,\n    shortcodes,\n    url,\n    category,\n    id: unicode || name,\n    skins: skins && toSimpleSkinsMap(skins),\n    title: (shortcodes || []).join(', ')\n  }))\n}\n\n// import rAF from one place so that the bundle size is a bit smaller\nconst rAF = requestAnimationFrame;\n\n// Svelte action to calculate the width of an element and auto-update\n// using ResizeObserver. If ResizeObserver is unsupported, we just use rAF once\n// and don't bother to update.\n\n\nlet resizeObserverSupported = typeof ResizeObserver === 'function';\n\nfunction calculateWidth (node, onUpdate) {\n  let resizeObserver;\n  if (resizeObserverSupported) {\n    resizeObserver = new ResizeObserver(entries => (\n      onUpdate(entries[0].contentRect.width)\n    ));\n    resizeObserver.observe(node);\n  } else { // just set the width once, don't bother trying to track it\n    rAF(() => (\n      onUpdate(node.getBoundingClientRect().width)\n    ));\n  }\n\n  // cleanup function (called on destroy)\n  return {\n    destroy () {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }\n}\n\n// get the width of the text inside of a DOM node, via https://stackoverflow.com/a/59525891/680742\nfunction calculateTextWidth (node) {\n  /* istanbul ignore else */\n  {\n    const range = document.createRange();\n    range.selectNode(node.firstChild);\n    return range.getBoundingClientRect().width\n  }\n}\n\nlet baselineEmojiWidth;\n\nfunction checkZwjSupport (zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n  for (const emoji of zwjEmojisToCheck) {\n    const domNode = emojiToDomNode(emoji);\n    const emojiWidth = calculateTextWidth(domNode);\n    if (typeof baselineEmojiWidth === 'undefined') { // calculate the baseline emoji width only once\n      baselineEmojiWidth = calculateTextWidth(baselineEmoji);\n    }\n    // On Windows, some supported emoji are ~50% bigger than the baseline emoji, but what we really want to guard\n    // against are the ones that are 2x the size, because those are truly broken (person with red hair = person with\n    // floating red wig, black cat = cat with black square, polar bear = bear with snowflake, etc.)\n    // So here we set the threshold at 1.8 times the size of the baseline emoji.\n    const supported = emojiWidth / 1.8 < baselineEmojiWidth;\n    supportedZwjEmojis.set(emoji.unicode, supported);\n  }\n}\n\n// Measure after style/layout are complete\n// See https://github.com/andrewiggins/afterframe\n\n\nconst requestPostAnimationFrame = callback => {\n  rAF(() => {\n    setTimeout(callback);\n  });\n};\n\n// like lodash's uniq\n\nfunction uniq (arr) {\n  return uniqBy(arr, _ => _)\n}\n\n// Note we put this in its own function outside Picker.js to avoid Svelte doing an invalidation on the \"setter\" here.\n// At best the invalidation is useless, at worst it can cause infinite loops:\n// https://github.com/nolanlawson/emoji-picker-element/pull/180\n// https://github.com/sveltejs/svelte/issues/6521\n// Also note tabpanelElement can be null if the element is disconnected immediately after connected\nfunction resetScrollTopIfPossible (element) {\n  if (element) {\n    element.scrollTop = 0;\n  }\n}\n\n/* src/picker/components/Picker/Picker.svelte generated by Svelte v3.59.1 */\n\nconst { Map: Map_1 } = globals;\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[64] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[67] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[64] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[70] = list[i];\n\treturn child_ctx;\n}\n\nfunction get_each_context_4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[73] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\n// (50:38) {#each skinTones as skinTone, i (skinTone)}\nfunction create_each_block_4(key_1, ctx) {\n\tlet div;\n\tlet t_value = /*skinTone*/ ctx[73] + \"\";\n\tlet t;\n\tlet div_id_value;\n\tlet div_class_value;\n\tlet div_aria_selected_value;\n\tlet div_title_value;\n\tlet div_aria_label_value;\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"id\", div_id_value = \"skintone-\" + /*i*/ ctx[66]);\n\n\t\t\tattr(div, \"class\", div_class_value = \"emoji \" + (/*i*/ ctx[66] === /*activeSkinTone*/ ctx[20]\n\t\t\t? 'active'\n\t\t\t: ''));\n\n\t\t\tattr(div, \"aria-selected\", div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[20]);\n\t\t\tattr(div, \"role\", \"option\");\n\t\t\tattr(div, \"title\", div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n\t\t\tattr(div, \"aria-label\", div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n\t\t\tthis.first = div;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*skinTones*/ 512 && t_value !== (t_value = /*skinTone*/ ctx[73] + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*skinTones*/ 512 && div_id_value !== (div_id_value = \"skintone-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div, \"id\", div_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_class_value !== (div_class_value = \"emoji \" + (/*i*/ ctx[66] === /*activeSkinTone*/ ctx[20]\n\t\t\t? 'active'\n\t\t\t: ''))) {\n\t\t\t\tattr(div, \"class\", div_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_aria_selected_value !== (div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[20])) {\n\t\t\t\tattr(div, \"aria-selected\", div_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 513 && div_title_value !== (div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) {\n\t\t\t\tattr(div, \"title\", div_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 513 && div_aria_label_value !== (div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) {\n\t\t\t\tattr(div, \"aria-label\", div_aria_label_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\n// (59:33) {#each groups as group (group.id)}\nfunction create_each_block_3(key_1, ctx) {\n\tlet button;\n\tlet div;\n\tlet t_value = /*group*/ ctx[70].emoji + \"\";\n\tlet t;\n\tlet button_aria_controls_value;\n\tlet button_aria_label_value;\n\tlet button_aria_selected_value;\n\tlet button_title_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[50](/*group*/ ctx[70]);\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"nav-emoji emoji\");\n\t\t\tattr(button, \"role\", \"tab\");\n\t\t\tattr(button, \"class\", \"nav-button\");\n\t\t\tattr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id);\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[70].id);\n\t\t\tattr(button, \"title\", button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*groups*/ 4096 && t_value !== (t_value = /*group*/ ctx[70].emoji + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*groups*/ 4096 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id)) {\n\t\t\t\tattr(button, \"aria-controls\", button_aria_controls_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4097 && button_aria_label_value !== (button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup, groups*/ 12304 && button_aria_selected_value !== (button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[70].id)) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4097 && button_title_value !== (button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (100:100) {:else}\nfunction create_else_block_1(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (!src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && !src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (100:40) {#if emoji.unicode}\nfunction create_if_block_1(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (95:53) {#each emojiWithCategory.emojis as emoji, i (emoji.id)}\nfunction create_each_block_2(key_1, ctx) {\n\tlet button;\n\tlet button_role_value;\n\tlet button_aria_selected_value;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_class_value;\n\tlet button_id_value;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[64].unicode) return create_if_block_1;\n\t\treturn create_else_block_1;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", button_role_value = /*searchMode*/ ctx[4] ? 'option' : 'menuitem');\n\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[5]\n\t\t\t: '');\n\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n\n\t\t\tattr(button, \"class\", button_class_value = \"emoji \" + (/*searchMode*/ ctx[4] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[5]\n\t\t\t? 'active'\n\t\t\t: ''));\n\n\t\t\tattr(button, \"id\", button_id_value = \"emo-\" + /*emoji*/ ctx[64].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && button_role_value !== (button_role_value = /*searchMode*/ ctx[4] ? 'option' : 'menuitem')) {\n\t\t\t\tattr(button, \"role\", button_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_aria_selected_value !== (button_aria_selected_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[5]\n\t\t\t: '')) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_class_value !== (button_class_value = \"emoji \" + (/*searchMode*/ ctx[4] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[5]\n\t\t\t? 'active'\n\t\t\t: ''))) {\n\t\t\t\tattr(button, \"class\", button_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_id_value !== (button_id_value = \"emo-\" + /*emoji*/ ctx[64].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\n// (76:36) {#each currentEmojisWithCategories as emojiWithCategory, i (emojiWithCategory.category)}\nfunction create_each_block_1(key_1, ctx) {\n\tlet div0;\n\n\tlet t_value = (/*searchMode*/ ctx[4]\n\t? /*i18n*/ ctx[0].searchResultsLabel\n\t: /*emojiWithCategory*/ ctx[67].category\n\t\t? /*emojiWithCategory*/ ctx[67].category\n\t\t: /*currentEmojisWithCategories*/ ctx[15].length > 1\n\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\";\n\n\tlet t;\n\tlet div0_id_value;\n\tlet div0_class_value;\n\tlet div1;\n\tlet each_blocks = [];\n\tlet each_1_lookup = new Map_1();\n\tlet div1_role_value;\n\tlet div1_aria_labelledby_value;\n\tlet div1_id_value;\n\tlet each_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n\tconst get_key = ctx => /*emoji*/ ctx[64].id;\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\tlet child_ctx = get_each_context_2(ctx, each_value_2, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach_1_lookup.set(key, each_blocks[i] = create_each_block_2(key, child_ctx));\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tdiv1 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div0, \"id\", div0_id_value = \"menu-label-\" + /*i*/ ctx[66]);\n\n\t\t\tattr(div0, \"class\", div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === ''\n\t\t\t? 'gone'\n\t\t\t: ''));\n\n\t\t\tattr(div0, \"aria-hidden\", \"true\");\n\t\t\tattr(div1, \"class\", \"emoji-menu\");\n\t\t\tattr(div1, \"role\", div1_role_value = /*searchMode*/ ctx[4] ? 'listbox' : 'menu');\n\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66]);\n\t\t\tattr(div1, \"id\", div1_id_value = /*searchMode*/ ctx[4] ? 'search-results' : '');\n\t\t\tthis.first = div0;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div0, anchor);\n\t\t\tappend(div0, t);\n\t\t\tinsert(target, div1, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\teach_blocks[i].m(div1, null);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentEmojisWithCategories, currentGroup*/ 40977 && t_value !== (t_value = (/*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*emojiWithCategory*/ ctx[67].category\n\t\t\t\t? /*emojiWithCategory*/ ctx[67].category\n\t\t\t\t: /*currentEmojisWithCategories*/ ctx[15].length > 1\n\t\t\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_id_value !== (div0_id_value = \"menu-label-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div0, \"id\", div0_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_class_value !== (div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === ''\n\t\t\t? 'gone'\n\t\t\t: ''))) {\n\t\t\t\tattr(div0, \"class\", div0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin*/ 402686256) {\n\t\t\t\teach_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, destroy_block, create_each_block_2, null, get_each_context_2);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div1_role_value !== (div1_role_value = /*searchMode*/ ctx[4] ? 'listbox' : 'menu')) {\n\t\t\t\tattr(div1, \"role\", div1_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div1_id_value !== (div1_id_value = /*searchMode*/ ctx[4] ? 'search-results' : '')) {\n\t\t\t\tattr(div1, \"id\", div1_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div0);\n\t\t\tif (detaching) detach(div1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (109:94) {:else}\nfunction create_else_block(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (!src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && !src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (109:34) {#if emoji.unicode}\nfunction create_if_block(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (105:102) {#each currentFavorites as emoji, i (emoji.id)}\nfunction create_each_block(key_1, ctx) {\n\tlet button;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_id_value;\n\n\tfunction select_block_type_1(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[64].unicode) return create_if_block;\n\t\treturn create_else_block;\n\t}\n\n\tlet current_block_type = select_block_type_1(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", \"menuitem\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n\t\t\tattr(button, \"class\", \"emoji\");\n\t\t\tattr(button, \"id\", button_id_value = \"fav-\" + /*emoji*/ ctx[64].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && button_id_value !== (button_id_value = \"fav-\" + /*emoji*/ ctx[64].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet section;\n\tlet div0;\n\tlet div4;\n\tlet div1;\n\tlet input;\n\tlet input_placeholder_value;\n\tlet input_aria_expanded_value;\n\tlet input_aria_activedescendant_value;\n\tlet label;\n\tlet t0_value = /*i18n*/ ctx[0].searchLabel + \"\";\n\tlet t0;\n\tlet span0;\n\tlet t1_value = /*i18n*/ ctx[0].searchDescription + \"\";\n\tlet t1;\n\tlet div2;\n\tlet button0;\n\tlet t2;\n\tlet button0_class_value;\n\tlet div2_class_value;\n\tlet span1;\n\tlet t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\";\n\tlet t3;\n\tlet div3;\n\tlet each_blocks_3 = [];\n\tlet each0_lookup = new Map_1();\n\tlet div3_class_value;\n\tlet div3_aria_label_value;\n\tlet div3_aria_activedescendant_value;\n\tlet div3_aria_hidden_value;\n\tlet div5;\n\tlet each_blocks_2 = [];\n\tlet each1_lookup = new Map_1();\n\tlet div5_aria_label_value;\n\tlet div7;\n\tlet div6;\n\tlet div8;\n\tlet t4;\n\tlet div8_class_value;\n\tlet div10;\n\tlet div9;\n\tlet each_blocks_1 = [];\n\tlet each2_lookup = new Map_1();\n\tlet div10_class_value;\n\tlet div10_role_value;\n\tlet div10_aria_label_value;\n\tlet div10_id_value;\n\tlet div11;\n\tlet each_blocks = [];\n\tlet each3_lookup = new Map_1();\n\tlet div11_class_value;\n\tlet div11_aria_label_value;\n\tlet button1;\n\tlet section_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_4 = /*skinTones*/ ctx[9];\n\tconst get_key = ctx => /*skinTone*/ ctx[73];\n\n\tfor (let i = 0; i < each_value_4.length; i += 1) {\n\t\tlet child_ctx = get_each_context_4(ctx, each_value_4, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach0_lookup.set(key, each_blocks_3[i] = create_each_block_4(key, child_ctx));\n\t}\n\n\tlet each_value_3 = /*groups*/ ctx[12];\n\tconst get_key_1 = ctx => /*group*/ ctx[70].id;\n\n\tfor (let i = 0; i < each_value_3.length; i += 1) {\n\t\tlet child_ctx = get_each_context_3(ctx, each_value_3, i);\n\t\tlet key = get_key_1(child_ctx);\n\t\teach1_lookup.set(key, each_blocks_2[i] = create_each_block_3(key, child_ctx));\n\t}\n\n\tlet each_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n\tconst get_key_2 = ctx => /*emojiWithCategory*/ ctx[67].category;\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\tlet child_ctx = get_each_context_1(ctx, each_value_1, i);\n\t\tlet key = get_key_2(child_ctx);\n\t\teach2_lookup.set(key, each_blocks_1[i] = create_each_block_1(key, child_ctx));\n\t}\n\n\tlet each_value = /*currentFavorites*/ ctx[10];\n\tconst get_key_3 = ctx => /*emoji*/ ctx[64].id;\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\tlet child_ctx = get_each_context(ctx, each_value, i);\n\t\tlet key = get_key_3(child_ctx);\n\t\teach3_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv4 = element(\"div\");\n\t\t\tdiv1 = element(\"div\");\n\t\t\tinput = element(\"input\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tspan0 = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tdiv2 = element(\"div\");\n\t\t\tbutton0 = element(\"button\");\n\t\t\tt2 = text(/*skinToneButtonText*/ ctx[21]);\n\t\t\tspan1 = element(\"span\");\n\t\t\tt3 = text(t3_value);\n\t\t\tdiv3 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].c();\n\t\t\t}\n\n\t\t\tdiv5 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tdiv7 = element(\"div\");\n\t\t\tdiv6 = element(\"div\");\n\t\t\tdiv8 = element(\"div\");\n\t\t\tt4 = text(/*message*/ ctx[18]);\n\t\t\tdiv10 = element(\"div\");\n\t\t\tdiv9 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tdiv11 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tbutton1 = element(\"button\");\n\t\t\tbutton1.textContent = \"\";\n\t\t\tattr(div0, \"class\", \"pad-top\");\n\t\t\tattr(input, \"id\", \"search\");\n\t\t\tattr(input, \"class\", \"search\");\n\t\t\tattr(input, \"type\", \"search\");\n\t\t\tattr(input, \"role\", \"combobox\");\n\t\t\tattr(input, \"enterkeyhint\", \"search\");\n\t\t\tattr(input, \"placeholder\", input_placeholder_value = /*i18n*/ ctx[0].searchLabel);\n\t\t\tattr(input, \"autocapitalize\", \"none\");\n\t\t\tattr(input, \"autocomplete\", \"off\");\n\t\t\tattr(input, \"spellcheck\", \"true\");\n\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value = !!(/*searchMode*/ ctx[4] && /*currentEmojis*/ ctx[1].length));\n\t\t\tattr(input, \"aria-controls\", \"search-results\");\n\t\t\tattr(input, \"aria-describedby\", \"search-description\");\n\t\t\tattr(input, \"aria-autocomplete\", \"list\");\n\n\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[26]}`\n\t\t\t: '');\n\n\t\t\tattr(label, \"class\", \"sr-only\");\n\t\t\tattr(label, \"for\", \"search\");\n\t\t\tattr(span0, \"id\", \"search-description\");\n\t\t\tattr(span0, \"class\", \"sr-only\");\n\t\t\tattr(div1, \"class\", \"search-wrapper\");\n\t\t\tattr(button0, \"id\", \"skintone-button\");\n\t\t\tattr(button0, \"class\", button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[6] ? 'hide-focus' : ''));\n\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\tattr(button0, \"aria-describedby\", \"skintone-description\");\n\t\t\tattr(button0, \"aria-haspopup\", \"listbox\");\n\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n\t\t\tattr(button0, \"aria-controls\", \"skintone-list\");\n\n\t\t\tattr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[19]\n\t\t\t? 'expanded'\n\t\t\t: ''));\n\n\t\t\tattr(span1, \"id\", \"skintone-description\");\n\t\t\tattr(span1, \"class\", \"sr-only\");\n\t\t\tattr(div3, \"id\", \"skintone-list\");\n\n\t\t\tattr(div3, \"class\", div3_class_value = \"skintone-list hide-focus \" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? ''\n\t\t\t: 'hidden no-animate'));\n\n\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? 0\n\t\t\t: 'calc(-1 * var(--num-skintones) * var(--total-emoji-size))') + \")\");\n\n\t\t\tattr(div3, \"role\", \"listbox\");\n\t\t\tattr(div3, \"aria-label\", div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel);\n\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20]);\n\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6]);\n\t\t\tattr(div3, \"tabindex\", \"-1\");\n\t\t\tattr(div4, \"class\", \"search-row\");\n\t\t\tattr(div5, \"class\", \"nav\");\n\t\t\tattr(div5, \"role\", \"tablist\");\n\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n\t\t\tattr(div5, \"aria-label\", div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel);\n\t\t\tattr(div6, \"class\", \"indicator\");\n\t\t\tset_style(div6, \"transform\", \"translateX(\" + (/*isRtl*/ ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n\t\t\tattr(div7, \"class\", \"indicator-wrapper\");\n\t\t\tattr(div8, \"class\", div8_class_value = \"message \" + (/*message*/ ctx[18] ? '' : 'gone'));\n\t\t\tattr(div8, \"role\", \"alert\");\n\t\t\tattr(div8, \"aria-live\", \"polite\");\n\n\t\t\tattr(div10, \"class\", div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18]\n\t\t\t? 'gone'\n\t\t\t: ''));\n\n\t\t\tattr(div10, \"role\", div10_role_value = /*searchMode*/ ctx[4] ? 'region' : 'tabpanel');\n\n\t\t\tattr(div10, \"aria-label\", div10_aria_label_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]);\n\n\t\t\tattr(div10, \"id\", div10_id_value = /*searchMode*/ ctx[4]\n\t\t\t? ''\n\t\t\t: `tab-${/*currentGroup*/ ctx[13].id}`);\n\n\t\t\tattr(div10, \"tabindex\", \"0\");\n\t\t\tattr(div11, \"class\", div11_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[18] ? 'gone' : ''));\n\t\t\tattr(div11, \"role\", \"menu\");\n\t\t\tattr(div11, \"aria-label\", div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel);\n\t\t\tset_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n\t\t\tattr(button1, \"aria-hidden\", \"true\");\n\t\t\tattr(button1, \"tabindex\", \"-1\");\n\t\t\tattr(button1, \"class\", \"abs-pos hidden emoji\");\n\t\t\tattr(section, \"class\", \"picker\");\n\t\t\tattr(section, \"aria-label\", section_aria_label_value = /*i18n*/ ctx[0].regionLabel);\n\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[22]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, div0);\n\t\t\tappend(section, div4);\n\t\t\tappend(div4, div1);\n\t\t\tappend(div1, input);\n\t\t\tset_input_value(input, /*rawSearchText*/ ctx[2]);\n\t\t\tappend(div1, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div1, span0);\n\t\t\tappend(span0, t1);\n\t\t\tappend(div4, div2);\n\t\t\tappend(div2, button0);\n\t\t\tappend(button0, t2);\n\t\t\tappend(div4, span1);\n\t\t\tappend(span1, t3);\n\t\t\tappend(div4, div3);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\tif (each_blocks_3[i]) {\n\t\t\t\t\teach_blocks_3[i].m(div3, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[49](div3);\n\t\t\tappend(section, div5);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\tif (each_blocks_2[i]) {\n\t\t\t\t\teach_blocks_2[i].m(div5, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tappend(section, div7);\n\t\t\tappend(div7, div6);\n\t\t\tappend(section, div8);\n\t\t\tappend(div8, t4);\n\t\t\tappend(section, div10);\n\t\t\tappend(div10, div9);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\tif (each_blocks_1[i]) {\n\t\t\t\t\teach_blocks_1[i].m(div9, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*div10_binding*/ ctx[51](div10);\n\t\t\tappend(section, div11);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\teach_blocks[i].m(div11, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tappend(section, button1);\n\t\t\t/*button1_binding*/ ctx[52](button1);\n\t\t\t/*section_binding*/ ctx[53](section);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[48]),\n\t\t\t\t\tlisten(input, \"keydown\", /*onSearchKeydown*/ ctx[30]),\n\t\t\t\t\tlisten(button0, \"click\", /*onClickSkinToneButton*/ ctx[35]),\n\t\t\t\t\tlisten(div3, \"focusout\", /*onSkinToneOptionsFocusOut*/ ctx[38]),\n\t\t\t\t\tlisten(div3, \"click\", /*onSkinToneOptionsClick*/ ctx[34]),\n\t\t\t\t\tlisten(div3, \"keydown\", /*onSkinToneOptionsKeydown*/ ctx[36]),\n\t\t\t\t\tlisten(div3, \"keyup\", /*onSkinToneOptionsKeyup*/ ctx[37]),\n\t\t\t\t\tlisten(div5, \"keydown\", /*onNavKeydown*/ ctx[32]),\n\t\t\t\t\taction_destroyer(/*calculateEmojiGridStyle*/ ctx[29].call(null, div9)),\n\t\t\t\t\tlisten(div10, \"click\", /*onEmojiClick*/ ctx[33]),\n\t\t\t\t\tlisten(div11, \"click\", /*onEmojiClick*/ ctx[33])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*i18n*/ 1 && input_placeholder_value !== (input_placeholder_value = /*i18n*/ ctx[0].searchLabel)) {\n\t\t\t\tattr(input, \"placeholder\", input_placeholder_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojis*/ 18 && input_aria_expanded_value !== (input_aria_expanded_value = !!(/*searchMode*/ ctx[4] && /*currentEmojis*/ ctx[1].length))) {\n\t\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSearchItemId*/ 67108864 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[26]}`\n\t\t\t: '')) {\n\t\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*rawSearchText*/ 4 && input.value !== /*rawSearchText*/ ctx[2]) {\n\t\t\t\tset_input_value(input, /*rawSearchText*/ ctx[2]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t0_value !== (t0_value = /*i18n*/ ctx[0].searchLabel + \"\")) set_data(t0, t0_value);\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t1_value !== (t1_value = /*i18n*/ ctx[0].searchDescription + \"\")) set_data(t1, t1_value);\n\t\t\tif (dirty[0] & /*skinToneButtonText*/ 2097152) set_data(t2, /*skinToneButtonText*/ ctx[21]);\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && button0_class_value !== (button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[6] ? 'hide-focus' : ''))) {\n\t\t\t\tattr(button0, \"class\", button0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 8388608) {\n\t\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 8388608) {\n\t\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64) {\n\t\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpandedAfterAnimation*/ 524288 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[19]\n\t\t\t? 'expanded'\n\t\t\t: ''))) {\n\t\t\t\tattr(div2, \"class\", div2_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t3_value !== (t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone, i18n*/ 1049089) {\n\t\t\t\teach_value_4 = /*skinTones*/ ctx[9];\n\t\t\t\teach_blocks_3 = update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx, each_value_4, each0_lookup, div3, destroy_block, create_each_block_4, null, get_each_context_4);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_class_value !== (div3_class_value = \"skintone-list hide-focus \" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? ''\n\t\t\t: 'hidden no-animate'))) {\n\t\t\t\tattr(div3, \"class\", div3_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64) {\n\t\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t\t? 0\n\t\t\t\t: 'calc(-1 * var(--num-skintones) * var(--total-emoji-size))') + \")\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div3_aria_label_value !== (div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel)) {\n\t\t\t\tattr(div3, \"aria-label\", div3_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSkinTone*/ 1048576 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20])) {\n\t\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_aria_hidden_value !== (div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6])) {\n\t\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups, i18n, searchMode, currentGroup*/ 12305 | dirty[1] & /*onNavClick*/ 1) {\n\t\t\t\teach_value_3 = /*groups*/ ctx[12];\n\t\t\t\teach_blocks_2 = update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx, each_value_3, each1_lookup, div5, destroy_block, create_each_block_3, null, get_each_context_3);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups*/ 4096) {\n\t\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div5_aria_label_value !== (div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel)) {\n\t\t\t\tattr(div5, \"aria-label\", div5_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*isRtl, currentGroupIndex*/ 16779264) {\n\t\t\t\tset_style(div6, \"transform\", \"translateX(\" + (/*isRtl*/ ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 262144) set_data(t4, /*message*/ ctx[18]);\n\n\t\t\tif (dirty[0] & /*message*/ 262144 && div8_class_value !== (div8_class_value = \"message \" + (/*message*/ ctx[18] ? '' : 'gone'))) {\n\t\t\t\tattr(div8, \"class\", div8_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin, i18n, currentGroup*/ 402694449) {\n\t\t\t\teach_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n\t\t\t\teach_blocks_1 = update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx, each_value_1, each2_lookup, div9, destroy_block, create_each_block_1, null, get_each_context_1);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*databaseLoaded, message*/ 278528 && div10_class_value !== (div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18]\n\t\t\t? 'gone'\n\t\t\t: ''))) {\n\t\t\t\tattr(div10, \"class\", div10_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div10_role_value !== (div10_role_value = /*searchMode*/ ctx[4] ? 'region' : 'tabpanel')) {\n\t\t\t\tattr(div10, \"role\", div10_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentGroup*/ 8209 && div10_aria_label_value !== (div10_aria_label_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name])) {\n\t\t\t\tattr(div10, \"aria-label\", div10_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup*/ 8208 && div10_id_value !== (div10_id_value = /*searchMode*/ ctx[4]\n\t\t\t? ''\n\t\t\t: `tab-${/*currentGroup*/ ctx[13].id}`)) {\n\t\t\t\tattr(div10, \"id\", div10_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*labelWithSkin, currentFavorites, currentSkinTone, unicodeWithSkin*/ 402654464) {\n\t\t\t\teach_value = /*currentFavorites*/ ctx[10];\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx, each_value, each3_lookup, div11, destroy_block, create_each_block, null, get_each_context);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 262144 && div11_class_value !== (div11_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[18] ? 'gone' : ''))) {\n\t\t\t\tattr(div11, \"class\", div11_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div11_aria_label_value !== (div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel)) {\n\t\t\t\tattr(div11, \"aria-label\", div11_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*scrollbarWidth*/ 33554432) {\n\t\t\t\tset_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && section_aria_label_value !== (section_aria_label_value = /*i18n*/ ctx[0].regionLabel)) {\n\t\t\t\tattr(section, \"aria-label\", section_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*pickerStyle*/ 4194304) {\n\t\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[22]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].d();\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[49](null);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].d();\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].d();\n\t\t\t}\n\n\t\t\t/*div10_binding*/ ctx[51](null);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\t/*button1_binding*/ ctx[52](null);\n\t\t\t/*section_binding*/ ctx[53](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { skinToneEmoji } = $$props;\n\tlet { i18n } = $$props;\n\tlet { database } = $$props;\n\tlet { customEmoji } = $$props;\n\tlet { customCategorySorting } = $$props;\n\tlet { emojiVersion } = $$props;\n\n\t// private\n\tlet initialLoad = true;\n\n\tlet currentEmojis = [];\n\tlet currentEmojisWithCategories = []; // eslint-disable-line no-unused-vars\n\tlet rawSearchText = '';\n\tlet searchText = '';\n\tlet rootElement;\n\tlet baselineEmoji;\n\tlet tabpanelElement;\n\tlet searchMode = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItem = -1;\n\tlet message; // eslint-disable-line no-unused-vars\n\tlet skinTonePickerExpanded = false;\n\tlet skinTonePickerExpandedAfterAnimation = false; // eslint-disable-line no-unused-vars\n\tlet skinToneDropdown;\n\tlet currentSkinTone = 0;\n\tlet activeSkinTone = 0;\n\tlet skinToneButtonText; // eslint-disable-line no-unused-vars\n\tlet pickerStyle; // eslint-disable-line no-unused-vars\n\tlet skinToneButtonLabel = ''; // eslint-disable-line no-unused-vars\n\tlet skinTones = [];\n\tlet currentFavorites = []; // eslint-disable-line no-unused-vars\n\tlet defaultFavoriteEmojis;\n\tlet numColumns = DEFAULT_NUM_COLUMNS;\n\tlet isRtl = false; // eslint-disable-line no-unused-vars\n\tlet scrollbarWidth = 0; // eslint-disable-line no-unused-vars\n\tlet currentGroupIndex = 0;\n\tlet groups$1 = groups;\n\tlet currentGroup;\n\tlet databaseLoaded = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItemId; // eslint-disable-line no-unused-vars\n\n\t//\n\t// Utils/helpers\n\t//\n\tconst focus = id => {\n\t\trootElement.getRootNode().getElementById(id).focus();\n\t};\n\n\t// fire a custom event that crosses the shadow boundary\n\tconst fireEvent = (name, detail) => {\n\t\trootElement.dispatchEvent(new CustomEvent(name, { detail, bubbles: true, composed: true }));\n\t};\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst unicodeWithSkin = (emoji, currentSkinTone) => currentSkinTone && emoji.skins && emoji.skins[currentSkinTone] || emoji.unicode;\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst labelWithSkin = (emoji, currentSkinTone) => uniq([\n\t\temoji.name || unicodeWithSkin(emoji, currentSkinTone),\n\t\t...emoji.shortcodes || []\n\t]).join(', ');\n\n\t//\n\t// Determine the emoji support level (in requestIdleCallback)\n\t//\n\tonMount(() => {\n\t\tif (!emojiVersion) {\n\t\t\tdetectEmojiSupportLevel().then(level => {\n\t\t\t\t// Can't actually test emoji support in Jest/JSDom, emoji never render in color in Cairo\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (!level) {\n\t\t\t\t\t$$invalidate(18, message = i18n.emojiUnsupportedMessage);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\t//\n\t// Calculate the width of the emoji grid. This serves two purposes:\n\t// 1) Re-calculate the --num-columns var because it may have changed\n\t// 2) Re-calculate the scrollbar width because it may have changed\n\t//   (i.e. because the number of items changed)\n\t// 3) Re-calculate whether we're in RTL mode or not.\n\t//\n\t// The benefit of doing this in one place is to align with rAF/ResizeObserver\n\t// and do all the calculations in one go. RTL vs LTR is not strictly width-related,\n\t// but since we're already reading the style here, and since it's already aligned with\n\t// the rAF loop, this is the most appropriate place to do it perf-wise.\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateEmojiGridStyle(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t/* istanbul ignore next */\n\t\t\tif (\"production\" !== 'test') {\n\t\t\t\t// jsdom throws errors for this kind of fancy stuff\n\t\t\t\t// read all the style/layout calculations we need to make\n\t\t\t\tconst style = getComputedStyle(rootElement);\n\n\t\t\t\tconst newNumColumns = parseInt(style.getPropertyValue('--num-columns'), 10);\n\t\t\t\tconst newIsRtl = style.getPropertyValue('direction') === 'rtl';\n\t\t\t\tconst parentWidth = node.parentElement.getBoundingClientRect().width;\n\t\t\t\tconst newScrollbarWidth = parentWidth - width;\n\n\t\t\t\t// write to Svelte variables\n\t\t\t\t$$invalidate(47, numColumns = newNumColumns);\n\n\t\t\t\t$$invalidate(25, scrollbarWidth = newScrollbarWidth); // eslint-disable-line no-unused-vars\n\t\t\t\t$$invalidate(24, isRtl = newIsRtl); // eslint-disable-line no-unused-vars\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n\t\tconst rootNode = rootElement.getRootNode();\n\t\tconst emojiToDomNode = emoji => rootNode.getElementById(`emo-${emoji.id}`);\n\t\tcheckZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n\n\t\t// force update\n\t\t$$invalidate(1, currentEmojis = currentEmojis); // eslint-disable-line no-self-assign\n\t}\n\n\tfunction isZwjSupported(emoji) {\n\t\treturn !emoji.unicode || !hasZwj(emoji) || supportedZwjEmojis.get(emoji.unicode);\n\t}\n\n\tasync function filterEmojisByVersion(emojis) {\n\t\tconst emojiSupportLevel = emojiVersion || await detectEmojiSupportLevel();\n\n\t\t// !version corresponds to custom emoji\n\t\treturn emojis.filter(({ version }) => !version || version <= emojiSupportLevel);\n\t}\n\n\tasync function summarizeEmojis(emojis) {\n\t\treturn summarizeEmojisForUI(emojis, emojiVersion || await detectEmojiSupportLevel());\n\t}\n\n\tasync function getEmojisByGroup(group) {\n\n\t\t// -1 is custom emoji\n\t\tconst emoji = group === -1\n\t\t? customEmoji\n\t\t: await database.getEmojiByGroup(group);\n\n\t\treturn summarizeEmojis(await filterEmojisByVersion(emoji));\n\t}\n\n\tasync function getEmojisBySearchQuery(query) {\n\t\treturn summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSearchKeydown(event) {\n\t\tif (!searchMode || !currentEmojis.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst goToNextOrPrevious = previous => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(5, activeSearchItem = incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowDown':\n\t\t\t\treturn goToNextOrPrevious(false);\n\t\t\tcase 'ArrowUp':\n\t\t\t\treturn goToNextOrPrevious(true);\n\t\t\tcase 'Enter':\n\t\t\t\tif (activeSearchItem !== -1) {\n\t\t\t\t\thalt(event);\n\t\t\t\t\treturn clickEmoji(currentEmojis[activeSearchItem].id);\n\t\t\t\t} else if (currentEmojis.length) {\n\t\t\t\t\t$$invalidate(5, activeSearchItem = 0);\n\t\t\t\t}\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on nav\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavClick(group) {\n\t\t$$invalidate(2, rawSearchText = '');\n\t\t$$invalidate(45, searchText = '');\n\t\t$$invalidate(5, activeSearchItem = -1);\n\t\t$$invalidate(11, currentGroupIndex = groups$1.findIndex(_ => _.id === group.id));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavKeydown(event) {\n\t\tconst { target, key } = event;\n\n\t\tconst doFocus = el => {\n\t\t\tif (el) {\n\t\t\t\thalt(event);\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t};\n\n\t\tswitch (key) {\n\t\t\tcase 'ArrowLeft':\n\t\t\t\treturn doFocus(target.previousSibling);\n\t\t\tcase 'ArrowRight':\n\t\t\t\treturn doFocus(target.nextSibling);\n\t\t\tcase 'Home':\n\t\t\t\treturn doFocus(target.parentElement.firstChild);\n\t\t\tcase 'End':\n\t\t\t\treturn doFocus(target.parentElement.lastChild);\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on an emoji\n\t//\n\tasync function clickEmoji(unicodeOrName) {\n\t\tconst emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n\t\tconst emojiSummary = [...currentEmojis, ...currentFavorites].find(_ => _.id === unicodeOrName);\n\t\tconst skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n\t\tawait database.incrementFavoriteEmojiCount(unicodeOrName);\n\n\t\tfireEvent('emoji-click', {\n\t\t\temoji,\n\t\t\tskinTone: currentSkinTone,\n\t\t\t...skinTonedUnicode && { unicode: skinTonedUnicode },\n\t\t\t...emojiSummary.name && { name: emojiSummary.name }\n\t\t});\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onEmojiClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!target.classList.contains('emoji')) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst id = target.id.substring(4); // replace 'emo-' or 'fav-' prefix\n\n\t\t/* no await */\n\t\tclickEmoji(id);\n\t}\n\n\t//\n\t// Handle user input on the skintone picker\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction changeSkinTone(skinTone) {\n\t\t$$invalidate(8, currentSkinTone = skinTone);\n\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\tfocus('skintone-button');\n\t\tfireEvent('skin-tone-change', { skinTone });\n\n\t\t/* no await */\n\t\tdatabase.setPreferredSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsClick(event) {\n\t\tconst { target: { id } } = event;\n\t\tconst match = id && id.match(/^skintone-(\\d)/); // skintone option format\n\n\t\tif (!match) {\n\t\t\t// not a skintone option\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst skinTone = parseInt(match[1], 10); // remove 'skintone-' prefix\n\t\tchangeSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onClickSkinToneButton(event) {\n\t\t$$invalidate(6, skinTonePickerExpanded = !skinTonePickerExpanded);\n\t\t$$invalidate(20, activeSkinTone = currentSkinTone);\n\n\t\tif (skinTonePickerExpanded) {\n\t\t\thalt(event);\n\t\t\trAF(() => focus('skintone-list'));\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeydown(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst changeActiveSkinTone = async nextSkinTone => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(20, activeSkinTone = nextSkinTone);\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(true, activeSkinTone, skinTones));\n\t\t\tcase 'ArrowDown':\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(false, activeSkinTone, skinTones));\n\t\t\tcase 'Home':\n\t\t\t\treturn changeActiveSkinTone(0);\n\t\t\tcase 'End':\n\t\t\t\treturn changeActiveSkinTone(skinTones.length - 1);\n\t\t\tcase 'Enter':\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\thalt(event);\n\t\t\t\treturn changeSkinTone(activeSkinTone);\n\t\t\tcase 'Escape':\n\t\t\t\thalt(event);\n\t\t\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\t\t\treturn focus('skintone-button');\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeyup(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (event.key) {\n\t\t\tcase ' ':\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\thalt(event);\n\t\t\t\treturn changeSkinTone(activeSkinTone);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsFocusOut(event) {\n\t\t// On blur outside of the skintone listbox, collapse the skintone picker.\n\t\tconst { relatedTarget } = event;\n\n\t\tif (!relatedTarget || relatedTarget.id !== 'skintone-list') {\n\t\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\t}\n\t}\n\n\tfunction input_input_handler() {\n\t\trawSearchText = this.value;\n\t\t$$invalidate(2, rawSearchText);\n\t}\n\n\tfunction div3_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tskinToneDropdown = $$value;\n\t\t\t$$invalidate(7, skinToneDropdown);\n\t\t});\n\t}\n\n\tconst click_handler = group => onNavClick(group);\n\n\tfunction div10_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\ttabpanelElement = $$value;\n\t\t\t$$invalidate(3, tabpanelElement);\n\t\t});\n\t}\n\n\tfunction button1_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tbaselineEmoji = $$value;\n\t\t\t$$invalidate(17, baselineEmoji);\n\t\t});\n\t}\n\n\tfunction section_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\trootElement = $$value;\n\t\t\t$$invalidate(16, rootElement);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('skinToneEmoji' in $$props) $$invalidate(40, skinToneEmoji = $$props.skinToneEmoji);\n\t\tif ('i18n' in $$props) $$invalidate(0, i18n = $$props.i18n);\n\t\tif ('database' in $$props) $$invalidate(39, database = $$props.database);\n\t\tif ('customEmoji' in $$props) $$invalidate(41, customEmoji = $$props.customEmoji);\n\t\tif ('customCategorySorting' in $$props) $$invalidate(42, customCategorySorting = $$props.customCategorySorting);\n\t\tif ('emojiVersion' in $$props) $$invalidate(43, emojiVersion = $$props.emojiVersion);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty[1] & /*customEmoji, database*/ 1280) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the customEmoji\n\t\t\t//\n\t\t\t{\n\t\t\t\tif (customEmoji && database) {\n\t\t\t\t\t$$invalidate(39, database.customEmoji = customEmoji, database);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n*/ 1 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t//\n\t\t\t// Set or update the database object\n\t\t\t//\n\t\t\t{\n\t\t\t\t// show a Loading message if it takes a long time, or show an error if there's a network/IDB error\n\t\t\t\tasync function handleDatabaseLoading() {\n\t\t\t\t\tlet showingLoadingMessage = false;\n\n\t\t\t\t\tconst timeoutHandle = setTimeout(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tshowingLoadingMessage = true;\n\t\t\t\t\t\t\t$$invalidate(18, message = i18n.loadingMessage);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTIMEOUT_BEFORE_LOADING_MESSAGE\n\t\t\t\t\t);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait database.ready();\n\t\t\t\t\t\t$$invalidate(14, databaseLoaded = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t$$invalidate(18, message = i18n.networkErrorMessage);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tclearTimeout(timeoutHandle);\n\n\t\t\t\t\t\tif (showingLoadingMessage) {\n\t\t\t\t\t\t\t// Seems safer than checking the i18n string, which may change\n\t\t\t\t\t\t\tshowingLoadingMessage = false;\n\n\t\t\t\t\t\t\t$$invalidate(18, message = ''); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (database) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\thandleDatabaseLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144 | $$self.$$.dirty[1] & /*customEmoji*/ 1024) {\n\t\t\t{\n\t\t\t\tif (customEmoji && customEmoji.length) {\n\t\t\t\t\t$$invalidate(12, groups$1 = [customGroup, ...groups]);\n\t\t\t\t} else if (groups$1 !== groups) {\n\t\t\t\t\tif (currentGroupIndex) {\n\t\t\t\t\t\t// If the current group is anything other than \"custom\" (which is first), decrement.\n\t\t\t\t\t\t// This fixes the odd case where you set customEmoji, then pick a category, then unset customEmoji\n\t\t\t\t\t\t$$invalidate(11, currentGroupIndex--, currentGroupIndex);\n\t\t\t\t\t}\n\n\t\t\t\t\t$$invalidate(12, groups$1 = groups);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*rawSearchText*/ 4) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Handle user input on the search input\n\t\t\t//\n\t\t\t{\n\t\t\t\trIC(() => {\n\t\t\t\t\t$$invalidate(45, searchText = (rawSearchText || '').trim()); // defer to avoid input delays, plus we can trim here\n\t\t\t\t\t$$invalidate(5, activeSearchItem = -1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144) {\n\t\t\t//\n\t\t\t// Update the current group based on the currentGroupIndex\n\t\t\t//\n\t\t\t$$invalidate(13, currentGroup = groups$1[currentGroupIndex]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded, currentGroup*/ 24576 | $$self.$$.dirty[1] & /*searchText*/ 16384) {\n\t\t\t//\n\t\t\t// Set or update the currentEmojis. Check for invalid ZWJ renderings\n\t\t\t// (i.e. double emoji).\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updateEmojis() {\n\n\t\t\t\t\tif (!databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = []);\n\t\t\t\t\t\t$$invalidate(4, searchMode = false);\n\t\t\t\t\t} else if (searchText.length >= MIN_SEARCH_TEXT_LENGTH) {\n\t\t\t\t\t\tconst currentSearchText = searchText;\n\t\t\t\t\t\tconst newEmojis = await getEmojisBySearchQuery(currentSearchText);\n\n\t\t\t\t\t\tif (currentSearchText === searchText) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(4, searchMode = true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (currentGroup) {\n\t\t\t\t\t\tconst currentGroupId = currentGroup.id;\n\t\t\t\t\t\tconst newEmojis = await getEmojisByGroup(currentGroupId);\n\n\t\t\t\t\t\tif (currentGroupId === currentGroup.id) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(4, searchMode = false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdateEmojis();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, searchMode*/ 4112) {\n\t\t\t//\n\t\t\t// Global styles for the entire picker\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(22, pickerStyle = `\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${NUM_SKIN_TONES};`);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t//\n\t\t\t// Set or update the preferred skin tone\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updatePreferredSkinTone() {\n\t\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(8, currentSkinTone = await database.getPreferredSkinTone());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdatePreferredSkinTone();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*skinToneEmoji*/ 512) {\n\t\t\t$$invalidate(9, skinTones = Array(NUM_SKIN_TONES).fill().map((_, i) => applySkinTone(skinToneEmoji, i)));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTones, currentSkinTone*/ 768) {\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(21, skinToneButtonText = skinTones[currentSkinTone]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n, currentSkinTone*/ 257) {\n\t\t\t$$invalidate(23, skinToneButtonLabel = i18n.skinToneLabel.replace('{skinTone}', i18n.skinTones[currentSkinTone]));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the favorites emojis\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updateDefaultFavoriteEmojis() {\n\t\t\t\t\t$$invalidate(46, defaultFavoriteEmojis = (await Promise.all(MOST_COMMONLY_USED_EMOJI.map(unicode => database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean)); // filter because in Jest tests we don't have all the emoji in the DB\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateDefaultFavoriteEmojis();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database, numColumns, defaultFavoriteEmojis*/ 98560) {\n\t\t\t{\n\t\t\t\tasync function updateFavorites() {\n\t\t\t\t\tconst dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n\t\t\t\t\tconst favorites = await summarizeEmojis(uniqBy([...dbFavorites, ...defaultFavoriteEmojis], _ => _.unicode || _.name).slice(0, numColumns));\n\t\t\t\t\t$$invalidate(10, currentFavorites = favorites);\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded && defaultFavoriteEmojis) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateFavorites();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, tabpanelElement*/ 10 | $$self.$$.dirty[1] & /*emojiVersion*/ 4096) {\n\t\t\t// Some emojis have their ligatures rendered as two or more consecutive emojis\n\t\t\t// We want to treat these the same as unsupported emojis, so we compare their\n\t\t\t// widths against the baseline widths and remove them as necessary\n\t\t\t{\n\t\t\t\tconst zwjEmojisToCheck = currentEmojis.filter(emoji => emoji.unicode).filter(emoji => hasZwj(emoji) && !supportedZwjEmojis.has(emoji.unicode)); // filter custom emoji\n\n\t\t\t\tif (!emojiVersion && zwjEmojisToCheck.length) {\n\t\t\t\t\t// render now, check their length later\n\t\t\t\t\trAF(() => checkZwjSupportAndUpdate(zwjEmojisToCheck));\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(1, currentEmojis = emojiVersion\n\t\t\t\t\t? currentEmojis\n\t\t\t\t\t: currentEmojis.filter(isZwjSupported));\n\n\t\t\t\t\t// Reset scroll top to 0 when emojis change\n\t\t\t\t\trAF(() => resetScrollTopIfPossible(tabpanelElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, currentFavorites*/ 1026 | $$self.$$.dirty[1] & /*initialLoad*/ 8192) {\n\t\t\t{\n\t\t\t\t// consider initialLoad to be complete when the first tabpanel and favorites are rendered\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (\"production\" !== 'production' || false) {\n\t\t\t\t\tif (currentEmojis.length && currentFavorites.length && initialLoad) {\n\t\t\t\t\t\t$$invalidate(44, initialLoad = false);\n\t\t\t\t\t\trequestPostAnimationFrame(() => (void 0));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*searchMode, currentEmojis*/ 18 | $$self.$$.dirty[1] & /*customCategorySorting*/ 2048) {\n\t\t\t//\n\t\t\t// Derive currentEmojisWithCategories from currentEmojis. This is always done even if there\n\t\t\t// are no categories, because it's just easier to code the HTML this way.\n\t\t\t//\n\t\t\t{\n\t\t\t\tfunction calculateCurrentEmojisWithCategories() {\n\t\t\t\t\tif (searchMode) {\n\t\t\t\t\t\treturn [{ category: '', emojis: currentEmojis }];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst categoriesToEmoji = new Map();\n\n\t\t\t\t\tfor (const emoji of currentEmojis) {\n\t\t\t\t\t\tconst category = emoji.category || '';\n\t\t\t\t\t\tlet emojis = categoriesToEmoji.get(category);\n\n\t\t\t\t\t\tif (!emojis) {\n\t\t\t\t\t\t\temojis = [];\n\t\t\t\t\t\t\tcategoriesToEmoji.set(category, emojis);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\temojis.push(emoji);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [...categoriesToEmoji.entries()].map(([category, emojis]) => ({ category, emojis })).sort((a, b) => customCategorySorting(a.category, b.category));\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t$$invalidate(15, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*activeSearchItem, currentEmojis*/ 34) {\n\t\t\t//\n\t\t\t// Handle active search item (i.e. pressing up or down while searching)\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(26, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTonePickerExpanded, skinToneDropdown*/ 192) {\n\t\t\t// To make the animation nicer, change the z-index of the skintone picker button\n\t\t\t// *after* the animation has played. This makes it appear that the picker box\n\t\t\t// is expanding \"below\" the button\n\t\t\t{\n\t\t\t\tif (skinTonePickerExpanded) {\n\t\t\t\t\tskinToneDropdown.addEventListener(\n\t\t\t\t\t\t'transitionend',\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t$$invalidate(19, skinTonePickerExpandedAfterAnimation = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(19, skinTonePickerExpandedAfterAnimation = false); // eslint-disable-line no-unused-vars\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\ti18n,\n\t\tcurrentEmojis,\n\t\trawSearchText,\n\t\ttabpanelElement,\n\t\tsearchMode,\n\t\tactiveSearchItem,\n\t\tskinTonePickerExpanded,\n\t\tskinToneDropdown,\n\t\tcurrentSkinTone,\n\t\tskinTones,\n\t\tcurrentFavorites,\n\t\tcurrentGroupIndex,\n\t\tgroups$1,\n\t\tcurrentGroup,\n\t\tdatabaseLoaded,\n\t\tcurrentEmojisWithCategories,\n\t\trootElement,\n\t\tbaselineEmoji,\n\t\tmessage,\n\t\tskinTonePickerExpandedAfterAnimation,\n\t\tactiveSkinTone,\n\t\tskinToneButtonText,\n\t\tpickerStyle,\n\t\tskinToneButtonLabel,\n\t\tisRtl,\n\t\tscrollbarWidth,\n\t\tactiveSearchItemId,\n\t\tunicodeWithSkin,\n\t\tlabelWithSkin,\n\t\tcalculateEmojiGridStyle,\n\t\tonSearchKeydown,\n\t\tonNavClick,\n\t\tonNavKeydown,\n\t\tonEmojiClick,\n\t\tonSkinToneOptionsClick,\n\t\tonClickSkinToneButton,\n\t\tonSkinToneOptionsKeydown,\n\t\tonSkinToneOptionsKeyup,\n\t\tonSkinToneOptionsFocusOut,\n\t\tdatabase,\n\t\tskinToneEmoji,\n\t\tcustomEmoji,\n\t\tcustomCategorySorting,\n\t\temojiVersion,\n\t\tinitialLoad,\n\t\tsearchText,\n\t\tdefaultFavoriteEmojis,\n\t\tnumColumns,\n\t\tinput_input_handler,\n\t\tdiv3_binding,\n\t\tclick_handler,\n\t\tdiv10_binding,\n\t\tbutton1_binding,\n\t\tsection_binding\n\t];\n}\n\nclass Picker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance,\n\t\t\tcreate_fragment,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tskinToneEmoji: 40,\n\t\t\t\ti18n: 0,\n\t\t\t\tdatabase: 39,\n\t\t\t\tcustomEmoji: 41,\n\t\t\t\tcustomCategorySorting: 42,\n\t\t\t\temojiVersion: 43\n\t\t\t},\n\t\t\tnull,\n\t\t\t[-1, -1, -1]\n\t\t);\n\t}\n}\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json';\nconst DEFAULT_LOCALE = 'en';\n\nvar enI18n = {\n  categoriesLabel: 'Categories',\n  emojiUnsupportedMessage: 'Your browser does not support color emoji.',\n  favoritesLabel: 'Favorites',\n  loadingMessage: 'Loading',\n  networkErrorMessage: 'Could not load emoji.',\n  regionLabel: 'Emoji picker',\n  searchDescription: 'When search results are available, press up or down to select and enter to choose.',\n  searchLabel: 'Search',\n  searchResultsLabel: 'Search results',\n  skinToneDescription: 'When expanded, press up or down to select and enter to choose.',\n  skinToneLabel: 'Choose a skin tone (currently {skinTone})',\n  skinTonesLabel: 'Skin tones',\n  skinTones: [\n    'Default',\n    'Light',\n    'Medium-Light',\n    'Medium',\n    'Medium-Dark',\n    'Dark'\n  ],\n  categories: {\n    custom: 'Custom',\n    'smileys-emotion': 'Smileys and emoticons',\n    'people-body': 'People and body',\n    'animals-nature': 'Animals and nature',\n    'food-drink': 'Food and drink',\n    'travel-places': 'Travel and places',\n    activities: 'Activities',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags'\n  }\n};\n\nconst PROPS = [\n  'customEmoji',\n  'customCategorySorting',\n  'database',\n  'dataSource',\n  'i18n',\n  'locale',\n  'skinToneEmoji',\n  'emojiVersion'\n];\n\n// Styles injected ourselves, so we can declare the FONT_FAMILY variable in one place\nconst EXTRA_STYLES = `:host{--emoji-font-family:${FONT_FAMILY}}`;\n\nclass PickerElement extends HTMLElement {\n  constructor (props) {\n    super();\n    this.attachShadow({ mode: 'open' });\n    const style = document.createElement('style');\n    style.textContent = \":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}\" + EXTRA_STYLES;\n    this.shadowRoot.appendChild(style);\n    this._ctx = {\n      // Set defaults\n      locale: DEFAULT_LOCALE,\n      dataSource: DEFAULT_DATA_SOURCE,\n      skinToneEmoji: DEFAULT_SKIN_TONE_EMOJI,\n      customCategorySorting: DEFAULT_CATEGORY_SORTING,\n      customEmoji: null,\n      i18n: enI18n,\n      emojiVersion: null,\n      ...props\n    };\n    // Handle properties set before the element was upgraded\n    for (const prop of PROPS) {\n      if (prop !== 'database' && Object.prototype.hasOwnProperty.call(this, prop)) {\n        this._ctx[prop] = this[prop];\n        delete this[prop];\n      }\n    }\n    this._dbFlush(); // wait for a flush before creating the db, in case the user calls e.g. a setter or setAttribute\n  }\n\n  connectedCallback () {\n    // The _cmp may be defined if the component was immediately disconnected and then reconnected. In that case,\n    // do nothing (preserve the state)\n    if (!this._cmp) {\n      this._cmp = new Picker({\n        target: this.shadowRoot,\n        props: this._ctx\n      });\n    }\n  }\n\n  disconnectedCallback () {\n    // Check in a microtask if the element is still connected. If so, treat this as a \"move\" rather than a disconnect\n    // Inspired by Vue: https://vuejs.org/guide/extras/web-components.html#building-custom-elements-with-vue\n    Promise.resolve().then(() => {\n      // this._cmp may be defined if connect-disconnect-connect-disconnect occurs synchronously\n      if (!this.isConnected && this._cmp) {\n        this._cmp.$destroy();\n        this._cmp = undefined;\n\n        const { database } = this._ctx;\n        database.close()\n          // only happens if the database failed to load in the first place, so we don't care\n          .catch(err => console.error(err));\n      }\n    });\n  }\n\n  static get observedAttributes () {\n    return ['locale', 'data-source', 'skin-tone-emoji', 'emoji-version'] // complex objects aren't supported, also use kebab-case\n  }\n\n  attributeChangedCallback (attrName, oldValue, newValue) {\n    this._set(\n      // convert from kebab-case to camelcase\n      // see https://github.com/sveltejs/svelte/issues/3852#issuecomment-665037015\n      attrName.replace(/-([a-z])/g, (_, up) => up.toUpperCase()),\n      // convert string attribute to float if necessary\n      attrName === 'emoji-version' ? parseFloat(newValue) : newValue\n    );\n  }\n\n  _set (prop, newValue) {\n    this._ctx[prop] = newValue;\n    if (this._cmp) {\n      this._cmp.$set({ [prop]: newValue });\n    }\n    if (['locale', 'dataSource'].includes(prop)) {\n      this._dbFlush();\n    }\n  }\n\n  _dbCreate () {\n    const { locale, dataSource, database } = this._ctx;\n    // only create a new database if we really need to\n    if (!database || database.locale !== locale || database.dataSource !== dataSource) {\n      this._set('database', new Database({ locale, dataSource }));\n    }\n  }\n\n  // Update the Database in one microtask if the locale/dataSource change. We do one microtask\n  // so we don't create two Databases if e.g. both the locale and the dataSource change\n  _dbFlush () {\n    Promise.resolve().then(() => (\n      this._dbCreate()\n    ));\n  }\n}\n\nconst definitions = {};\n\nfor (const prop of PROPS) {\n  definitions[prop] = {\n    get () {\n      if (prop === 'database') {\n        // in rare cases, the microtask may not be flushed yet, so we need to instantiate the DB\n        // now if the user is asking for it\n        this._dbCreate();\n      }\n      return this._ctx[prop]\n    },\n    set (val) {\n      if (prop === 'database') {\n        throw new Error('database is read-only')\n      }\n      this._set(prop, val);\n    }\n  };\n}\n\nObject.defineProperties(PickerElement.prototype, definitions);\n\n/* istanbul ignore else */\nif (!customElements.get('emoji-picker')) { // if already defined, do nothing (e.g. same script imported twice)\n  customElements.define('emoji-picker', PickerElement);\n}\n\nexport { PickerElement as default };\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","globals","window","globalThis","global","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","text","data","createTextNode","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","current_component","set_current_component","component","onMount","Error","get_current_component","$$","on_mount","push","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","length","update","e","pop","i","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","destroy_block","block","lookup","d","delete","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","next","get_context","o","n","old_indexes","new_blocks","new_lookup","Map","deltas","updates","child_ctx","get","c","set","Math","abs","will_move","did_move","local","transition_in","m","first","new_block","old_block","new_key","old_key","destroy_component","detaching","filtered","targets","indexOf","flush_render_callbacks","on_destroy","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","callbacks","skip_bound","root","ready","ret","rest","customElement","new_on_destroy","map","filter","mount_component","undefined","SvelteComponent","$destroy","this","$on","type","index","splice","$set","$$props","obj","$$set","keys","allGroups","id","emoji","groups","slice","customGroup","rIC","requestIdleCallback","setTimeout","hasZwj","unicode","includes","versionsAndTestEmoji","MOST_COMMONLY_USED_EMOJI","FONT_FAMILY","DEFAULT_CATEGORY_SORTING","getTextFeature","color","canvas","width","height","getContext","textBaseline","font","fillStyle","scale","fillText","getImageData","compareFeatures","feature1","feature2","feature1Str","join","startsWith","testColorEmojiSupported","promise","detectEmojiSupportLevel","entries","version","determineEmojiSupportLevel","supportedZwjEmojis","VARIATION_SELECTOR","SKINTONE_MODIFIER","ZWJ","LIGHT_SKIN_TONE","LIGHT_SKIN_TONE_MODIFIER","halt","preventDefault","stopPropagation","incrementOrDecrement","decrement","val","arr","uniqBy","func","res","item","rAF","requestAnimationFrame","baselineEmojiWidth","resizeObserverSupported","ResizeObserver","calculateTextWidth","range","createRange","selectNode","firstChild","getBoundingClientRect","Map_1","get_each_context","get_each_context_1","get_each_context_2","get_each_context_3","get_each_context_4","create_each_block_4","key_1","div","t","div_id_value","div_class_value","div_aria_selected_value","div_title_value","div_aria_label_value","t_value","skinTones","new_ctx","create_each_block_3","button","button_aria_controls_value","button_aria_label_value","button_aria_selected_value","button_title_value","mounted","dispose","click_handler","categories","create_else_block_1","img","img_src_value","src","create_if_block_1","create_each_block_2","button_role_value","button_class_value","button_id_value","select_block_type","current_block_type","if_block","title","create_each_block_1","div0","div0_id_value","div0_class_value","div1","div1_role_value","div1_aria_labelledby_value","div1_id_value","searchResultsLabel","category","custom","each_blocks","each_1_lookup","each_value_2","emojis","create_else_block","create_if_block","select_block_type_1","section","div4","input_placeholder_value","input_aria_expanded_value","input_aria_activedescendant_value","label","t0","span0","t1","div2","button0","t2","button0_class_value","div2_class_value","span1","t3","div3","div3_class_value","div3_aria_label_value","div3_aria_activedescendant_value","div3_aria_hidden_value","div5","div5_aria_label_value","div7","div6","div8","t4","div8_class_value","div10","div9","div10_class_value","div10_role_value","div10_aria_label_value","div10_id_value","div11","div11_class_value","div11_aria_label_value","button1","section_aria_label_value","t0_value","searchLabel","t1_value","searchDescription","t3_value","skinToneDescription","each_blocks_3","each0_lookup","each_blocks_2","each1_lookup","each_blocks_1","each2_lookup","each3_lookup","each_value_4","each_value_3","get_key_1","each_value_1","get_key_2","each_value","get_key_3","textContent","skinTonesLabel","categoriesLabel","favoritesLabel","regionLabel","action_result","call","$$self","$$invalidate","rootElement","baselineEmoji","tabpanelElement","message","skinToneDropdown","skinToneButtonText","pickerStyle","defaultFavoriteEmojis","currentGroup","activeSearchItemId","skinToneEmoji","i18n","database","customEmoji","customCategorySorting","emojiVersion","currentEmojis","currentEmojisWithCategories","rawSearchText","searchText","searchMode","activeSearchItem","skinTonePickerExpanded","skinTonePickerExpandedAfterAnimation","currentSkinTone","activeSkinTone","skinToneButtonLabel","currentFavorites","numColumns","isRtl","scrollbarWidth","currentGroupIndex","groups$1","databaseLoaded","focus","getRootNode","getElementById","fireEvent","detail","dispatchEvent","CustomEvent","bubbles","composed","unicodeWithSkin","skins","checkZwjSupportAndUpdate","zwjEmojisToCheck","rootNode","emojiToDomNode","emojiWidth","supported","checkZwjSupport","isZwjSupported","async","filterEmojisByVersion","emojiSupportLevel","summarizeEmojis","toSimpleSkinsMap","skin","tone","shortcodes","summarizeEmojisForUI","onNavClick","group","findIndex","_","clickEmoji","unicodeOrName","getEmojiByUnicodeOrName","emojiSummary","find","skinTonedUnicode","incrementFavoriteEmojiCount","skinTone","changeSkinTone","setPreferredSkinTone","level","emojiUnsupportedMessage","handleDatabaseLoading","showingLoadingMessage","timeoutHandle","loadingMessage","err","console","error","networkErrorMessage","clearTimeout","trim","updateEmojis","currentSearchText","newEmojis","query","getEmojiBySearchQuery","getEmojisBySearchQuery","currentGroupId","getEmojiByGroup","getEmojisByGroup","updatePreferredSkinTone","getPreferredSkinTone","Array","str","zwjIndex","substring","String","fromCodePoint","endsWith","applySkinTone","skinToneLabel","replace","updateDefaultFavoriteEmojis","all","Boolean","updateFavorites","dbFavorites","getTopFavoriteEmoji","favorites","scrollTop","resetScrollTopIfPossible","calculateCurrentEmojisWithCategories","categoriesToEmoji","sort","once","uniq","onUpdate","resizeObserver","contentRect","observe","disconnect","calculateWidth","getComputedStyle","newNumColumns","parseInt","getPropertyValue","newIsRtl","newScrollbarWidth","parentElement","goToNextOrPrevious","previous","doFocus","el","previousSibling","nextSibling","lastChild","classList","contains","match","changeActiveSkinTone","nextSkinTone","relatedTarget","$$value","Picker","constructor","super","enI18n","activities","objects","symbols","flags","PROPS","EXTRA_STYLES","PickerElement","HTMLElement","attachShadow","mode","shadowRoot","_ctx","locale","dataSource","prop","prototype","hasOwnProperty","_dbFlush","connectedCallback","_cmp","disconnectedCallback","isConnected","close","catch","observedAttributes","attributeChangedCallback","attrName","oldValue","newValue","_set","up","toUpperCase","parseFloat","_dbCreate","definitions","defineProperties","customElements","define"],"sourceRoot":""}